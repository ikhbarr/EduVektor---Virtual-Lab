var Fz=Object.defineProperty;var zz=(t,e,n)=>e in t?Fz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fv=(t,e,n)=>zz(t,typeof e!="symbol"?e+"":e,n);function Bz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ZT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ao(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eI={exports:{}},qg={},tI={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=Symbol.for("react.element"),Uz=Symbol.for("react.portal"),Vz=Symbol.for("react.fragment"),qz=Symbol.for("react.strict_mode"),Hz=Symbol.for("react.profiler"),Wz=Symbol.for("react.provider"),Kz=Symbol.for("react.context"),Gz=Symbol.for("react.forward_ref"),Yz=Symbol.for("react.suspense"),Xz=Symbol.for("react.memo"),Qz=Symbol.for("react.lazy"),tk=Symbol.iterator;function Jz(t){return t===null||typeof t!="object"?null:(t=tk&&t[tk]||t["@@iterator"],typeof t=="function"?t:null)}var nI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rI=Object.assign,iI={};function Rc(t,e,n){this.props=t,this.context=e,this.refs=iI,this.updater=n||nI}Rc.prototype.isReactComponent={};Rc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sI(){}sI.prototype=Rc.prototype;function Yb(t,e,n){this.props=t,this.context=e,this.refs=iI,this.updater=n||nI}var Xb=Yb.prototype=new sI;Xb.constructor=Yb;rI(Xb,Rc.prototype);Xb.isPureReactComponent=!0;var nk=Array.isArray,aI=Object.prototype.hasOwnProperty,Qb={current:null},oI={key:!0,ref:!0,__self:!0,__source:!0};function lI(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)aI.call(e,r)&&!oI.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:O0,type:t,key:s,ref:a,props:i,_owner:Qb.current}}function Zz(t,e){return{$$typeof:O0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jb(t){return typeof t=="object"&&t!==null&&t.$$typeof===O0}function eB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rk=/\/+/g;function zv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eB(""+t.key):e.toString(36)}function Dm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case O0:case Uz:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+zv(a,0):r,nk(i)?(n="",t!=null&&(n=t.replace(rk,"$&/")+"/"),Dm(i,e,n,"",function(c){return c})):i!=null&&(Jb(i)&&(i=Zz(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(rk,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",nk(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+zv(s,o);a+=Dm(s,e,n,l,i)}else if(l=Jz(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+zv(s,o++),a+=Dm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Uf(t,e,n){if(t==null)return t;var r=[],i=0;return Dm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xr={current:null},Rm={transition:null},nB={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:Rm,ReactCurrentOwner:Qb};function uI(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Uf,forEach:function(t,e,n){Uf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uf(t,function(){e++}),e},toArray:function(t){return Uf(t,function(e){return e})||[]},only:function(t){if(!Jb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Rc;Ve.Fragment=Vz;Ve.Profiler=Hz;Ve.PureComponent=Yb;Ve.StrictMode=qz;Ve.Suspense=Yz;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nB;Ve.act=uI;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rI({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Qb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)aI.call(e,l)&&!oI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:O0,type:t.type,key:i,ref:s,props:r,_owner:a}};Ve.createContext=function(t){return t={$$typeof:Kz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wz,_context:t},t.Consumer=t};Ve.createElement=lI;Ve.createFactory=function(t){var e=lI.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:Gz,render:t}};Ve.isValidElement=Jb;Ve.lazy=function(t){return{$$typeof:Qz,_payload:{_status:-1,_result:t},_init:tB}};Ve.memo=function(t,e){return{$$typeof:Xz,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=Rm.transition;Rm.transition={};try{t()}finally{Rm.transition=e}};Ve.unstable_act=uI;Ve.useCallback=function(t,e){return xr.current.useCallback(t,e)};Ve.useContext=function(t){return xr.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return xr.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return xr.current.useEffect(t,e)};Ve.useId=function(){return xr.current.useId()};Ve.useImperativeHandle=function(t,e,n){return xr.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return xr.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return xr.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return xr.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return xr.current.useReducer(t,e,n)};Ve.useRef=function(t){return xr.current.useRef(t)};Ve.useState=function(t){return xr.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return xr.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return xr.current.useTransition()};Ve.version="18.3.1";tI.exports=Ve;var I=tI.exports;const Zb=Ao(I),cI=Bz({__proto__:null,default:Zb},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rB=I,iB=Symbol.for("react.element"),sB=Symbol.for("react.fragment"),aB=Object.prototype.hasOwnProperty,oB=rB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lB={key:!0,ref:!0,__self:!0,__source:!0};function hI(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)aB.call(e,r)&&!lB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iB,type:t,key:s,ref:a,props:i,_owner:oB.current}}qg.Fragment=sB;qg.jsx=hI;qg.jsxs=hI;eI.exports=qg;var T=eI.exports,c2={},dI={exports:{}},oi={},fI={exports:{}},mI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(he,we){var ee=he.length;he.push(we);e:for(;0<ee;){var Ue=ee-1>>>1,He=he[Ue];if(0<i(He,we))he[Ue]=we,he[ee]=He,ee=Ue;else break e}}function n(he){return he.length===0?null:he[0]}function r(he){if(he.length===0)return null;var we=he[0],ee=he.pop();if(ee!==we){he[0]=ee;e:for(var Ue=0,He=he.length,bn=He>>>1;Ue<bn;){var jn=2*(Ue+1)-1,ht=he[jn],Br=jn+1,es=he[Br];if(0>i(ht,ee))Br<He&&0>i(es,ht)?(he[Ue]=es,he[Br]=ee,Ue=Br):(he[Ue]=ht,he[jn]=ee,Ue=jn);else if(Br<He&&0>i(es,ee))he[Ue]=es,he[Br]=ee,Ue=Br;else break e}}return we}function i(he,we){var ee=he.sortIndex-we.sortIndex;return ee!==0?ee:he.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,m=null,g=3,y=!1,b=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(he){for(var we=n(c);we!==null;){if(we.callback===null)r(c);else if(we.startTime<=he)r(c),we.sortIndex=we.expirationTime,e(l,we);else break;we=n(c)}}function D(he){if(k=!1,C(he),!b)if(n(l)!==null)b=!0,Te(R);else{var we=n(c);we!==null&&Ie(D,we.startTime-he)}}function R(he,we){b=!1,k&&(k=!1,_(G),G=-1),y=!0;var ee=g;try{for(C(we),m=n(l);m!==null&&(!(m.expirationTime>we)||he&&!ne());){var Ue=m.callback;if(typeof Ue=="function"){m.callback=null,g=m.priorityLevel;var He=Ue(m.expirationTime<=we);we=t.unstable_now(),typeof He=="function"?m.callback=He:m===n(l)&&r(l),C(we)}else r(l);m=n(l)}if(m!==null)var bn=!0;else{var jn=n(c);jn!==null&&Ie(D,jn.startTime-we),bn=!1}return bn}finally{m=null,g=ee,y=!1}}var L=!1,U=null,G=-1,Z=5,J=-1;function ne(){return!(t.unstable_now()-J<Z)}function le(){if(U!==null){var he=t.unstable_now();J=he;var we=!0;try{we=U(!0,he)}finally{we?q():(L=!1,U=null)}}else L=!1}var q;if(typeof A=="function")q=function(){A(le)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ge=fe.port2;fe.port1.onmessage=le,q=function(){ge.postMessage(null)}}else q=function(){x(le,0)};function Te(he){U=he,L||(L=!0,q())}function Ie(he,we){G=x(function(){he(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,Te(R))},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(he){switch(g){case 1:case 2:case 3:var we=3;break;default:we=g}var ee=g;g=we;try{return he()}finally{g=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(he,we){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var ee=g;g=he;try{return we()}finally{g=ee}},t.unstable_scheduleCallback=function(he,we,ee){var Ue=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ue+ee:Ue):ee=Ue,he){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ee+He,he={id:d++,callback:we,priorityLevel:he,startTime:ee,expirationTime:He,sortIndex:-1},ee>Ue?(he.sortIndex=ee,e(c,he),n(l)===null&&he===n(c)&&(k?(_(G),G=-1):k=!0,Ie(D,ee-Ue))):(he.sortIndex=He,e(l,he),b||y||(b=!0,Te(R))),he},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(he){var we=g;return function(){var ee=g;g=we;try{return he.apply(this,arguments)}finally{g=ee}}}})(mI);fI.exports=mI;var uB=fI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cB=I,ni=uB;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pI=new Set,Id={};function Zl(t,e){rc(t,e),rc(t+"Capture",e)}function rc(t,e){for(Id[t]=e,t=0;t<e.length;t++)pI.add(e[t])}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h2=Object.prototype.hasOwnProperty,hB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ik={},sk={};function dB(t){return h2.call(sk,t)?!0:h2.call(ik,t)?!1:hB.test(t)?sk[t]=!0:(ik[t]=!0,!1)}function fB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mB(t,e,n,r){if(e===null||typeof e>"u"||fB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var e5=/[\-:]([a-z])/g;function t5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(e5,t5);Kn[e]=new kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(e5,t5);Kn[e]=new kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(e5,t5);Kn[e]=new kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new kr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function n5(t,e,n,r){var i=Kn.hasOwnProperty(e)?Kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mB(e,n,i,r)&&(n=null),r||i===null?dB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pa=cB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),_u=Symbol.for("react.portal"),Tu=Symbol.for("react.fragment"),r5=Symbol.for("react.strict_mode"),d2=Symbol.for("react.profiler"),gI=Symbol.for("react.provider"),yI=Symbol.for("react.context"),i5=Symbol.for("react.forward_ref"),f2=Symbol.for("react.suspense"),m2=Symbol.for("react.suspense_list"),s5=Symbol.for("react.memo"),za=Symbol.for("react.lazy"),vI=Symbol.for("react.offscreen"),ak=Symbol.iterator;function bh(t){return t===null||typeof t!="object"?null:(t=ak&&t[ak]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Object.assign,Bv;function Kh(t){if(Bv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bv=e&&e[1]||""}return`
`+Bv+t}var Uv=!1;function Vv(t,e){if(!t||Uv)return"";Uv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Uv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kh(t):""}function pB(t){switch(t.tag){case 5:return Kh(t.type);case 16:return Kh("Lazy");case 13:return Kh("Suspense");case 19:return Kh("SuspenseList");case 0:case 2:case 15:return t=Vv(t.type,!1),t;case 11:return t=Vv(t.type.render,!1),t;case 1:return t=Vv(t.type,!0),t;default:return""}}function p2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tu:return"Fragment";case _u:return"Portal";case d2:return"Profiler";case r5:return"StrictMode";case f2:return"Suspense";case m2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yI:return(t.displayName||"Context")+".Consumer";case gI:return(t._context.displayName||"Context")+".Provider";case i5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case s5:return e=t.displayName||null,e!==null?e:p2(t.type)||"Memo";case za:e=t._payload,t=t._init;try{return p2(t(e))}catch{}}return null}function gB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p2(e);case 8:return e===r5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ho(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yB(t){var e=wI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qf(t){t._valueTracker||(t._valueTracker=yB(t))}function bI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function op(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function g2(t,e){var n=e.checked;return Bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ok(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ho(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xI(t,e){e=e.checked,e!=null&&n5(t,"checked",e,!1)}function y2(t,e){xI(t,e);var n=ho(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?v2(t,e.type,n):e.hasOwnProperty("defaultValue")&&v2(t,e.type,ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function v2(t,e,n){(e!=="number"||op(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gh=Array.isArray;function Bu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ho(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function w2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Gh(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ho(n)}}function kI(t,e){var n=ho(e.value),r=ho(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ck(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function SI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hf,EI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hf=Hf||document.createElement("div"),Hf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ad(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vB=["Webkit","ms","Moz","O"];Object.keys(ad).forEach(function(t){vB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ad[e]=ad[t]})});function _I(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ad.hasOwnProperty(t)&&ad[t]?(""+e).trim():e+"px"}function TI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_I(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wB=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x2(t,e){if(e){if(wB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function k2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S2=null;function a5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var E2=null,Uu=null,Vu=null;function hk(t){if(t=D0(t)){if(typeof E2!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=Yg(e),E2(t.stateNode,t.type,e))}}function II(t){Uu?Vu?Vu.push(t):Vu=[t]:Uu=t}function AI(){if(Uu){var t=Uu,e=Vu;if(Vu=Uu=null,hk(t),e)for(t=0;t<e.length;t++)hk(e[t])}}function CI(t,e){return t(e)}function PI(){}var qv=!1;function OI(t,e,n){if(qv)return t(e,n);qv=!0;try{return CI(t,e,n)}finally{qv=!1,(Uu!==null||Vu!==null)&&(PI(),AI())}}function Cd(t,e){var n=t.stateNode;if(n===null)return null;var r=Yg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var _2=!1;if(ra)try{var xh={};Object.defineProperty(xh,"passive",{get:function(){_2=!0}}),window.addEventListener("test",xh,xh),window.removeEventListener("test",xh,xh)}catch{_2=!1}function bB(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var od=!1,lp=null,up=!1,T2=null,xB={onError:function(t){od=!0,lp=t}};function kB(t,e,n,r,i,s,a,o,l){od=!1,lp=null,bB.apply(xB,arguments)}function SB(t,e,n,r,i,s,a,o,l){if(kB.apply(this,arguments),od){if(od){var c=lp;od=!1,lp=null}else throw Error(ue(198));up||(up=!0,T2=c)}}function eu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dk(t){if(eu(t)!==t)throw Error(ue(188))}function EB(t){var e=t.alternate;if(!e){if(e=eu(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return dk(i),t;if(s===r)return dk(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function MI(t){return t=EB(t),t!==null?DI(t):null}function DI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DI(t);if(e!==null)return e;t=t.sibling}return null}var RI=ni.unstable_scheduleCallback,fk=ni.unstable_cancelCallback,_B=ni.unstable_shouldYield,TB=ni.unstable_requestPaint,Xt=ni.unstable_now,IB=ni.unstable_getCurrentPriorityLevel,o5=ni.unstable_ImmediatePriority,jI=ni.unstable_UserBlockingPriority,cp=ni.unstable_NormalPriority,AB=ni.unstable_LowPriority,LI=ni.unstable_IdlePriority,Hg=null,ws=null;function CB(t){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(Hg,t,void 0,(t.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:NB,PB=Math.log,OB=Math.LN2;function NB(t){return t>>>=0,t===0?32:31-(PB(t)/OB|0)|0}var Wf=64,Kf=4194304;function Yh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Yh(o):(s&=a,s!==0&&(r=Yh(s)))}else a=n&~i,a!==0?r=Yh(a):s!==0&&(r=Yh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wi(e),i=1<<n,r|=t[n],e&=~i;return r}function MB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Wi(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=MB(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function I2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $I(){var t=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),t}function Hv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function N0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wi(e),t[e]=n}function RB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function l5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ot=0;function FI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zI,u5,BI,UI,VI,A2=!1,Gf=[],eo=null,to=null,no=null,Pd=new Map,Od=new Map,qa=[],jB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mk(t,e){switch(t){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Od.delete(e.pointerId)}}function kh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=D0(e),e!==null&&u5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LB(t,e,n,r,i){switch(e){case"focusin":return eo=kh(eo,t,e,n,r,i),!0;case"dragenter":return to=kh(to,t,e,n,r,i),!0;case"mouseover":return no=kh(no,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pd.set(s,kh(Pd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Od.set(s,kh(Od.get(s)||null,t,e,n,r,i)),!0}return!1}function qI(t){var e=al(t.target);if(e!==null){var n=eu(e);if(n!==null){if(e=n.tag,e===13){if(e=NI(n),e!==null){t.blockedOn=e,VI(t.priority,function(){BI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=C2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);S2=r,n.target.dispatchEvent(r),S2=null}else return e=D0(n),e!==null&&u5(e),t.blockedOn=n,!1;e.shift()}return!0}function pk(t,e,n){jm(t)&&n.delete(e)}function $B(){A2=!1,eo!==null&&jm(eo)&&(eo=null),to!==null&&jm(to)&&(to=null),no!==null&&jm(no)&&(no=null),Pd.forEach(pk),Od.forEach(pk)}function Sh(t,e){t.blockedOn===e&&(t.blockedOn=null,A2||(A2=!0,ni.unstable_scheduleCallback(ni.unstable_NormalPriority,$B)))}function Nd(t){function e(i){return Sh(i,t)}if(0<Gf.length){Sh(Gf[0],t);for(var n=1;n<Gf.length;n++){var r=Gf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(eo!==null&&Sh(eo,t),to!==null&&Sh(to,t),no!==null&&Sh(no,t),Pd.forEach(e),Od.forEach(e),n=0;n<qa.length;n++)r=qa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qa.length&&(n=qa[0],n.blockedOn===null);)qI(n),n.blockedOn===null&&qa.shift()}var qu=pa.ReactCurrentBatchConfig,dp=!0;function FB(t,e,n,r){var i=ot,s=qu.transition;qu.transition=null;try{ot=1,c5(t,e,n,r)}finally{ot=i,qu.transition=s}}function zB(t,e,n,r){var i=ot,s=qu.transition;qu.transition=null;try{ot=4,c5(t,e,n,r)}finally{ot=i,qu.transition=s}}function c5(t,e,n,r){if(dp){var i=C2(t,e,n,r);if(i===null)t4(t,e,r,fp,n),mk(t,r);else if(LB(i,t,e,n,r))r.stopPropagation();else if(mk(t,r),e&4&&-1<jB.indexOf(t)){for(;i!==null;){var s=D0(i);if(s!==null&&zI(s),s=C2(t,e,n,r),s===null&&t4(t,e,r,fp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else t4(t,e,r,null,n)}}var fp=null;function C2(t,e,n,r){if(fp=null,t=a5(r),t=al(t),t!==null)if(e=eu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fp=t,null}function HI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IB()){case o5:return 1;case jI:return 4;case cp:case AB:return 16;case LI:return 536870912;default:return 16}default:return 16}}var Ya=null,h5=null,Lm=null;function WI(){if(Lm)return Lm;var t,e=h5,n=e.length,r,i="value"in Ya?Ya.value:Ya.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Lm=i.slice(t,1<r?1-r:void 0)}function $m(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yf(){return!0}function gk(){return!1}function li(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yf:gk,this.isPropagationStopped=gk,this}return Bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yf)},persist:function(){},isPersistent:Yf}),e}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d5=li(jc),M0=Bt({},jc,{view:0,detail:0}),BB=li(M0),Wv,Kv,Eh,Wg=Bt({},M0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eh&&(Eh&&t.type==="mousemove"?(Wv=t.screenX-Eh.screenX,Kv=t.screenY-Eh.screenY):Kv=Wv=0,Eh=t),Wv)},movementY:function(t){return"movementY"in t?t.movementY:Kv}}),yk=li(Wg),UB=Bt({},Wg,{dataTransfer:0}),VB=li(UB),qB=Bt({},M0,{relatedTarget:0}),Gv=li(qB),HB=Bt({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),WB=li(HB),KB=Bt({},jc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GB=li(KB),YB=Bt({},jc,{data:0}),vk=li(YB),XB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JB[t])?!!e[t]:!1}function f5(){return ZB}var eU=Bt({},M0,{key:function(t){if(t.key){var e=XB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$m(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f5,charCode:function(t){return t.type==="keypress"?$m(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$m(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tU=li(eU),nU=Bt({},Wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wk=li(nU),rU=Bt({},M0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f5}),iU=li(rU),sU=Bt({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),aU=li(sU),oU=Bt({},Wg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lU=li(oU),uU=[9,13,27,32],m5=ra&&"CompositionEvent"in window,ld=null;ra&&"documentMode"in document&&(ld=document.documentMode);var cU=ra&&"TextEvent"in window&&!ld,KI=ra&&(!m5||ld&&8<ld&&11>=ld),bk=" ",xk=!1;function GI(t,e){switch(t){case"keyup":return uU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Iu=!1;function hU(t,e){switch(t){case"compositionend":return YI(e);case"keypress":return e.which!==32?null:(xk=!0,bk);case"textInput":return t=e.data,t===bk&&xk?null:t;default:return null}}function dU(t,e){if(Iu)return t==="compositionend"||!m5&&GI(t,e)?(t=WI(),Lm=h5=Ya=null,Iu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KI&&e.locale!=="ko"?null:e.data;default:return null}}var fU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fU[t.type]:e==="textarea"}function XI(t,e,n,r){II(r),e=mp(e,"onChange"),0<e.length&&(n=new d5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ud=null,Md=null;function mU(t){oA(t,0)}function Kg(t){var e=Pu(t);if(bI(e))return t}function pU(t,e){if(t==="change")return e}var QI=!1;if(ra){var Yv;if(ra){var Xv="oninput"in document;if(!Xv){var Sk=document.createElement("div");Sk.setAttribute("oninput","return;"),Xv=typeof Sk.oninput=="function"}Yv=Xv}else Yv=!1;QI=Yv&&(!document.documentMode||9<document.documentMode)}function Ek(){ud&&(ud.detachEvent("onpropertychange",JI),Md=ud=null)}function JI(t){if(t.propertyName==="value"&&Kg(Md)){var e=[];XI(e,Md,t,a5(t)),OI(mU,e)}}function gU(t,e,n){t==="focusin"?(Ek(),ud=e,Md=n,ud.attachEvent("onpropertychange",JI)):t==="focusout"&&Ek()}function yU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kg(Md)}function vU(t,e){if(t==="click")return Kg(e)}function wU(t,e){if(t==="input"||t==="change")return Kg(e)}function bU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gi=typeof Object.is=="function"?Object.is:bU;function Dd(t,e){if(Gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h2.call(e,i)||!Gi(t[i],e[i]))return!1}return!0}function _k(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tk(t,e){var n=_k(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_k(n)}}function ZI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eA(){for(var t=window,e=op();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=op(t.document)}return e}function p5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xU(t){var e=eA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZI(n.ownerDocument.documentElement,n)){if(r!==null&&p5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Tk(n,s);var a=Tk(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kU=ra&&"documentMode"in document&&11>=document.documentMode,Au=null,P2=null,cd=null,O2=!1;function Ik(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;O2||Au==null||Au!==op(r)||(r=Au,"selectionStart"in r&&p5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cd&&Dd(cd,r)||(cd=r,r=mp(P2,"onSelect"),0<r.length&&(e=new d5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Au)))}function Xf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cu={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},Qv={},tA={};ra&&(tA=document.createElement("div").style,"AnimationEvent"in window||(delete Cu.animationend.animation,delete Cu.animationiteration.animation,delete Cu.animationstart.animation),"TransitionEvent"in window||delete Cu.transitionend.transition);function Gg(t){if(Qv[t])return Qv[t];if(!Cu[t])return t;var e=Cu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tA)return Qv[t]=e[n];return t}var nA=Gg("animationend"),rA=Gg("animationiteration"),iA=Gg("animationstart"),sA=Gg("transitionend"),aA=new Map,Ak="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(t,e){aA.set(t,e),Zl(e,[t])}for(var Jv=0;Jv<Ak.length;Jv++){var Zv=Ak[Jv],SU=Zv.toLowerCase(),EU=Zv[0].toUpperCase()+Zv.slice(1);Co(SU,"on"+EU)}Co(nA,"onAnimationEnd");Co(rA,"onAnimationIteration");Co(iA,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(sA,"onTransitionEnd");rc("onMouseEnter",["mouseout","mouseover"]);rc("onMouseLeave",["mouseout","mouseover"]);rc("onPointerEnter",["pointerout","pointerover"]);rc("onPointerLeave",["pointerout","pointerover"]);Zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_U=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xh));function Ck(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SB(r,e,void 0,t),t.currentTarget=null}function oA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ck(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ck(i,o,c),s=l}}}if(up)throw t=T2,up=!1,T2=null,t}function bt(t,e){var n=e[j2];n===void 0&&(n=e[j2]=new Set);var r=t+"__bubble";n.has(r)||(lA(e,t,2,!1),n.add(r))}function e4(t,e,n){var r=0;e&&(r|=4),lA(n,t,r,e)}var Qf="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[Qf]){t[Qf]=!0,pI.forEach(function(n){n!=="selectionchange"&&(_U.has(n)||e4(n,!1,t),e4(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qf]||(e[Qf]=!0,e4("selectionchange",!1,e))}}function lA(t,e,n,r){switch(HI(e)){case 1:var i=FB;break;case 4:i=zB;break;default:i=c5}n=i.bind(null,e,n,t),i=void 0,!_2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function t4(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=al(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}OI(function(){var c=s,d=a5(n),m=[];e:{var g=aA.get(t);if(g!==void 0){var y=d5,b=t;switch(t){case"keypress":if($m(n)===0)break e;case"keydown":case"keyup":y=tU;break;case"focusin":b="focus",y=Gv;break;case"focusout":b="blur",y=Gv;break;case"beforeblur":case"afterblur":y=Gv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=VB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=iU;break;case nA:case rA:case iA:y=WB;break;case sA:y=aU;break;case"scroll":y=BB;break;case"wheel":y=lU;break;case"copy":case"cut":case"paste":y=GB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=wk}var k=(e&4)!==0,x=!k&&t==="scroll",_=k?g!==null?g+"Capture":null:g;k=[];for(var A=c,C;A!==null;){C=A;var D=C.stateNode;if(C.tag===5&&D!==null&&(C=D,_!==null&&(D=Cd(A,_),D!=null&&k.push(jd(A,D,C)))),x)break;A=A.return}0<k.length&&(g=new y(g,b,null,n,d),m.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==S2&&(b=n.relatedTarget||n.fromElement)&&(al(b)||b[ia]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=c,b=b?al(b):null,b!==null&&(x=eu(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=c),y!==b)){if(k=yk,D="onMouseLeave",_="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(k=wk,D="onPointerLeave",_="onPointerEnter",A="pointer"),x=y==null?g:Pu(y),C=b==null?g:Pu(b),g=new k(D,A+"leave",y,n,d),g.target=x,g.relatedTarget=C,D=null,al(d)===c&&(k=new k(_,A+"enter",b,n,d),k.target=C,k.relatedTarget=x,D=k),x=D,y&&b)t:{for(k=y,_=b,A=0,C=k;C;C=pu(C))A++;for(C=0,D=_;D;D=pu(D))C++;for(;0<A-C;)k=pu(k),A--;for(;0<C-A;)_=pu(_),C--;for(;A--;){if(k===_||_!==null&&k===_.alternate)break t;k=pu(k),_=pu(_)}k=null}else k=null;y!==null&&Pk(m,g,y,k,!1),b!==null&&x!==null&&Pk(m,x,b,k,!0)}}e:{if(g=c?Pu(c):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var R=pU;else if(kk(g))if(QI)R=wU;else{R=yU;var L=gU}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(R=vU);if(R&&(R=R(t,c))){XI(m,R,n,d);break e}L&&L(t,g,c),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&v2(g,"number",g.value)}switch(L=c?Pu(c):window,t){case"focusin":(kk(L)||L.contentEditable==="true")&&(Au=L,P2=c,cd=null);break;case"focusout":cd=P2=Au=null;break;case"mousedown":O2=!0;break;case"contextmenu":case"mouseup":case"dragend":O2=!1,Ik(m,n,d);break;case"selectionchange":if(kU)break;case"keydown":case"keyup":Ik(m,n,d)}var U;if(m5)e:{switch(t){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else Iu?GI(t,n)&&(G="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(KI&&n.locale!=="ko"&&(Iu||G!=="onCompositionStart"?G==="onCompositionEnd"&&Iu&&(U=WI()):(Ya=d,h5="value"in Ya?Ya.value:Ya.textContent,Iu=!0)),L=mp(c,G),0<L.length&&(G=new vk(G,t,null,n,d),m.push({event:G,listeners:L}),U?G.data=U:(U=YI(n),U!==null&&(G.data=U)))),(U=cU?hU(t,n):dU(t,n))&&(c=mp(c,"onBeforeInput"),0<c.length&&(d=new vk("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=U))}oA(m,e)})}function jd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cd(t,n),s!=null&&r.unshift(jd(t,s,i)),s=Cd(t,e),s!=null&&r.push(jd(t,s,i))),t=t.return}return r}function pu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pk(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Cd(n,s),l!=null&&a.unshift(jd(n,l,o))):i||(l=Cd(n,s),l!=null&&a.push(jd(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var TU=/\r\n?/g,IU=/\u0000|\uFFFD/g;function Ok(t){return(typeof t=="string"?t:""+t).replace(TU,`
`).replace(IU,"")}function Jf(t,e,n){if(e=Ok(e),Ok(t)!==e&&n)throw Error(ue(425))}function pp(){}var N2=null,M2=null;function D2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var R2=typeof setTimeout=="function"?setTimeout:void 0,AU=typeof clearTimeout=="function"?clearTimeout:void 0,Nk=typeof Promise=="function"?Promise:void 0,CU=typeof queueMicrotask=="function"?queueMicrotask:typeof Nk<"u"?function(t){return Nk.resolve(null).then(t).catch(PU)}:R2;function PU(t){setTimeout(function(){throw t})}function n4(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nd(e)}function ro(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lc=Math.random().toString(36).slice(2),os="__reactFiber$"+Lc,Ld="__reactProps$"+Lc,ia="__reactContainer$"+Lc,j2="__reactEvents$"+Lc,OU="__reactListeners$"+Lc,NU="__reactHandles$"+Lc;function al(t){var e=t[os];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ia]||n[os]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mk(t);t!==null;){if(n=t[os])return n;t=Mk(t)}return e}t=n,n=t.parentNode}return null}function D0(t){return t=t[os]||t[ia],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Yg(t){return t[Ld]||null}var L2=[],Ou=-1;function Po(t){return{current:t}}function Et(t){0>Ou||(t.current=L2[Ou],L2[Ou]=null,Ou--)}function yt(t,e){Ou++,L2[Ou]=t.current,t.current=e}var fo={},or=Po(fo),jr=Po(!1),Al=fo;function ic(t,e){var n=t.type.contextTypes;if(!n)return fo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lr(t){return t=t.childContextTypes,t!=null}function gp(){Et(jr),Et(or)}function Dk(t,e,n){if(or.current!==fo)throw Error(ue(168));yt(or,e),yt(jr,n)}function uA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,gB(t)||"Unknown",i));return Bt({},n,r)}function yp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fo,Al=or.current,yt(or,t),yt(jr,jr.current),!0}function Rk(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=uA(t,e,Al),r.__reactInternalMemoizedMergedChildContext=t,Et(jr),Et(or),yt(or,t)):Et(jr),yt(jr,n)}var zs=null,Xg=!1,r4=!1;function cA(t){zs===null?zs=[t]:zs.push(t)}function MU(t){Xg=!0,cA(t)}function Oo(){if(!r4&&zs!==null){r4=!0;var t=0,e=ot;try{var n=zs;for(ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zs=null,Xg=!1}catch(i){throw zs!==null&&(zs=zs.slice(t+1)),RI(o5,Oo),i}finally{ot=e,r4=!1}}return null}var Nu=[],Mu=0,vp=null,wp=0,bi=[],xi=0,Cl=null,qs=1,Hs="";function Yo(t,e){Nu[Mu++]=wp,Nu[Mu++]=vp,vp=t,wp=e}function hA(t,e,n){bi[xi++]=qs,bi[xi++]=Hs,bi[xi++]=Cl,Cl=t;var r=qs;t=Hs;var i=32-Wi(r)-1;r&=~(1<<i),n+=1;var s=32-Wi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,qs=1<<32-Wi(e)+i|n<<i|r,Hs=s+t}else qs=1<<s|n<<i|r,Hs=t}function g5(t){t.return!==null&&(Yo(t,1),hA(t,1,0))}function y5(t){for(;t===vp;)vp=Nu[--Mu],Nu[Mu]=null,wp=Nu[--Mu],Nu[Mu]=null;for(;t===Cl;)Cl=bi[--xi],bi[xi]=null,Hs=bi[--xi],bi[xi]=null,qs=bi[--xi],bi[xi]=null}var ei=null,Jr=null,Pt=!1,Ui=null;function dA(t,e){var n=Ei(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ei=t,Jr=ro(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ei=t,Jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cl!==null?{id:qs,overflow:Hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ei(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ei=t,Jr=null,!0):!1;default:return!1}}function $2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function F2(t){if(Pt){var e=Jr;if(e){var n=e;if(!jk(t,e)){if($2(t))throw Error(ue(418));e=ro(n.nextSibling);var r=ei;e&&jk(t,e)?dA(r,n):(t.flags=t.flags&-4097|2,Pt=!1,ei=t)}}else{if($2(t))throw Error(ue(418));t.flags=t.flags&-4097|2,Pt=!1,ei=t}}}function Lk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ei=t}function Zf(t){if(t!==ei)return!1;if(!Pt)return Lk(t),Pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!D2(t.type,t.memoizedProps)),e&&(e=Jr)){if($2(t))throw fA(),Error(ue(418));for(;e;)dA(t,e),e=ro(e.nextSibling)}if(Lk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jr=ro(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jr=null}}else Jr=ei?ro(t.stateNode.nextSibling):null;return!0}function fA(){for(var t=Jr;t;)t=ro(t.nextSibling)}function sc(){Jr=ei=null,Pt=!1}function v5(t){Ui===null?Ui=[t]:Ui.push(t)}var DU=pa.ReactCurrentBatchConfig;function _h(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function em(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $k(t){var e=t._init;return e(t._payload)}function mA(t){function e(_,A){if(t){var C=_.deletions;C===null?(_.deletions=[A],_.flags|=16):C.push(A)}}function n(_,A){if(!t)return null;for(;A!==null;)e(_,A),A=A.sibling;return null}function r(_,A){for(_=new Map;A!==null;)A.key!==null?_.set(A.key,A):_.set(A.index,A),A=A.sibling;return _}function i(_,A){return _=oo(_,A),_.index=0,_.sibling=null,_}function s(_,A,C){return _.index=C,t?(C=_.alternate,C!==null?(C=C.index,C<A?(_.flags|=2,A):C):(_.flags|=2,A)):(_.flags|=1048576,A)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function o(_,A,C,D){return A===null||A.tag!==6?(A=c4(C,_.mode,D),A.return=_,A):(A=i(A,C),A.return=_,A)}function l(_,A,C,D){var R=C.type;return R===Tu?d(_,A,C.props.children,D,C.key):A!==null&&(A.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===za&&$k(R)===A.type)?(D=i(A,C.props),D.ref=_h(_,A,C),D.return=_,D):(D=Hm(C.type,C.key,C.props,null,_.mode,D),D.ref=_h(_,A,C),D.return=_,D)}function c(_,A,C,D){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=h4(C,_.mode,D),A.return=_,A):(A=i(A,C.children||[]),A.return=_,A)}function d(_,A,C,D,R){return A===null||A.tag!==7?(A=vl(C,_.mode,D,R),A.return=_,A):(A=i(A,C),A.return=_,A)}function m(_,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return A=c4(""+A,_.mode,C),A.return=_,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Vf:return C=Hm(A.type,A.key,A.props,null,_.mode,C),C.ref=_h(_,null,A),C.return=_,C;case _u:return A=h4(A,_.mode,C),A.return=_,A;case za:var D=A._init;return m(_,D(A._payload),C)}if(Gh(A)||bh(A))return A=vl(A,_.mode,C,null),A.return=_,A;em(_,A)}return null}function g(_,A,C,D){var R=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return R!==null?null:o(_,A,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Vf:return C.key===R?l(_,A,C,D):null;case _u:return C.key===R?c(_,A,C,D):null;case za:return R=C._init,g(_,A,R(C._payload),D)}if(Gh(C)||bh(C))return R!==null?null:d(_,A,C,D,null);em(_,C)}return null}function y(_,A,C,D,R){if(typeof D=="string"&&D!==""||typeof D=="number")return _=_.get(C)||null,o(A,_,""+D,R);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Vf:return _=_.get(D.key===null?C:D.key)||null,l(A,_,D,R);case _u:return _=_.get(D.key===null?C:D.key)||null,c(A,_,D,R);case za:var L=D._init;return y(_,A,C,L(D._payload),R)}if(Gh(D)||bh(D))return _=_.get(C)||null,d(A,_,D,R,null);em(A,D)}return null}function b(_,A,C,D){for(var R=null,L=null,U=A,G=A=0,Z=null;U!==null&&G<C.length;G++){U.index>G?(Z=U,U=null):Z=U.sibling;var J=g(_,U,C[G],D);if(J===null){U===null&&(U=Z);break}t&&U&&J.alternate===null&&e(_,U),A=s(J,A,G),L===null?R=J:L.sibling=J,L=J,U=Z}if(G===C.length)return n(_,U),Pt&&Yo(_,G),R;if(U===null){for(;G<C.length;G++)U=m(_,C[G],D),U!==null&&(A=s(U,A,G),L===null?R=U:L.sibling=U,L=U);return Pt&&Yo(_,G),R}for(U=r(_,U);G<C.length;G++)Z=y(U,_,G,C[G],D),Z!==null&&(t&&Z.alternate!==null&&U.delete(Z.key===null?G:Z.key),A=s(Z,A,G),L===null?R=Z:L.sibling=Z,L=Z);return t&&U.forEach(function(ne){return e(_,ne)}),Pt&&Yo(_,G),R}function k(_,A,C,D){var R=bh(C);if(typeof R!="function")throw Error(ue(150));if(C=R.call(C),C==null)throw Error(ue(151));for(var L=R=null,U=A,G=A=0,Z=null,J=C.next();U!==null&&!J.done;G++,J=C.next()){U.index>G?(Z=U,U=null):Z=U.sibling;var ne=g(_,U,J.value,D);if(ne===null){U===null&&(U=Z);break}t&&U&&ne.alternate===null&&e(_,U),A=s(ne,A,G),L===null?R=ne:L.sibling=ne,L=ne,U=Z}if(J.done)return n(_,U),Pt&&Yo(_,G),R;if(U===null){for(;!J.done;G++,J=C.next())J=m(_,J.value,D),J!==null&&(A=s(J,A,G),L===null?R=J:L.sibling=J,L=J);return Pt&&Yo(_,G),R}for(U=r(_,U);!J.done;G++,J=C.next())J=y(U,_,G,J.value,D),J!==null&&(t&&J.alternate!==null&&U.delete(J.key===null?G:J.key),A=s(J,A,G),L===null?R=J:L.sibling=J,L=J);return t&&U.forEach(function(le){return e(_,le)}),Pt&&Yo(_,G),R}function x(_,A,C,D){if(typeof C=="object"&&C!==null&&C.type===Tu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Vf:e:{for(var R=C.key,L=A;L!==null;){if(L.key===R){if(R=C.type,R===Tu){if(L.tag===7){n(_,L.sibling),A=i(L,C.props.children),A.return=_,_=A;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===za&&$k(R)===L.type){n(_,L.sibling),A=i(L,C.props),A.ref=_h(_,L,C),A.return=_,_=A;break e}n(_,L);break}else e(_,L);L=L.sibling}C.type===Tu?(A=vl(C.props.children,_.mode,D,C.key),A.return=_,_=A):(D=Hm(C.type,C.key,C.props,null,_.mode,D),D.ref=_h(_,A,C),D.return=_,_=D)}return a(_);case _u:e:{for(L=C.key;A!==null;){if(A.key===L)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){n(_,A.sibling),A=i(A,C.children||[]),A.return=_,_=A;break e}else{n(_,A);break}else e(_,A);A=A.sibling}A=h4(C,_.mode,D),A.return=_,_=A}return a(_);case za:return L=C._init,x(_,A,L(C._payload),D)}if(Gh(C))return b(_,A,C,D);if(bh(C))return k(_,A,C,D);em(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,A!==null&&A.tag===6?(n(_,A.sibling),A=i(A,C),A.return=_,_=A):(n(_,A),A=c4(C,_.mode,D),A.return=_,_=A),a(_)):n(_,A)}return x}var ac=mA(!0),pA=mA(!1),bp=Po(null),xp=null,Du=null,w5=null;function b5(){w5=Du=xp=null}function x5(t){var e=bp.current;Et(bp),t._currentValue=e}function z2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hu(t,e){xp=t,w5=Du=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Or=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if(w5!==t)if(t={context:t,memoizedValue:e,next:null},Du===null){if(xp===null)throw Error(ue(308));Du=t,xp.dependencies={lanes:0,firstContext:t}}else Du=Du.next=t;return e}var ol=null;function k5(t){ol===null?ol=[t]:ol.push(t)}function gA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,k5(e)):(n.next=i.next,i.next=n),e.interleaved=n,sa(t,r)}function sa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ba=!1;function S5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function io(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sa(t,n)}return i=r.interleaved,i===null?(e.next=e,k5(r)):(e.next=i.next,i.next=e),r.interleaved=e,sa(t,n)}function Fm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l5(t,n)}}function Fk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kp(t,e,n,r){var i=t.updateQueue;Ba=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,d=c=l=null,o=s;do{var g=o.lane,y=o.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,k=o;switch(g=e,y=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){m=b.call(y,m,g);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,g=typeof b=="function"?b.call(y,m,g):b,g==null)break e;m=Bt({},m,g);break e;case 2:Ba=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else y={eventTime:y,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=y,l=m):d=d.next=y,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ol|=a,t.lanes=a,t.memoizedState=m}}function zk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var R0={},bs=Po(R0),$d=Po(R0),Fd=Po(R0);function ll(t){if(t===R0)throw Error(ue(174));return t}function E5(t,e){switch(yt(Fd,e),yt($d,t),yt(bs,R0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:b2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=b2(e,t)}Et(bs),yt(bs,e)}function oc(){Et(bs),Et($d),Et(Fd)}function vA(t){ll(Fd.current);var e=ll(bs.current),n=b2(e,t.type);e!==n&&(yt($d,t),yt(bs,n))}function _5(t){$d.current===t&&(Et(bs),Et($d))}var $t=Po(0);function Sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var i4=[];function T5(){for(var t=0;t<i4.length;t++)i4[t]._workInProgressVersionPrimary=null;i4.length=0}var zm=pa.ReactCurrentDispatcher,s4=pa.ReactCurrentBatchConfig,Pl=0,Ft=null,hn=null,En=null,Ep=!1,hd=!1,zd=0,RU=0;function Zn(){throw Error(ue(321))}function I5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gi(t[n],e[n]))return!1;return!0}function A5(t,e,n,r,i,s){if(Pl=s,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zm.current=t===null||t.memoizedState===null?FU:zU,t=n(r,i),hd){s=0;do{if(hd=!1,zd=0,25<=s)throw Error(ue(301));s+=1,En=hn=null,e.updateQueue=null,zm.current=BU,t=n(r,i)}while(hd)}if(zm.current=_p,e=hn!==null&&hn.next!==null,Pl=0,En=hn=Ft=null,Ep=!1,e)throw Error(ue(300));return t}function C5(){var t=zd!==0;return zd=0,t}function as(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Ft.memoizedState=En=t:En=En.next=t,En}function Oi(){if(hn===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=hn.next;var e=En===null?Ft.memoizedState:En.next;if(e!==null)En=e,hn=t;else{if(t===null)throw Error(ue(310));hn=t,t={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},En===null?Ft.memoizedState=En=t:En=En.next=t}return En}function Bd(t,e){return typeof e=="function"?e(t):e}function a4(t){var e=Oi(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=hn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((Pl&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=m,a=r):l=l.next=m,Ft.lanes|=d,Ol|=d}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Gi(r,e.memoizedState)||(Or=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ft.lanes|=s,Ol|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function o4(t){var e=Oi(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Gi(s,e.memoizedState)||(Or=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wA(){}function bA(t,e){var n=Ft,r=Oi(),i=e(),s=!Gi(r.memoizedState,i);if(s&&(r.memoizedState=i,Or=!0),r=r.queue,P5(SA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,Ud(9,kA.bind(null,n,r,i,e),void 0,null),Tn===null)throw Error(ue(349));Pl&30||xA(n,e,i)}return i}function xA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kA(t,e,n,r){e.value=n,e.getSnapshot=r,EA(e)&&_A(t)}function SA(t,e,n){return n(function(){EA(e)&&_A(t)})}function EA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gi(t,n)}catch{return!0}}function _A(t){var e=sa(t,1);e!==null&&Ki(e,t,1,-1)}function Bk(t){var e=as();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:t},e.queue=t,t=t.dispatch=$U.bind(null,Ft,t),[e.memoizedState,t]}function Ud(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TA(){return Oi().memoizedState}function Bm(t,e,n,r){var i=as();Ft.flags|=t,i.memoizedState=Ud(1|e,n,void 0,r===void 0?null:r)}function Qg(t,e,n,r){var i=Oi();r=r===void 0?null:r;var s=void 0;if(hn!==null){var a=hn.memoizedState;if(s=a.destroy,r!==null&&I5(r,a.deps)){i.memoizedState=Ud(e,n,s,r);return}}Ft.flags|=t,i.memoizedState=Ud(1|e,n,s,r)}function Uk(t,e){return Bm(8390656,8,t,e)}function P5(t,e){return Qg(2048,8,t,e)}function IA(t,e){return Qg(4,2,t,e)}function AA(t,e){return Qg(4,4,t,e)}function CA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PA(t,e,n){return n=n!=null?n.concat([t]):null,Qg(4,4,CA.bind(null,e,t),n)}function O5(){}function OA(t,e){var n=Oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NA(t,e){var n=Oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MA(t,e,n){return Pl&21?(Gi(n,e)||(n=$I(),Ft.lanes|=n,Ol|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Or=!0),t.memoizedState=n)}function jU(t,e){var n=ot;ot=n!==0&&4>n?n:4,t(!0);var r=s4.transition;s4.transition={};try{t(!1),e()}finally{ot=n,s4.transition=r}}function DA(){return Oi().memoizedState}function LU(t,e,n){var r=ao(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RA(t))jA(e,n);else if(n=gA(t,e,n,r),n!==null){var i=yr();Ki(n,t,r,i),LA(n,e,r)}}function $U(t,e,n){var r=ao(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RA(t))jA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Gi(o,a)){var l=e.interleaved;l===null?(i.next=i,k5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=gA(t,e,i,r),n!==null&&(i=yr(),Ki(n,t,r,i),LA(n,e,r))}}function RA(t){var e=t.alternate;return t===Ft||e!==null&&e===Ft}function jA(t,e){hd=Ep=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l5(t,n)}}var _p={readContext:Pi,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},FU={readContext:Pi,useCallback:function(t,e){return as().memoizedState=[t,e===void 0?null:e],t},useContext:Pi,useEffect:Uk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bm(4194308,4,CA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bm(4,2,t,e)},useMemo:function(t,e){var n=as();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=as();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LU.bind(null,Ft,t),[r.memoizedState,t]},useRef:function(t){var e=as();return t={current:t},e.memoizedState=t},useState:Bk,useDebugValue:O5,useDeferredValue:function(t){return as().memoizedState=t},useTransition:function(){var t=Bk(!1),e=t[0];return t=jU.bind(null,t[1]),as().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ft,i=as();if(Pt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),Tn===null)throw Error(ue(349));Pl&30||xA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Uk(SA.bind(null,r,s,t),[t]),r.flags|=2048,Ud(9,kA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=as(),e=Tn.identifierPrefix;if(Pt){var n=Hs,r=qs;n=(r&~(1<<32-Wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zU={readContext:Pi,useCallback:OA,useContext:Pi,useEffect:P5,useImperativeHandle:PA,useInsertionEffect:IA,useLayoutEffect:AA,useMemo:NA,useReducer:a4,useRef:TA,useState:function(){return a4(Bd)},useDebugValue:O5,useDeferredValue:function(t){var e=Oi();return MA(e,hn.memoizedState,t)},useTransition:function(){var t=a4(Bd)[0],e=Oi().memoizedState;return[t,e]},useMutableSource:wA,useSyncExternalStore:bA,useId:DA,unstable_isNewReconciler:!1},BU={readContext:Pi,useCallback:OA,useContext:Pi,useEffect:P5,useImperativeHandle:PA,useInsertionEffect:IA,useLayoutEffect:AA,useMemo:NA,useReducer:o4,useRef:TA,useState:function(){return o4(Bd)},useDebugValue:O5,useDeferredValue:function(t){var e=Oi();return hn===null?e.memoizedState=t:MA(e,hn.memoizedState,t)},useTransition:function(){var t=o4(Bd)[0],e=Oi().memoizedState;return[t,e]},useMutableSource:wA,useSyncExternalStore:bA,useId:DA,unstable_isNewReconciler:!1};function zi(t,e){if(t&&t.defaultProps){e=Bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function B2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jg={isMounted:function(t){return(t=t._reactInternals)?eu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yr(),i=ao(t),s=Js(r,i);s.payload=e,n!=null&&(s.callback=n),e=io(t,s,i),e!==null&&(Ki(e,t,i,r),Fm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yr(),i=ao(t),s=Js(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=io(t,s,i),e!==null&&(Ki(e,t,i,r),Fm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yr(),r=ao(t),i=Js(n,r);i.tag=2,e!=null&&(i.callback=e),e=io(t,i,r),e!==null&&(Ki(e,t,r,n),Fm(e,t,r))}};function Vk(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Dd(n,r)||!Dd(i,s):!0}function $A(t,e,n){var r=!1,i=fo,s=e.contextType;return typeof s=="object"&&s!==null?s=Pi(s):(i=Lr(e)?Al:or.current,r=e.contextTypes,s=(r=r!=null)?ic(t,i):fo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jg.enqueueReplaceState(e,e.state,null)}function U2(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},S5(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pi(s):(s=Lr(e)?Al:or.current,i.context=ic(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(B2(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jg.enqueueReplaceState(i,i.state,null),kp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lc(t,e){try{var n="",r=e;do n+=pB(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function l4(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function V2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UU=typeof WeakMap=="function"?WeakMap:Map;function FA(t,e,n){n=Js(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ip||(Ip=!0,Z2=r),V2(t,e)},n}function zA(t,e,n){n=Js(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){V2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){V2(t,e),typeof r!="function"&&(so===null?so=new Set([this]):so.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Hk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nV.bind(null,t,e,n),e.then(t,t))}function Wk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Js(-1,1),e.tag=2,io(n,e,1))),n.lanes|=1),t)}var VU=pa.ReactCurrentOwner,Or=!1;function hr(t,e,n,r){e.child=t===null?pA(e,null,n,r):ac(e,t.child,n,r)}function Gk(t,e,n,r,i){n=n.render;var s=e.ref;return Hu(e,i),r=A5(t,e,n,r,s,i),n=C5(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(Pt&&n&&g5(e),e.flags|=1,hr(t,e,r,i),e.child)}function Yk(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!F5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,BA(t,e,s,r,i)):(t=Hm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dd,n(a,r)&&t.ref===e.ref)return aa(t,e,i)}return e.flags|=1,t=oo(s,r),t.ref=e.ref,t.return=e,e.child=t}function BA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dd(s,r)&&t.ref===e.ref)if(Or=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Or=!0);else return e.lanes=t.lanes,aa(t,e,i)}return q2(t,e,n,r,i)}function UA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(ju,Kr),Kr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yt(ju,Kr),Kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yt(ju,Kr),Kr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yt(ju,Kr),Kr|=r;return hr(t,e,i,n),e.child}function VA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function q2(t,e,n,r,i){var s=Lr(n)?Al:or.current;return s=ic(e,s),Hu(e,i),n=A5(t,e,n,r,s,i),r=C5(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(Pt&&r&&g5(e),e.flags|=1,hr(t,e,n,i),e.child)}function Xk(t,e,n,r,i){if(Lr(n)){var s=!0;yp(e)}else s=!1;if(Hu(e,i),e.stateNode===null)Um(t,e),$A(e,n,r),U2(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pi(c):(c=Lr(n)?Al:or.current,c=ic(e,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&qk(e,a,r,c),Ba=!1;var g=e.memoizedState;a.state=g,kp(e,r,a,i),l=e.memoizedState,o!==r||g!==l||jr.current||Ba?(typeof d=="function"&&(B2(e,n,d,r),l=e.memoizedState),(o=Ba||Vk(e,n,o,r,g,l,c))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,yA(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:zi(e.type,o),a.props=c,m=e.pendingProps,g=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pi(l):(l=Lr(n)?Al:or.current,l=ic(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||g!==l)&&qk(e,a,r,l),Ba=!1,g=e.memoizedState,a.state=g,kp(e,r,a,i);var b=e.memoizedState;o!==m||g!==b||jr.current||Ba?(typeof y=="function"&&(B2(e,n,y,r),b=e.memoizedState),(c=Ba||Vk(e,n,c,r,g,b,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return H2(t,e,n,r,s,i)}function H2(t,e,n,r,i,s){VA(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Rk(e,n,!1),aa(t,e,s);r=e.stateNode,VU.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ac(e,t.child,null,s),e.child=ac(e,null,o,s)):hr(t,e,o,s),e.memoizedState=r.state,i&&Rk(e,n,!0),e.child}function qA(t){var e=t.stateNode;e.pendingContext?Dk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dk(t,e.context,!1),E5(t,e.containerInfo)}function Qk(t,e,n,r,i){return sc(),v5(i),e.flags|=256,hr(t,e,n,r),e.child}var W2={dehydrated:null,treeContext:null,retryLane:0};function K2(t){return{baseLanes:t,cachePool:null,transitions:null}}function HA(t,e,n){var r=e.pendingProps,i=$t.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yt($t,i&1),t===null)return F2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=t1(a,r,0,null),t=vl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=K2(n),e.memoizedState=W2,t):N5(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return qU(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=oo(o,s):(s=vl(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?K2(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=W2,r}return s=t.child,t=s.sibling,r=oo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function N5(t,e){return e=t1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tm(t,e,n,r){return r!==null&&v5(r),ac(e,t.child,null,n),t=N5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qU(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=l4(Error(ue(422))),tm(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=t1({mode:"visible",children:r.children},i,0,null),s=vl(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ac(e,t.child,null,a),e.child.memoizedState=K2(a),e.memoizedState=W2,s);if(!(e.mode&1))return tm(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ue(419)),r=l4(s,r,void 0),tm(t,e,a,r)}if(o=(a&t.childLanes)!==0,Or||o){if(r=Tn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sa(t,i),Ki(r,t,i,-1))}return $5(),r=l4(Error(ue(421))),tm(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jr=ro(i.nextSibling),ei=e,Pt=!0,Ui=null,t!==null&&(bi[xi++]=qs,bi[xi++]=Hs,bi[xi++]=Cl,qs=t.id,Hs=t.overflow,Cl=e),e=N5(e,r.children),e.flags|=4096,e)}function Jk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),z2(t.return,e,n)}function u4(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hr(t,e,r.children,n),r=$t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jk(t,n,e);else if(t.tag===19)Jk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yt($t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),u4(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}u4(e,!0,n,null,s);break;case"together":u4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Um(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function aa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ol|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HU(t,e,n){switch(e.tag){case 3:qA(e),sc();break;case 5:vA(e);break;case 1:Lr(e.type)&&yp(e);break;case 4:E5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yt(bp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yt($t,$t.current&1),e.flags|=128,null):n&e.child.childLanes?HA(t,e,n):(yt($t,$t.current&1),t=aa(t,e,n),t!==null?t.sibling:null);yt($t,$t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt($t,$t.current),r)break;return null;case 22:case 23:return e.lanes=0,UA(t,e,n)}return aa(t,e,n)}var KA,G2,GA,YA;KA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};G2=function(){};GA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ll(bs.current);var s=null;switch(n){case"input":i=g2(t,i),r=g2(t,r),s=[];break;case"select":i=Bt({},i,{value:void 0}),r=Bt({},r,{value:void 0}),s=[];break;case"textarea":i=w2(t,i),r=w2(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pp)}x2(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Id.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Id.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&bt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};YA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Th(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WU(t,e,n){var r=e.pendingProps;switch(y5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(e),null;case 1:return Lr(e.type)&&gp(),er(e),null;case 3:return r=e.stateNode,oc(),Et(jr),Et(or),T5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ui!==null&&(nw(Ui),Ui=null))),G2(t,e),er(e),null;case 5:_5(e);var i=ll(Fd.current);if(n=e.type,t!==null&&e.stateNode!=null)GA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return er(e),null}if(t=ll(bs.current),Zf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[os]=e,r[Ld]=s,t=(e.mode&1)!==0,n){case"dialog":bt("cancel",r),bt("close",r);break;case"iframe":case"object":case"embed":bt("load",r);break;case"video":case"audio":for(i=0;i<Xh.length;i++)bt(Xh[i],r);break;case"source":bt("error",r);break;case"img":case"image":case"link":bt("error",r),bt("load",r);break;case"details":bt("toggle",r);break;case"input":ok(r,s),bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},bt("invalid",r);break;case"textarea":uk(r,s),bt("invalid",r)}x2(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Jf(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Jf(r.textContent,o,t),i=["children",""+o]):Id.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&bt("scroll",r)}switch(n){case"input":qf(r),lk(r,s,!0);break;case"textarea":qf(r),ck(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=SI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[os]=e,t[Ld]=r,KA(t,e,!1,!1),e.stateNode=t;e:{switch(a=k2(n,r),n){case"dialog":bt("cancel",t),bt("close",t),i=r;break;case"iframe":case"object":case"embed":bt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xh.length;i++)bt(Xh[i],t);i=r;break;case"source":bt("error",t),i=r;break;case"img":case"image":case"link":bt("error",t),bt("load",t),i=r;break;case"details":bt("toggle",t),i=r;break;case"input":ok(t,r),i=g2(t,r),bt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Bt({},r,{value:void 0}),bt("invalid",t);break;case"textarea":uk(t,r),i=w2(t,r),bt("invalid",t);break;default:i=r}x2(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?TI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ad(t,l):typeof l=="number"&&Ad(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Id.hasOwnProperty(s)?l!=null&&s==="onScroll"&&bt("scroll",t):l!=null&&n5(t,s,l,a))}switch(n){case"input":qf(t),lk(t,r,!1);break;case"textarea":qf(t),ck(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ho(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return er(e),null;case 6:if(t&&e.stateNode!=null)YA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=ll(Fd.current),ll(bs.current),Zf(e)){if(r=e.stateNode,n=e.memoizedProps,r[os]=e,(s=r.nodeValue!==n)&&(t=ei,t!==null))switch(t.tag){case 3:Jf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[os]=e,e.stateNode=r}return er(e),null;case 13:if(Et($t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&Jr!==null&&e.mode&1&&!(e.flags&128))fA(),sc(),e.flags|=98560,s=!1;else if(s=Zf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[os]=e}else sc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;er(e),s=!1}else Ui!==null&&(nw(Ui),Ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?fn===0&&(fn=3):$5())),e.updateQueue!==null&&(e.flags|=4),er(e),null);case 4:return oc(),G2(t,e),t===null&&Rd(e.stateNode.containerInfo),er(e),null;case 10:return x5(e.type._context),er(e),null;case 17:return Lr(e.type)&&gp(),er(e),null;case 19:if(Et($t),s=e.memoizedState,s===null)return er(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Th(s,!1);else{if(fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sp(t),a!==null){for(e.flags|=128,Th(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yt($t,$t.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xt()>uc&&(e.flags|=128,r=!0,Th(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Th(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Pt)return er(e),null}else 2*Xt()-s.renderingStartTime>uc&&n!==1073741824&&(e.flags|=128,r=!0,Th(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,n=$t.current,yt($t,r?n&1|2:n&1),e):(er(e),null);case 22:case 23:return L5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kr&1073741824&&(er(e),e.subtreeFlags&6&&(e.flags|=8192)):er(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function KU(t,e){switch(y5(e),e.tag){case 1:return Lr(e.type)&&gp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oc(),Et(jr),Et(or),T5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _5(e),null;case 13:if(Et($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));sc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et($t),null;case 4:return oc(),null;case 10:return x5(e.type._context),null;case 22:case 23:return L5(),null;case 24:return null;default:return null}}var nm=!1,rr=!1,GU=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ru(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qt(t,e,r)}else n.current=null}function Y2(t,e,n){try{n()}catch(r){qt(t,e,r)}}var Zk=!1;function YU(t,e){if(N2=dp,t=eA(),p5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,m=t,g=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===t)break t;if(g===n&&++c===i&&(o=a),g===s&&++d===r&&(l=a),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(M2={focusedElem:t,selectionRange:n},dp=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,x=b.memoizedState,_=e.stateNode,A=_.getSnapshotBeforeUpdate(e.elementType===e.type?k:zi(e.type,k),x);_.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(D){qt(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return b=Zk,Zk=!1,b}function dd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Y2(e,n,s)}i=i.next}while(i!==r)}}function Zg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function X2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XA(t){var e=t.alternate;e!==null&&(t.alternate=null,XA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[os],delete e[Ld],delete e[j2],delete e[OU],delete e[NU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QA(t){return t.tag===5||t.tag===3||t.tag===4}function eS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pp));else if(r!==4&&(t=t.child,t!==null))for(Q2(t,e,n),t=t.sibling;t!==null;)Q2(t,e,n),t=t.sibling}function J2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(J2(t,e,n),t=t.sibling;t!==null;)J2(t,e,n),t=t.sibling}var $n=null,Bi=!1;function Ra(t,e,n){for(n=n.child;n!==null;)JA(t,e,n),n=n.sibling}function JA(t,e,n){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(Hg,n)}catch{}switch(n.tag){case 5:rr||Ru(n,e);case 6:var r=$n,i=Bi;$n=null,Ra(t,e,n),$n=r,Bi=i,$n!==null&&(Bi?(t=$n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$n.removeChild(n.stateNode));break;case 18:$n!==null&&(Bi?(t=$n,n=n.stateNode,t.nodeType===8?n4(t.parentNode,n):t.nodeType===1&&n4(t,n),Nd(t)):n4($n,n.stateNode));break;case 4:r=$n,i=Bi,$n=n.stateNode.containerInfo,Bi=!0,Ra(t,e,n),$n=r,Bi=i;break;case 0:case 11:case 14:case 15:if(!rr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Y2(n,e,a),i=i.next}while(i!==r)}Ra(t,e,n);break;case 1:if(!rr&&(Ru(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){qt(n,e,o)}Ra(t,e,n);break;case 21:Ra(t,e,n);break;case 22:n.mode&1?(rr=(r=rr)||n.memoizedState!==null,Ra(t,e,n),rr=r):Ra(t,e,n);break;default:Ra(t,e,n)}}function tS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GU),e.forEach(function(r){var i=iV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $i(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:$n=o.stateNode,Bi=!1;break e;case 3:$n=o.stateNode.containerInfo,Bi=!0;break e;case 4:$n=o.stateNode.containerInfo,Bi=!0;break e}o=o.return}if($n===null)throw Error(ue(160));JA(s,a,i),$n=null,Bi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){qt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZA(e,t),e=e.sibling}function ZA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($i(e,t),ss(t),r&4){try{dd(3,t,t.return),Zg(3,t)}catch(k){qt(t,t.return,k)}try{dd(5,t,t.return)}catch(k){qt(t,t.return,k)}}break;case 1:$i(e,t),ss(t),r&512&&n!==null&&Ru(n,n.return);break;case 5:if($i(e,t),ss(t),r&512&&n!==null&&Ru(n,n.return),t.flags&32){var i=t.stateNode;try{Ad(i,"")}catch(k){qt(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&xI(i,s),k2(o,a);var c=k2(o,s);for(a=0;a<l.length;a+=2){var d=l[a],m=l[a+1];d==="style"?TI(i,m):d==="dangerouslySetInnerHTML"?EI(i,m):d==="children"?Ad(i,m):n5(i,d,m,c)}switch(o){case"input":y2(i,s);break;case"textarea":kI(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Bu(i,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?Bu(i,!!s.multiple,s.defaultValue,!0):Bu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ld]=s}catch(k){qt(t,t.return,k)}}break;case 6:if($i(e,t),ss(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){qt(t,t.return,k)}}break;case 3:if($i(e,t),ss(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nd(e.containerInfo)}catch(k){qt(t,t.return,k)}break;case 4:$i(e,t),ss(t);break;case 13:$i(e,t),ss(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(R5=Xt())),r&4&&tS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(rr=(c=rr)||d,$i(e,t),rr=c):$i(e,t),ss(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Ee=t,d=t.child;d!==null;){for(m=Ee=d;Ee!==null;){switch(g=Ee,y=g.child,g.tag){case 0:case 11:case 14:case 15:dd(4,g,g.return);break;case 1:Ru(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(k){qt(r,n,k)}}break;case 5:Ru(g,g.return);break;case 22:if(g.memoizedState!==null){rS(m);continue}}y!==null?(y.return=g,Ee=y):rS(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=_I("display",a))}catch(k){qt(t,t.return,k)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(k){qt(t,t.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:$i(e,t),ss(t),r&4&&tS(t);break;case 21:break;default:$i(e,t),ss(t)}}function ss(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QA(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ad(i,""),r.flags&=-33);var s=eS(t);J2(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=eS(t);Q2(t,o,a);break;default:throw Error(ue(161))}}catch(l){qt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XU(t,e,n){Ee=t,eC(t)}function eC(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||nm;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||rr;o=nm;var c=rr;if(nm=a,(rr=l)&&!c)for(Ee=i;Ee!==null;)a=Ee,l=a.child,a.tag===22&&a.memoizedState!==null?iS(i):l!==null?(l.return=a,Ee=l):iS(i);for(;s!==null;)Ee=s,eC(s),s=s.sibling;Ee=i,nm=o,rr=c}nS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):nS(t)}}function nS(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rr||Zg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zk(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zk(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Nd(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}rr||e.flags&512&&X2(e)}catch(g){qt(e,e.return,g)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function rS(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function iS(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zg(4,e)}catch(l){qt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qt(e,i,l)}}var s=e.return;try{X2(e)}catch(l){qt(e,s,l)}break;case 5:var a=e.return;try{X2(e)}catch(l){qt(e,a,l)}}}catch(l){qt(e,e.return,l)}if(e===t){Ee=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ee=o;break}Ee=e.return}}var QU=Math.ceil,Tp=pa.ReactCurrentDispatcher,M5=pa.ReactCurrentOwner,Ai=pa.ReactCurrentBatchConfig,et=0,Tn=null,an=null,qn=0,Kr=0,ju=Po(0),fn=0,Vd=null,Ol=0,e1=0,D5=0,fd=null,Pr=null,R5=0,uc=1/0,Fs=null,Ip=!1,Z2=null,so=null,rm=!1,Xa=null,Ap=0,md=0,ew=null,Vm=-1,qm=0;function yr(){return et&6?Xt():Vm!==-1?Vm:Vm=Xt()}function ao(t){return t.mode&1?et&2&&qn!==0?qn&-qn:DU.transition!==null?(qm===0&&(qm=$I()),qm):(t=ot,t!==0||(t=window.event,t=t===void 0?16:HI(t.type)),t):1}function Ki(t,e,n,r){if(50<md)throw md=0,ew=null,Error(ue(185));N0(t,n,r),(!(et&2)||t!==Tn)&&(t===Tn&&(!(et&2)&&(e1|=n),fn===4&&Ha(t,qn)),$r(t,r),n===1&&et===0&&!(e.mode&1)&&(uc=Xt()+500,Xg&&Oo()))}function $r(t,e){var n=t.callbackNode;DB(t,e);var r=hp(t,t===Tn?qn:0);if(r===0)n!==null&&fk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fk(n),e===1)t.tag===0?MU(sS.bind(null,t)):cA(sS.bind(null,t)),CU(function(){!(et&6)&&Oo()}),n=null;else{switch(FI(r)){case 1:n=o5;break;case 4:n=jI;break;case 16:n=cp;break;case 536870912:n=LI;break;default:n=cp}n=lC(n,tC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tC(t,e){if(Vm=-1,qm=0,et&6)throw Error(ue(327));var n=t.callbackNode;if(Wu()&&t.callbackNode!==n)return null;var r=hp(t,t===Tn?qn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cp(t,r);else{e=r;var i=et;et|=2;var s=rC();(Tn!==t||qn!==e)&&(Fs=null,uc=Xt()+500,yl(t,e));do try{eV();break}catch(o){nC(t,o)}while(!0);b5(),Tp.current=s,et=i,an!==null?e=0:(Tn=null,qn=0,e=fn)}if(e!==0){if(e===2&&(i=I2(t),i!==0&&(r=i,e=tw(t,i))),e===1)throw n=Vd,yl(t,0),Ha(t,r),$r(t,Xt()),n;if(e===6)Ha(t,r);else{if(i=t.current.alternate,!(r&30)&&!JU(i)&&(e=Cp(t,r),e===2&&(s=I2(t),s!==0&&(r=s,e=tw(t,s))),e===1))throw n=Vd,yl(t,0),Ha(t,r),$r(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:Xo(t,Pr,Fs);break;case 3:if(Ha(t,r),(r&130023424)===r&&(e=R5+500-Xt(),10<e)){if(hp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=R2(Xo.bind(null,t,Pr,Fs),e);break}Xo(t,Pr,Fs);break;case 4:if(Ha(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Wi(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QU(r/1960))-r,10<r){t.timeoutHandle=R2(Xo.bind(null,t,Pr,Fs),r);break}Xo(t,Pr,Fs);break;case 5:Xo(t,Pr,Fs);break;default:throw Error(ue(329))}}}return $r(t,Xt()),t.callbackNode===n?tC.bind(null,t):null}function tw(t,e){var n=fd;return t.current.memoizedState.isDehydrated&&(yl(t,e).flags|=256),t=Cp(t,e),t!==2&&(e=Pr,Pr=n,e!==null&&nw(e)),t}function nw(t){Pr===null?Pr=t:Pr.push.apply(Pr,t)}function JU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ha(t,e){for(e&=~D5,e&=~e1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wi(e),r=1<<n;t[n]=-1,e&=~r}}function sS(t){if(et&6)throw Error(ue(327));Wu();var e=hp(t,0);if(!(e&1))return $r(t,Xt()),null;var n=Cp(t,e);if(t.tag!==0&&n===2){var r=I2(t);r!==0&&(e=r,n=tw(t,r))}if(n===1)throw n=Vd,yl(t,0),Ha(t,e),$r(t,Xt()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xo(t,Pr,Fs),$r(t,Xt()),null}function j5(t,e){var n=et;et|=1;try{return t(e)}finally{et=n,et===0&&(uc=Xt()+500,Xg&&Oo())}}function Nl(t){Xa!==null&&Xa.tag===0&&!(et&6)&&Wu();var e=et;et|=1;var n=Ai.transition,r=ot;try{if(Ai.transition=null,ot=1,t)return t()}finally{ot=r,Ai.transition=n,et=e,!(et&6)&&Oo()}}function L5(){Kr=ju.current,Et(ju)}function yl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AU(n)),an!==null)for(n=an.return;n!==null;){var r=n;switch(y5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gp();break;case 3:oc(),Et(jr),Et(or),T5();break;case 5:_5(r);break;case 4:oc();break;case 13:Et($t);break;case 19:Et($t);break;case 10:x5(r.type._context);break;case 22:case 23:L5()}n=n.return}if(Tn=t,an=t=oo(t.current,null),qn=Kr=e,fn=0,Vd=null,D5=e1=Ol=0,Pr=fd=null,ol!==null){for(e=0;e<ol.length;e++)if(n=ol[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ol=null}return t}function nC(t,e){do{var n=an;try{if(b5(),zm.current=_p,Ep){for(var r=Ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ep=!1}if(Pl=0,En=hn=Ft=null,hd=!1,zd=0,M5.current=null,n===null||n.return===null){fn=1,Vd=e,an=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=qn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Wk(a);if(y!==null){y.flags&=-257,Kk(y,a,o,s,e),y.mode&1&&Hk(s,c,e),e=y,l=c;var b=e.updateQueue;if(b===null){var k=new Set;k.add(l),e.updateQueue=k}else b.add(l);break e}else{if(!(e&1)){Hk(s,c,e),$5();break e}l=Error(ue(426))}}else if(Pt&&o.mode&1){var x=Wk(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Kk(x,a,o,s,e),v5(lc(l,o));break e}}s=l=lc(l,o),fn!==4&&(fn=2),fd===null?fd=[s]:fd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=FA(s,l,e);Fk(s,_);break e;case 1:o=l;var A=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(so===null||!so.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=zA(s,o,e);Fk(s,D);break e}}s=s.return}while(s!==null)}sC(n)}catch(R){e=R,an===n&&n!==null&&(an=n=n.return);continue}break}while(!0)}function rC(){var t=Tp.current;return Tp.current=_p,t===null?_p:t}function $5(){(fn===0||fn===3||fn===2)&&(fn=4),Tn===null||!(Ol&268435455)&&!(e1&268435455)||Ha(Tn,qn)}function Cp(t,e){var n=et;et|=2;var r=rC();(Tn!==t||qn!==e)&&(Fs=null,yl(t,e));do try{ZU();break}catch(i){nC(t,i)}while(!0);if(b5(),et=n,Tp.current=r,an!==null)throw Error(ue(261));return Tn=null,qn=0,fn}function ZU(){for(;an!==null;)iC(an)}function eV(){for(;an!==null&&!_B();)iC(an)}function iC(t){var e=oC(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,e===null?sC(t):an=e,M5.current=null}function sC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KU(n,e),n!==null){n.flags&=32767,an=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fn=6,an=null;return}}else if(n=WU(n,e,Kr),n!==null){an=n;return}if(e=e.sibling,e!==null){an=e;return}an=e=t}while(e!==null);fn===0&&(fn=5)}function Xo(t,e,n){var r=ot,i=Ai.transition;try{Ai.transition=null,ot=1,tV(t,e,n,r)}finally{Ai.transition=i,ot=r}return null}function tV(t,e,n,r){do Wu();while(Xa!==null);if(et&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(RB(t,s),t===Tn&&(an=Tn=null,qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rm||(rm=!0,lC(cp,function(){return Wu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ai.transition,Ai.transition=null;var a=ot;ot=1;var o=et;et|=4,M5.current=null,YU(t,n),ZA(n,t),xU(M2),dp=!!N2,M2=N2=null,t.current=n,XU(n),TB(),et=o,ot=a,Ai.transition=s}else t.current=n;if(rm&&(rm=!1,Xa=t,Ap=i),s=t.pendingLanes,s===0&&(so=null),CB(n.stateNode),$r(t,Xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ip)throw Ip=!1,t=Z2,Z2=null,t;return Ap&1&&t.tag!==0&&Wu(),s=t.pendingLanes,s&1?t===ew?md++:(md=0,ew=t):md=0,Oo(),null}function Wu(){if(Xa!==null){var t=FI(Ap),e=Ai.transition,n=ot;try{if(Ai.transition=null,ot=16>t?16:t,Xa===null)var r=!1;else{if(t=Xa,Xa=null,Ap=0,et&6)throw Error(ue(331));var i=et;for(et|=4,Ee=t.current;Ee!==null;){var s=Ee,a=s.child;if(Ee.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ee=c;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:dd(8,d,s)}var m=d.child;if(m!==null)m.return=d,Ee=m;else for(;Ee!==null;){d=Ee;var g=d.sibling,y=d.return;if(XA(d),d===c){Ee=null;break}if(g!==null){g.return=y,Ee=g;break}Ee=y}}}var b=s.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var x=k.sibling;k.sibling=null,k=x}while(k!==null)}}Ee=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ee=a;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:dd(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Ee=_;break e}Ee=s.return}}var A=t.current;for(Ee=A;Ee!==null;){a=Ee;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Ee=C;else e:for(a=A;Ee!==null;){if(o=Ee,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Zg(9,o)}}catch(R){qt(o,o.return,R)}if(o===a){Ee=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,Ee=D;break e}Ee=o.return}}if(et=i,Oo(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(Hg,t)}catch{}r=!0}return r}finally{ot=n,Ai.transition=e}}return!1}function aS(t,e,n){e=lc(n,e),e=FA(t,e,1),t=io(t,e,1),e=yr(),t!==null&&(N0(t,1,e),$r(t,e))}function qt(t,e,n){if(t.tag===3)aS(t,t,n);else for(;e!==null;){if(e.tag===3){aS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(so===null||!so.has(r))){t=lc(n,t),t=zA(e,t,1),e=io(e,t,1),t=yr(),e!==null&&(N0(e,1,t),$r(e,t));break}}e=e.return}}function nV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yr(),t.pingedLanes|=t.suspendedLanes&n,Tn===t&&(qn&n)===n&&(fn===4||fn===3&&(qn&130023424)===qn&&500>Xt()-R5?yl(t,0):D5|=n),$r(t,e)}function aC(t,e){e===0&&(t.mode&1?(e=Kf,Kf<<=1,!(Kf&130023424)&&(Kf=4194304)):e=1);var n=yr();t=sa(t,e),t!==null&&(N0(t,e,n),$r(t,n))}function rV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aC(t,n)}function iV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),aC(t,n)}var oC;oC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jr.current)Or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Or=!1,HU(t,e,n);Or=!!(t.flags&131072)}else Or=!1,Pt&&e.flags&1048576&&hA(e,wp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Um(t,e),t=e.pendingProps;var i=ic(e,or.current);Hu(e,n),i=A5(null,e,r,t,i,n);var s=C5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lr(r)?(s=!0,yp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,S5(e),i.updater=Jg,e.stateNode=i,i._reactInternals=e,U2(e,r,t,n),e=H2(null,e,r,!0,s,n)):(e.tag=0,Pt&&s&&g5(e),hr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Um(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aV(r),t=zi(r,t),i){case 0:e=q2(null,e,r,t,n);break e;case 1:e=Xk(null,e,r,t,n);break e;case 11:e=Gk(null,e,r,t,n);break e;case 14:e=Yk(null,e,r,zi(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),q2(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),Xk(t,e,r,i,n);case 3:e:{if(qA(e),t===null)throw Error(ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,yA(t,e),kp(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lc(Error(ue(423)),e),e=Qk(t,e,r,n,i);break e}else if(r!==i){i=lc(Error(ue(424)),e),e=Qk(t,e,r,n,i);break e}else for(Jr=ro(e.stateNode.containerInfo.firstChild),ei=e,Pt=!0,Ui=null,n=pA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sc(),r===i){e=aa(t,e,n);break e}hr(t,e,r,n)}e=e.child}return e;case 5:return vA(e),t===null&&F2(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,D2(r,i)?a=null:s!==null&&D2(r,s)&&(e.flags|=32),VA(t,e),hr(t,e,a,n),e.child;case 6:return t===null&&F2(e),null;case 13:return HA(t,e,n);case 4:return E5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ac(e,null,r,n):hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),Gk(t,e,r,i,n);case 7:return hr(t,e,e.pendingProps,n),e.child;case 8:return hr(t,e,e.pendingProps.children,n),e.child;case 12:return hr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,yt(bp,r._currentValue),r._currentValue=a,s!==null)if(Gi(s.value,a)){if(s.children===i.children&&!jr.current){e=aa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Js(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),z2(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ue(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),z2(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hu(e,n),i=Pi(i),r=r(i),e.flags|=1,hr(t,e,r,n),e.child;case 14:return r=e.type,i=zi(r,e.pendingProps),i=zi(r.type,i),Yk(t,e,r,i,n);case 15:return BA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),Um(t,e),e.tag=1,Lr(r)?(t=!0,yp(e)):t=!1,Hu(e,n),$A(e,r,i),U2(e,r,i,n),H2(null,e,r,!0,t,n);case 19:return WA(t,e,n);case 22:return UA(t,e,n)}throw Error(ue(156,e.tag))};function lC(t,e){return RI(t,e)}function sV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(t,e,n,r){return new sV(t,e,n,r)}function F5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aV(t){if(typeof t=="function")return F5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===i5)return 11;if(t===s5)return 14}return 2}function oo(t,e){var n=t.alternate;return n===null?(n=Ei(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hm(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")F5(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Tu:return vl(n.children,i,s,e);case r5:a=8,i|=8;break;case d2:return t=Ei(12,n,e,i|2),t.elementType=d2,t.lanes=s,t;case f2:return t=Ei(13,n,e,i),t.elementType=f2,t.lanes=s,t;case m2:return t=Ei(19,n,e,i),t.elementType=m2,t.lanes=s,t;case vI:return t1(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gI:a=10;break e;case yI:a=9;break e;case i5:a=11;break e;case s5:a=14;break e;case za:a=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Ei(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function vl(t,e,n,r){return t=Ei(7,t,r,e),t.lanes=n,t}function t1(t,e,n,r){return t=Ei(22,t,r,e),t.elementType=vI,t.lanes=n,t.stateNode={isHidden:!1},t}function c4(t,e,n){return t=Ei(6,t,null,e),t.lanes=n,t}function h4(t,e,n){return e=Ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hv(0),this.expirationTimes=Hv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z5(t,e,n,r,i,s,a,o,l){return t=new oV(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ei(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},S5(s),t}function lV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_u,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uC(t){if(!t)return fo;t=t._reactInternals;e:{if(eu(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Lr(n))return uA(t,n,e)}return e}function cC(t,e,n,r,i,s,a,o,l){return t=z5(n,r,!0,t,i,s,a,o,l),t.context=uC(null),n=t.current,r=yr(),i=ao(n),s=Js(r,i),s.callback=e??null,io(n,s,i),t.current.lanes=i,N0(t,i,r),$r(t,r),t}function n1(t,e,n,r){var i=e.current,s=yr(),a=ao(i);return n=uC(n),e.context===null?e.context=n:e.pendingContext=n,e=Js(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=io(i,e,a),t!==null&&(Ki(t,i,a,s),Fm(t,i,a)),a}function Pp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function B5(t,e){oS(t,e),(t=t.alternate)&&oS(t,e)}function uV(){return null}var hC=typeof reportError=="function"?reportError:function(t){console.error(t)};function U5(t){this._internalRoot=t}r1.prototype.render=U5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));n1(t,e,null,null)};r1.prototype.unmount=U5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nl(function(){n1(null,t,null,null)}),e[ia]=null}};function r1(t){this._internalRoot=t}r1.prototype.unstable_scheduleHydration=function(t){if(t){var e=UI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qa.length&&e!==0&&e<qa[n].priority;n++);qa.splice(n,0,t),n===0&&qI(t)}};function V5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function i1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lS(){}function cV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Pp(a);s.call(c)}}var a=cC(e,r,t,0,null,!1,!1,"",lS);return t._reactRootContainer=a,t[ia]=a.current,Rd(t.nodeType===8?t.parentNode:t),Nl(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Pp(l);o.call(c)}}var l=z5(t,0,!1,null,null,!1,!1,"",lS);return t._reactRootContainer=l,t[ia]=l.current,Rd(t.nodeType===8?t.parentNode:t),Nl(function(){n1(e,l,n,r)}),l}function s1(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Pp(a);o.call(l)}}n1(e,a,t,i)}else a=cV(n,e,t,i,r);return Pp(a)}zI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yh(e.pendingLanes);n!==0&&(l5(e,n|1),$r(e,Xt()),!(et&6)&&(uc=Xt()+500,Oo()))}break;case 13:Nl(function(){var r=sa(t,1);if(r!==null){var i=yr();Ki(r,t,1,i)}}),B5(t,1)}};u5=function(t){if(t.tag===13){var e=sa(t,134217728);if(e!==null){var n=yr();Ki(e,t,134217728,n)}B5(t,134217728)}};BI=function(t){if(t.tag===13){var e=ao(t),n=sa(t,e);if(n!==null){var r=yr();Ki(n,t,e,r)}B5(t,e)}};UI=function(){return ot};VI=function(t,e){var n=ot;try{return ot=t,e()}finally{ot=n}};E2=function(t,e,n){switch(e){case"input":if(y2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yg(r);if(!i)throw Error(ue(90));bI(r),y2(r,i)}}}break;case"textarea":kI(t,n);break;case"select":e=n.value,e!=null&&Bu(t,!!n.multiple,e,!1)}};CI=j5;PI=Nl;var hV={usingClientEntryPoint:!1,Events:[D0,Pu,Yg,II,AI,j5]},Ih={findFiberByHostInstance:al,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dV={bundleType:Ih.bundleType,version:Ih.version,rendererPackageName:Ih.rendererPackageName,rendererConfig:Ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ih.findFiberByHostInstance||uV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{Hg=im.inject(dV),ws=im}catch{}}oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hV;oi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V5(e))throw Error(ue(200));return lV(t,e,null,n)};oi.createRoot=function(t,e){if(!V5(t))throw Error(ue(299));var n=!1,r="",i=hC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z5(t,1,!1,null,null,n,!1,r,i),t[ia]=e.current,Rd(t.nodeType===8?t.parentNode:t),new U5(e)};oi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=MI(e),t=t===null?null:t.stateNode,t};oi.flushSync=function(t){return Nl(t)};oi.hydrate=function(t,e,n){if(!i1(e))throw Error(ue(200));return s1(null,t,e,!0,n)};oi.hydrateRoot=function(t,e,n){if(!V5(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=hC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=cC(e,null,t,1,n??null,i,!1,s,a),t[ia]=e.current,Rd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new r1(e)};oi.render=function(t,e,n){if(!i1(e))throw Error(ue(200));return s1(null,t,e,!1,n)};oi.unmountComponentAtNode=function(t){if(!i1(t))throw Error(ue(40));return t._reactRootContainer?(Nl(function(){s1(null,null,t,!1,function(){t._reactRootContainer=null,t[ia]=null})}),!0):!1};oi.unstable_batchedUpdates=j5;oi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!i1(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return s1(t,e,n,!1,r)};oi.version="18.3.1-next-f1338f8080-20240426";function dC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dC)}catch(t){console.error(t)}}dC(),dI.exports=oi;var q5=dI.exports,uS=q5;c2.createRoot=uS.createRoot,c2.hydrateRoot=uS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}var Qa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qa||(Qa={}));const cS="popstate";function fV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return rw("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Op(i)}return pV(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mV(){return Math.random().toString(36).substr(2,8)}function hS(t,e){return{usr:t.state,key:t.key,idx:e}}function rw(t,e,n,r){return n===void 0&&(n=null),qd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$c(e):e,{state:n,key:e&&e.key||r||mV()})}function Op(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $c(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Qa.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(qd({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function m(){o=Qa.Pop;let x=d(),_=x==null?null:x-c;c=x,l&&l({action:o,location:k.location,delta:_})}function g(x,_){o=Qa.Push;let A=rw(k.location,x,_);c=d()+1;let C=hS(A,c),D=k.createHref(A);try{a.pushState(C,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(D)}s&&l&&l({action:o,location:k.location,delta:1})}function y(x,_){o=Qa.Replace;let A=rw(k.location,x,_);c=d();let C=hS(A,c),D=k.createHref(A);a.replaceState(C,"",D),s&&l&&l({action:o,location:k.location,delta:0})}function b(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof x=="string"?x:Op(x);return A=A.replace(/ $/,"%20"),zt(_,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,_)}let k={get action(){return o},get location(){return t(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(cS,m),l=x,()=>{i.removeEventListener(cS,m),l=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let _=b(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:y,go(x){return a.go(x)}};return k}var dS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dS||(dS={}));function gV(t,e,n){return n===void 0&&(n="/"),yV(t,e,n)}function yV(t,e,n,r){let i=typeof e=="string"?$c(e):e,s=cc(i.pathname||"/",n);if(s==null)return null;let a=mC(t);vV(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=CV(s);o=IV(a[l],c)}return o}function mC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(zt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=lo([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(zt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),mC(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_V(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of pC(s.path))i(s,a,l)}),e}function pC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=pC(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function vV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wV=/^:[\w-]+$/,bV=3,xV=2,kV=1,SV=10,EV=-2,fS=t=>t==="*";function _V(t,e){let n=t.split("/"),r=n.length;return n.some(fS)&&(r+=EV),e&&(r+=xV),n.filter(i=>!fS(i)).reduce((i,s)=>i+(wV.test(s)?bV:s===""?kV:SV),r)}function TV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IV(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=iw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),g=l.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:lo([s,m.pathname]),pathnameBase:MV(lo([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=lo([s,m.pathnameBase]))}return a}function iw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=AV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,m)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let k=o[m]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const b=o[m];return y&&!b?c[g]=void 0:c[g]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function AV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$c(t):t;return{pathname:n?n.startsWith("/")?n:OV(n,e):e,search:DV(r),hash:RV(i)}}function OV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function d4(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function H5(t,e){let n=NV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function W5(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$c(t):(i=qd({},t),zt(!i.pathname||!i.pathname.includes("?"),d4("?","pathname","search",i)),zt(!i.pathname||!i.pathname.includes("#"),d4("#","pathname","hash",i)),zt(!i.search||!i.search.includes("#"),d4("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}o=m>=0?e[m]:"/"}let l=PV(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const lo=t=>t.join("/").replace(/\/\/+/g,"/"),MV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gC=["post","put","patch","delete"];new Set(gC);const LV=["get",...gC];new Set(LV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}const a1=I.createContext(null),yC=I.createContext(null),ga=I.createContext(null),o1=I.createContext(null),ya=I.createContext({outlet:null,matches:[],isDataRoute:!1}),vC=I.createContext(null);function $V(t,e){let{relative:n}=e===void 0?{}:e;Fc()||zt(!1);let{basename:r,navigator:i}=I.useContext(ga),{hash:s,pathname:a,search:o}=l1(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:lo([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Fc(){return I.useContext(o1)!=null}function zc(){return Fc()||zt(!1),I.useContext(o1).location}function wC(t){I.useContext(ga).static||I.useLayoutEffect(t)}function bC(){let{isDataRoute:t}=I.useContext(ya);return t?ZV():FV()}function FV(){Fc()||zt(!1);let t=I.useContext(a1),{basename:e,future:n,navigator:r}=I.useContext(ga),{matches:i}=I.useContext(ya),{pathname:s}=zc(),a=JSON.stringify(H5(i,n.v7_relativeSplatPath)),o=I.useRef(!1);return wC(()=>{o.current=!0}),I.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let m=W5(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:lo([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,a,s,t])}const zV=I.createContext(null);function BV(t){let e=I.useContext(ya).outlet;return e&&I.createElement(zV.Provider,{value:t},e)}function l1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(ga),{matches:i}=I.useContext(ya),{pathname:s}=zc(),a=JSON.stringify(H5(i,r.v7_relativeSplatPath));return I.useMemo(()=>W5(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function UV(t,e){return VV(t,e)}function VV(t,e,n,r){Fc()||zt(!1);let{navigator:i}=I.useContext(ga),{matches:s}=I.useContext(ya),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=zc(),d;if(e){var m;let x=typeof e=="string"?$c(e):e;l==="/"||(m=x.pathname)!=null&&m.startsWith(l)||zt(!1),d=x}else d=c;let g=d.pathname||"/",y=g;if(l!=="/"){let x=l.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=gV(t,{pathname:y}),k=GV(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:lo([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:lo([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&k?I.createElement(o1.Provider,{value:{location:Hd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qa.Pop}},k):k}function qV(){let t=JV(),e=jV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const HV=I.createElement(qV,null);class WV extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(ya.Provider,{value:this.props.routeContext},I.createElement(vC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KV(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(a1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(ya.Provider,{value:e},r)}function GV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);d>=0||zt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:g,errors:y}=n,b=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let y,b=!1,k=null,x=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,k=m.route.errorElement||HV,l&&(c<0&&g===0?(eq("route-fallback"),b=!0,x=null):c===g&&(b=!0,x=m.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,g+1)),A=()=>{let C;return y?C=k:b?C=x:m.route.Component?C=I.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=d,I.createElement(KV,{match:m,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?I.createElement(WV,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):A()},null)}var xC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xC||{}),kC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kC||{});function YV(t){let e=I.useContext(a1);return e||zt(!1),e}function XV(t){let e=I.useContext(yC);return e||zt(!1),e}function QV(t){let e=I.useContext(ya);return e||zt(!1),e}function SC(t){let e=QV(),n=e.matches[e.matches.length-1];return n.route.id||zt(!1),n.route.id}function JV(){var t;let e=I.useContext(vC),n=XV(),r=SC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ZV(){let{router:t}=YV(xC.UseNavigateStable),e=SC(kC.UseNavigateStable),n=I.useRef(!1);return wC(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hd({fromRouteId:e},s)))},[t,e])}const mS={};function eq(t,e,n){mS[t]||(mS[t]=!0)}function tq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function EC(t){let{to:e,replace:n,state:r,relative:i}=t;Fc()||zt(!1);let{future:s,static:a}=I.useContext(ga),{matches:o}=I.useContext(ya),{pathname:l}=zc(),c=bC(),d=W5(e,H5(o,s.v7_relativeSplatPath),l,i==="path"),m=JSON.stringify(d);return I.useEffect(()=>c(JSON.parse(m),{replace:n,state:r,relative:i}),[c,m,i,n,r]),null}function _C(t){return BV(t.context)}function Fi(t){zt(!1)}function nq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qa.Pop,navigator:s,static:a=!1,future:o}=t;Fc()&&zt(!1);let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:s,static:a,future:Hd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=$c(r));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:b="default"}=r,k=I.useMemo(()=>{let x=cc(d,l);return x==null?null:{location:{pathname:x,search:m,hash:g,state:y,key:b},navigationType:i}},[l,d,m,g,y,b,i]);return k==null?null:I.createElement(ga.Provider,{value:c},I.createElement(o1.Provider,{children:n,value:k}))}function rq(t){let{children:e,location:n}=t;return UV(sw(e),n)}new Promise(()=>{});function sw(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,sw(r.props.children,s));return}r.type!==Fi&&zt(!1),!r.props.index||!r.props.children||zt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=sw(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Np.apply(this,arguments)}function TC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sq(t,e){return t.button===0&&(!e||e==="_self")&&!iq(t)}const aq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],lq="6";try{window.__reactRouterVersion=lq}catch{}const uq=I.createContext({isTransitioning:!1}),cq="startTransition",pS=cI[cq];function hq(t){let{basename:e,children:n,future:r,window:i}=t,s=I.useRef();s.current==null&&(s.current=fV({window:i,v5Compat:!0}));let a=s.current,[o,l]=I.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=I.useCallback(m=>{c&&pS?pS(()=>l(m)):l(m)},[l,c]);return I.useLayoutEffect(()=>a.listen(d),[a,d]),I.useEffect(()=>tq(r),[r]),I.createElement(nq,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const dq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pd=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:m}=e,g=TC(e,aq),{basename:y}=I.useContext(ga),b,k=!1;if(typeof c=="string"&&fq.test(c)&&(b=c,dq))try{let C=new URL(window.location.href),D=c.startsWith("//")?new URL(C.protocol+c):new URL(c),R=cc(D.pathname,y);D.origin===C.origin&&R!=null?c=R+D.search+D.hash:k=!0}catch{}let x=$V(c,{relative:i}),_=pq(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:m});function A(C){r&&r(C),C.defaultPrevented||_(C)}return I.createElement("a",Np({},g,{href:b||x,onClick:k||s?r:A,ref:n,target:l}))}),Ko=I.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,m=TC(e,oq),g=l1(l,{relative:m.relative}),y=zc(),b=I.useContext(yC),{navigator:k,basename:x}=I.useContext(ga),_=b!=null&&gq(g)&&c===!0,A=k.encodeLocation?k.encodeLocation(g).pathname:g.pathname,C=y.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(C=C.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&x&&(D=cc(D,x)||D);const R=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let L=C===A||!a&&C.startsWith(A)&&C.charAt(R)==="/",U=D!=null&&(D===A||!a&&D.startsWith(A)&&D.charAt(A.length)==="/"),G={isActive:L,isPending:U,isTransitioning:_},Z=L?r:void 0,J;typeof s=="function"?J=s(G):J=[s,L?"active":null,U?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let ne=typeof o=="function"?o(G):o;return I.createElement(pd,Np({},m,{"aria-current":Z,className:J,ref:n,style:ne,to:l,viewTransition:c}),typeof d=="function"?d(G):d)});var aw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aw||(aw={}));var gS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gS||(gS={}));function mq(t){let e=I.useContext(a1);return e||zt(!1),e}function pq(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=bC(),c=zc(),d=l1(t,{relative:a});return I.useCallback(m=>{if(sq(m,n)){m.preventDefault();let g=r!==void 0?r:Op(c)===Op(d);l(t,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,r,i,n,t,s,a,o])}function gq(t,e){e===void 0&&(e={});let n=I.useContext(uq);n==null&&zt(!1);let{basename:r}=mq(aw.useViewTransitionState),i=l1(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=cc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=cc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return iw(i.pathname,a)!=null||iw(i.pathname,s)!=null}var yS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},AC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,m=(s&3)<<4|o>>4;let g=(o&15)<<2|c>>6,y=c&63;l||(y=64,a||(g=64)),r.push(n[d],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||m==null)throw new vq;const g=s<<2|o>>4;if(r.push(g),c!==64){const y=o<<4&240|c>>2;if(r.push(y),m!==64){const b=c<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wq=function(t){const e=IC(t);return AC.encodeByteArray(e,!0)},Mp=function(t){return wq(t).replace(/\./g,"")},CC=function(t){try{return AC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!bq(n)||(t[n]=Dp(t[n],e[n]));return t}function bq(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=()=>xq().__FIREBASE_DEFAULTS__,Sq=()=>{if(typeof process>"u"||typeof yS>"u")return;const t=yS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Eq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CC(t[1]);return e&&JSON.parse(e)},K5=()=>{try{return kq()||Sq()||Eq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PC=()=>{var t;return(t=K5())===null||t===void 0?void 0:t.config},_q=t=>{var e;return(e=K5())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mp(JSON.stringify(n)),Mp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function G5(){var t;const e=(t=K5())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cq(){return typeof self=="object"&&self.self===self}function OC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NC(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pq(){return!G5()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wd(){try{return typeof indexedDB=="object"}catch{return!1}}function Oq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq="FirebaseError";class vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Nq,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Mq(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new vr(i,o,r)}}function Mq(t,e){return t.replace(Dq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Dq=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ow(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(wS(s)&&wS(a)){if(!ow(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MC(t,e){const n=new jq(t,e);return n.subscribe.bind(n)}class jq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Lq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=f4),i.error===void 0&&(i.error=f4),i.complete===void 0&&(i.complete=f4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function f4(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}class _s{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $q=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Tq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zq(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Fq(t){return t===Qo?void 0:t}function zq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $q(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=[];var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const DC={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},Uq=Xe.INFO,Vq={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},qq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Vq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u1{constructor(e){this.name=e,this._logLevel=Uq,this._logHandler=qq,this._userLogHandler=null,X5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}function Hq(t){X5.forEach(e=>{e.setLogLevel(t)})}function Wq(t,e){for(const n of X5){let r=null;e&&e.level&&(r=DC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const o=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Xe[s].toLowerCase(),message:o,args:a,type:i.name})}}}const Kq=(t,e)=>e.some(n=>t instanceof n);let bS,xS;function Gq(){return bS||(bS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yq(){return xS||(xS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RC=new WeakMap,lw=new WeakMap,jC=new WeakMap,m4=new WeakMap,Q5=new WeakMap;function Xq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(uo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&RC.set(n,t)}).catch(()=>{}),Q5.set(e,t),e}function Qq(t){if(lw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});lw.set(t,e)}let uw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jq(t){uw=t(uw)}function Zq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(p4(this),e,...n);return jC.set(r,e.sort?e.sort():[e]),uo(r)}:Yq().includes(t)?function(...e){return t.apply(p4(this),e),uo(RC.get(this))}:function(...e){return uo(t.apply(p4(this),e))}}function eH(t){return typeof t=="function"?Zq(t):(t instanceof IDBTransaction&&Qq(t),Kq(t,Gq())?new Proxy(t,uw):t)}function uo(t){if(t instanceof IDBRequest)return Xq(t);if(m4.has(t))return m4.get(t);const e=eH(t);return e!==t&&(m4.set(t,e),Q5.set(e,t)),e}const p4=t=>Q5.get(t);function tH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=uo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(uo(a.result),l.oldVersion,l.newVersion,uo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const nH=["get","getKey","getAll","getAllKeys","count"],rH=["put","add","delete","clear"],g4=new Map;function kS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(g4.get(e))return g4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nH.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return g4.set(e,s),s}Jq(t=>({...t,get:(e,n,r)=>kS(e,n)||t.get(e,n,r),has:(e,n)=>!!kS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cw="@firebase/app",SS="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new u1("@firebase/app"),aH="@firebase/app-compat",oH="@firebase/analytics-compat",lH="@firebase/analytics",uH="@firebase/app-check-compat",cH="@firebase/app-check",hH="@firebase/auth",dH="@firebase/auth-compat",fH="@firebase/database",mH="@firebase/database-compat",pH="@firebase/functions",gH="@firebase/functions-compat",yH="@firebase/installations",vH="@firebase/installations-compat",wH="@firebase/messaging",bH="@firebase/messaging-compat",xH="@firebase/performance",kH="@firebase/performance-compat",SH="@firebase/remote-config",EH="@firebase/remote-config-compat",_H="@firebase/storage",TH="@firebase/storage-compat",IH="@firebase/firestore",AH="@firebase/firestore-compat",CH="firebase",PH="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]",OH={[cw]:"fire-core",[aH]:"fire-core-compat",[lH]:"fire-analytics",[oH]:"fire-analytics-compat",[cH]:"fire-app-check",[uH]:"fire-app-check-compat",[hH]:"fire-auth",[dH]:"fire-auth-compat",[fH]:"fire-rtdb",[mH]:"fire-rtdb-compat",[pH]:"fire-fn",[gH]:"fire-fn-compat",[yH]:"fire-iid",[vH]:"fire-iid-compat",[wH]:"fire-fcm",[bH]:"fire-fcm-compat",[xH]:"fire-perf",[kH]:"fire-perf-compat",[SH]:"fire-rc",[EH]:"fire-rc-compat",[_H]:"fire-gcs",[TH]:"fire-gcs-compat",[IH]:"fire-fst",[AH]:"fire-fst-compat","fire-js":"fire-js",[CH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Map,Kd=new Map;function Rp(t,e){try{t.container.addComponent(e)}catch(n){Ml.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function LC(t,e){t.container.addOrOverwriteComponent(e)}function go(t){const e=t.name;if(Kd.has(e))return Ml.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,t);for(const n of po.values())Rp(n,t);return!0}function $C(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function NH(t,e,n=mo){$C(t,e).clearInstance(n)}function MH(){Kd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zs=new tu("app","Firebase",DH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RH=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=PH;function J5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(n||(n=PC()),!n)throw Zs.create("no-options");const s=po.get(i);if(s){if(ow(n,s.options)&&ow(r,s.config))return s;throw Zs.create("duplicate-app",{appName:i})}const a=new Bq(i);for(const l of Kd.values())a.addComponent(l);const o=new RH(n,r,a);return po.set(i,o),o}function jH(t=mo){const e=po.get(t);if(!e&&t===mo&&PC())return J5();if(!e)throw Zs.create("no-app",{appName:t});return e}function LH(){return Array.from(po.values())}async function FC(t){const e=t.name;po.has(e)&&(po.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function xs(t,e,n){var r;let i=(r=OH[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ml.warn(o.join(" "));return}go(new _s(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function zC(t,e){if(t!==null&&typeof t!="function")throw Zs.create("invalid-log-argument");Wq(t,e)}function BC(t){Hq(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H="firebase-heartbeat-database",FH=1,Gd="firebase-heartbeat-store";let y4=null;function UC(){return y4||(y4=tH($H,FH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gd)}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),y4}async function zH(t){try{return await(await UC()).transaction(Gd).objectStore(Gd).get(VC(t))}catch(e){if(e instanceof vr)Ml.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ml.warn(n.message)}}}async function ES(t,e){try{const r=(await UC()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,VC(t)),await r.done}catch(n){if(n instanceof vr)Ml.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ml.warn(r.message)}}}function VC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=1024,UH=30*24*60*60*1e3;class VH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_S();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=UH}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_S(),{heartbeatsToSend:n,unsentEntries:r}=qH(this._heartbeatsCache.heartbeats),i=Mp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _S(){return new Date().toISOString().substring(0,10)}function qH(t,e=BH){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),TS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wd()?Oq().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zH(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ES(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ES(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TS(t){return Mp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t){go(new _s("platform-logger",e=>new iH(e),"PRIVATE")),go(new _s("heartbeat",e=>new VH(e),"PRIVATE")),xs(cw,SS,t),xs(cw,SS,"esm2017"),xs("fire-js","")}WH("");const KH=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:vr,SDK_VERSION:No,_DEFAULT_ENTRY_NAME:mo,_addComponent:Rp,_addOrOverwriteComponent:LC,_apps:po,_clearComponents:MH,_components:Kd,_getProvider:$C,_registerComponent:go,_removeServiceInstance:NH,deleteApp:FC,getApp:jH,getApps:LH,initializeApp:J5,onLog:zC,registerVersion:xs,setLogLevel:BC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this._delegate=e,this.firebase=n,Rp(e,new _s("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),FC(this._delegate)))}_getService(e,n=mo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=mo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Rp(this._delegate,e)}_addOrOverwriteComponent(e){LC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},IS=new tu("app-compat","Firebase",YH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:xs,setLogLevel:BC,onLog:zC,apps:null,SDK_VERSION:No,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:KH}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(c){delete e[c]}function i(c){if(c=c||mo,!vS(e,c))throw IS.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,d={}){const m=J5(c,d);if(vS(e,m.name))return e[m.name];const g=new t(m,n);return e[m.name]=g,g}function a(){return Object.keys(e).map(c=>e[c])}function o(c){const d=c.name,m=d.replace("-compat","");if(go(c)&&c.type==="PUBLIC"){const g=(y=i())=>{if(typeof y[m]!="function")throw IS.create("invalid-app-argument",{appName:d});return y[m]()};c.serviceProps!==void 0&&Dp(g,c.serviceProps),n[m]=g,t.prototype[m]=function(...y){return this._getService.bind(this,d).apply(this,c.multipleInstances?y:[])}}return c.type==="PUBLIC"?n[m]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){const t=XH(GH);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:qC,extendNamespace:e,createSubscribe:MC,ErrorFactory:tu,deepExtend:Dp});function e(n){Dp(t,n)}return t}const QH=qC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new u1("@firebase/app-compat"),JH="@firebase/app-compat",ZH="0.2.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t){xs(JH,ZH,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Cq()&&self.firebase!==void 0){AS.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&AS.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const va=QH;eW();var tW="firebase",nW="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */va.registerVersion(tW,nW,"app-compat");function Z5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Ah={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},gu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}}function HC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iW=rW,sW=HC,WC=new tu("auth","Firebase",HC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new u1("@firebase/auth");function aW(t,...e){jp.logLevel<=Xe.WARN&&jp.warn(`Auth (${No}): ${t}`,...e)}function Wm(t,...e){jp.logLevel<=Xe.ERROR&&jp.error(`Auth (${No}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw e3(t,...e)}function Hn(t,...e){return e3(t,...e)}function KC(t,e,n){const r=Object.assign(Object.assign({},sW()),{[e]:n});return new tu("auth","Firebase",r).create(e,{appName:t.name})}function Uc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(t,"argument-error"),KC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WC.create(t,...e)}function de(t,e,...n){if(!t)throw e3(e,...n)}function fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wm(e),new Error(e)}function Yi(t,e){t||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function t3(){return CS()==="http:"||CS()==="https:"}function CS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t3()||OC()||"connection"in navigator)?navigator.onLine:!0}function lW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=Aq()||Y5()}get(){return oW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=new j0(3e4,6e4);function ln(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pn(t,e,n,r,i={}){return YC(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Bc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),GC.fetch()(XC(t,t.config.apiHost,n,o),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function YC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uW),e);try{const i=new hW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Jh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Jh(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Jh(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw KC(t,d,c);Gn(t,d)}}catch(i){if(i instanceof vr)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function wa(t,e,n,r,i={}){const s=await pn(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function XC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?n3(t.config,i):`${t.config.apiScheme}://${i}`}class hW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),cW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dW(t,e){return pn(t,"POST","/v1/accounts:delete",e)}async function fW(t,e){return pn(t,"POST","/v1/accounts:update",e)}async function mW(t,e){return pn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pW(t,e=!1){const n=Me(t),r=await n.getIdToken(e),i=c1(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gd(v4(i.auth_time)),issuedAtTime:gd(v4(i.iat)),expirationTime:gd(v4(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function v4(t){return Number(t)*1e3}function c1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wm("JWT malformed, contained fewer than 3 sections"),null;try{const i=CC(n);return i?JSON.parse(i):(Wm("Failed to decode base64 JWT payload"),null)}catch(i){return Wm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gW(t){const e=c1(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vr&&yW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gd(this.lastLoginAt),this.creationTime=gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await oa(t,mW(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xW(s.providerUserInfo):[],o=bW(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new QC(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function wW(t){const e=Me(t);await Xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xW(t){return t.map(e=>{var{providerId:n}=e,r=Z5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW(t,e){const n=await YC(t,{},async()=>{const r=Bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=XC(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",GC.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gW(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Qd;return r&&(de(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qd,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Z5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new QC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oa(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pW(this,e)}reload(){return wW(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await oa(this,dW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,d;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(a=n.photoURL)!==null&&a!==void 0?a:void 0,k=(o=n.tenantId)!==null&&o!==void 0?o:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,A=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:D,isAnonymous:R,providerData:L,stsTokenManager:U}=n;de(C&&U,e,"internal-error");const G=Qd.fromJSON(this.name,U);de(typeof C=="string",e,"internal-error"),ja(m,e.name),ja(g,e.name),de(typeof D=="boolean",e,"internal-error"),de(typeof R=="boolean",e,"internal-error"),ja(y,e.name),ja(b,e.name),ja(k,e.name),ja(x,e.name),ja(_,e.name),ja(A,e.name);const Z=new wl({uid:C,auth:e,email:g,emailVerified:D,displayName:m,isAnonymous:R,photoURL:b,phoneNumber:y,tenantId:k,stsTokenManager:G,createdAt:_,lastLoginAt:A});return L&&Array.isArray(L)&&(Z.providerData=L.map(J=>Object.assign({},J))),x&&(Z._redirectEventId=x),Z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qd;i.updateFromServerResponse(n);const s=new wl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map;function Zr(t){Yi(t instanceof Function,"Expected a class definition");let e=PS.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JC.type="NONE";const hc=JC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e,n){return`firebase:${t}:${e}:${n}`}class Ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bl(this.userKey,i.apiKey,s),this.fullPersistenceKey=bl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ku(Zr(hc),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Zr(hc);const a=bl(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const d=await c._get(a);if(d){const m=wl._fromJSON(e,d);c!==s&&(o=m),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ku(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Ku(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nP(e))return"Blackberry";if(rP(e))return"Webos";if(r3(e))return"Safari";if((e.includes("chrome/")||eP(e))&&!e.includes("edge/"))return"Chrome";if(L0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZC(t=Ut()){return/firefox\//i.test(t)}function r3(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eP(t=Ut()){return/crios\//i.test(t)}function tP(t=Ut()){return/iemobile/i.test(t)}function L0(t=Ut()){return/android/i.test(t)}function nP(t=Ut()){return/blackberry/i.test(t)}function rP(t=Ut()){return/webos/i.test(t)}function Vc(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SW(t=Ut()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function EW(t=Ut()){var e;return Vc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _W(){return NC()&&document.documentMode===10}function iP(t=Ut()){return Vc(t)||L0(t)||rP(t)||nP(t)||/windows phone/i.test(t)||tP(t)}function TW(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e=[]){let n;switch(t){case"Browser":n=OS(Ut());break;case"Worker":n=`${OS(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(t){return(await pn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function aP(t,e){return pn(t,"GET","/v2/recaptchaConfig",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){return t!==void 0&&t.getResponse!==void 0}function MS(t){return t!==void 0&&t.enterprise!==void 0}class oP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function i3(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",AW().appendChild(r)})}function lP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const CW="https://www.google.com/recaptcha/enterprise.js?render=",PW="recaptcha-enterprise",OW="NO_RECAPTCHA";class uP{constructor(e){this.type=PW,this.auth=en(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{aP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new oP(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;MS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(OW)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&MS(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}i3(CW+o).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function yo(t,e,n,r=!1){const i=new uP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DS(this),this.idTokenSubscription=new DS(this),this.beforeStateQueue=new NW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ku.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Me(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}async initializeRecaptchaConfig(){const e=await aP(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new oP(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new uP(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Ku.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return de(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function en(t){return Me(t)}class DS{constructor(e){this.auth=e,this.observer=null,this.addObserver=MC(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function DW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RW(t,e,n){const r=en(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=cP(e),{host:a,port:o}=jW(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||LW()}function cP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jW(t){const e=cP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:RS(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:RS(a)}}}function RS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,n){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e){return pn(t,"POST","/v1/accounts:resetPassword",ln(t,e))}async function dP(t,e){return pn(t,"POST","/v1/accounts:update",e)}async function $W(t,e){return pn(t,"POST","/v1/accounts:update",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){return wa(t,"POST","/v1/accounts:signInWithPassword",ln(t,e))}async function h1(t,e){return pn(t,"POST","/v1/accounts:sendOobCode",ln(t,e))}async function FW(t,e){return h1(t,e)}async function b4(t,e){return h1(t,e)}async function x4(t,e){return h1(t,e)}async function zW(t,e){return h1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BW(t,e){return wa(t,"POST","/v1/accounts:signInWithEmailLink",ln(t,e))}async function UW(t,e){return wa(t,"POST","/v1/accounts:signInWithEmailLink",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends qc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await yo(e,r,"signInWithPassword");return w4(e,i)}else return w4(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await yo(e,r,"signInWithPassword");return w4(e,s)}else return Promise.reject(i)});case"emailLink":return BW(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return dP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return UW(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t,e){return wa(t,"POST","/v1/accounts:signInWithIdp",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW="http://localhost";class Ts extends qc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Z5(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ts(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ea(e,n)}buildRequest(){const e={requestUri:VW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(t,e){return pn(t,"POST","/v1/accounts:sendVerificationCode",ln(t,e))}async function HW(t,e){return wa(t,"POST","/v1/accounts:signInWithPhoneNumber",ln(t,e))}async function WW(t,e){const n=await wa(t,"POST","/v1/accounts:signInWithPhoneNumber",ln(t,e));if(n.temporaryProof)throw Jh(t,"account-exists-with-different-credential",n);return n}const KW={USER_NOT_FOUND:"user-not-found"};async function GW(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return wa(t,"POST","/v1/accounts:signInWithPhoneNumber",ln(t,n),KW)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends qc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new xl({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new xl({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return HW(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return WW(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return GW(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new xl({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XW(t){const e=Lu(Qh(t)).link,n=e?Lu(Qh(e)).deep_link_id:null,r=Lu(Qh(t)).deep_link_id;return(r?Lu(Qh(r)).link:null)||r||n||e||t}class d1{constructor(e){var n,r,i,s,a,o;const l=Lu(Qh(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,m=YW((i=l.mode)!==null&&i!==void 0?i:null);de(c&&d&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=XW(e);try{return new d1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return Jd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=d1.parseLink(n);return de(r,"argument-error"),Jd._fromEmailAndCode(e,r.code,r.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends ba{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gu extends Hc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return de("providerId"in n&&"signInMethod"in n,"argument-error"),Ts._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return de(e.idToken||e.accessToken,"argument-error"),Ts._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Gu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Gu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=e;if(!r&&!i&&!n&&!s||!o)return null;try{return new Gu(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Hc{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ts._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return us.credential(n,r)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Hc{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW="http://localhost";class dc extends qc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ea(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new dc(r,s)}static _create(e,n){return new dc(e,n)}buildRequest(){return{requestUri:QW,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW="saml.";class Lp extends ba{constructor(e){de(e.startsWith(JW),"argument-error"),super(e)}static credentialFromResult(e){return Lp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Lp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=dc.fromJSON(e);return de(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return dc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Hc{constructor(){super("twitter.com")}static credential(e,n){return Ts._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hs.credential(n,r)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(t,e){return wa(t,"POST","/v1/accounts:signUp",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await wl._fromIdTokenResponse(e,r,i),a=jS(r);return new Ni({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jS(r);return new Ni({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW(t){var e;const n=en(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ni({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Km(n,{returnSecureToken:!0}),i=await Ni._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends vr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$p.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $p(e,n,r,i)}}function fP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$p._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eK(t,e){const n=Me(t);await f1(!0,n,e);const{providerUserInfo:r}=await fW(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=mP(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function s3(t,e,n=!1){const r=await oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ni._forOperation(t,"link",r)}async function f1(t,e,n){await Xd(e);const r=mP(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";de(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await oa(t,fP(r,i,e,t),n);de(s.idToken,r,"internal-error");const a=c1(s.idToken);de(a,r,"internal-error");const{sub:o}=a;return de(t.uid===o,r,"user-mismatch"),Ni._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e,n=!1){const r="signIn",i=await fP(t,r,e),s=await Ni._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function m1(t,e){return gP(en(t),e)}async function yP(t,e){const n=Me(t);return await f1(!1,n,e.providerId),s3(n,e)}async function vP(t,e){return pP(Me(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tK(t,e){return wa(t,"POST","/v1/accounts:signInWithCustomToken",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nK(t,e){const n=en(t),r=await tK(n,{token:e,returnSecureToken:!0}),i=await Ni._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?a3._fromServerResponse(e,n):"totpInfo"in n?o3._fromServerResponse(e,n):Gn(e,"internal-error")}}class a3 extends $0{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new a3(n)}}class o3 extends $0{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new o3(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t,e,n){var r;de(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),de(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(de(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(de(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rK(t,e,n){var r;const i=en(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await yo(i,s,"getOobCode",!0);n&&Yu(i,a,n),await b4(i,a)}else n&&Yu(i,s,n),await b4(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const o=await yo(i,s,"getOobCode",!0);n&&Yu(i,o,n),await b4(i,o)}else return Promise.reject(a)})}async function iK(t,e,n){await hP(Me(t),{oobCode:e,newPassword:n})}async function sK(t,e){await $W(Me(t),{oobCode:e})}async function wP(t,e){const n=Me(t),r=await hP(n,{oobCode:e}),i=r.requestType;switch(de(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(r.mfaInfo,n,"internal-error");default:de(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=$0._fromServerResponse(en(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function aK(t,e){const{data:n}=await wP(Me(t),e);return n.email}async function oK(t,e,n){var r;const i=en(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await yo(i,s,"signUpPassword");a=Km(i,c)}else a=Km(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await yo(i,s,"signUpPassword");return Km(i,d)}else return Promise.reject(c)});const o=await a.catch(c=>Promise.reject(c)),l=await Ni._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}function lK(t,e,n){return m1(Me(t),Mo.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uK(t,e,n){var r;const i=en(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(o,l){de(l.handleCodeInApp,i,"argument-error"),l&&Yu(i,o,l)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await yo(i,s,"getOobCode",!0);a(o,n),await x4(i,o)}else a(s,n),await x4(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await yo(i,s,"getOobCode",!0);a(l,n),await x4(i,l)}else return Promise.reject(o)})}function cK(t,e){const n=d1.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function hK(t,e,n){const r=Me(t),i=Mo.credentialWithLink(e,n||Yd());return de(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),m1(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dK(t,e){return pn(t,"POST","/v1/accounts:createAuthUri",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fK(t,e){const n=t3()?Yd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await dK(Me(t),r);return i||[]}async function mK(t,e){const n=Me(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Yu(n.auth,i,e);const{email:s}=await FW(n.auth,i);s!==t.email&&await t.reload()}async function pK(t,e,n){const r=Me(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Yu(r.auth,s,n);const{email:a}=await zW(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gK(t,e){return pn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yK(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Me(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await oa(r,gK(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function vK(t,e){return bP(Me(t),e,null)}function wK(t,e){return bP(Me(t),null,e)}async function bP(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await oa(t,dP(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const a=(n=(e=c1(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const o=a!=="anonymous"&&a!=="custom"?a:null;return new Xu(s,o)}}if(!r)return null;switch(r){case"facebook.com":return new xK(s,i);case"github.com":return new kK(s,i);case"google.com":return new SK(s,i);case"twitter.com":return new EK(s,i,t.screenName||null);case"custom":case"anonymous":return new Xu(s,null);default:return new Xu(s,r,i)}}class Xu{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class xP extends Xu{constructor(e,n,r,i){super(e,n,r),this.username=i}}class xK extends Xu{constructor(e,n){super(e,"facebook.com",n)}}class kK extends xP{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class SK extends Xu{constructor(e,n){super(e,"google.com",n)}}class EK extends xP{constructor(e,n,r){super(e,"twitter.com",n,r)}}function _K(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:bK(n)}class ul{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new ul("enroll",e,n)}static _fromMfaPendingCredential(e){return new ul("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return ul._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return ul._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=en(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(o=>$0._fromServerResponse(r,o));de(i.mfaPendingCredential,r,"internal-error");const a=ul._fromMfaPendingCredential(i.mfaPendingCredential);return new l3(a,s,async o=>{const l=await o._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await Ni._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return de(n.user,r,"internal-error"),Ni._forOperation(n.user,n.operationType,c);default:Gn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function TK(t,e){var n;const r=Me(t),i=e;return de(e.customData.operationType,r,"argument-error"),de((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),l3._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IK(t,e){return pn(t,"POST","/v2/accounts/mfaEnrollment:start",ln(t,e))}function AK(t,e){return pn(t,"POST","/v2/accounts/mfaEnrollment:finalize",ln(t,e))}function CK(t,e){return pn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(t,e))}class u3{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>$0._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new u3(e)}async getSession(){return ul._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await oa(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await oa(this.user,CK(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const k4=new WeakMap;function PK(t){const e=Me(t);return k4.has(e)||k4.set(e,u3._fromUser(e)),k4.get(e)}const Fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fp,"1"),this.storage.removeItem(Fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(){const t=Ut();return r3(t)||Vc(t)}const NK=1e3,MK=10;class SP extends kP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=OK()&&TW(),this.fallbackToPolling=iP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);_W()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MK):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SP.type="LOCAL";const c3=SP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP extends kP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EP.type="SESSION";const Dl=EP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new p1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await DK(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}p1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=F0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function jK(t){sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function LK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $K(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FK(){return h3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="firebaseLocalStorageDb",zK=1,zp="firebaseLocalStorage",TP="fbase_key";class z0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function g1(t,e){return t.transaction([zp],e?"readwrite":"readonly").objectStore(zp)}function BK(){const t=indexedDB.deleteDatabase(_P);return new z0(t).toPromise()}function hw(){const t=indexedDB.open(_P,zK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zp,{keyPath:TP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zp)?e(r):(r.close(),await BK(),e(await hw()))})})}async function LS(t,e,n){const r=g1(t,!0).put({[TP]:e,value:n});return new z0(r).toPromise()}async function UK(t,e){const n=g1(t,!1).get(e),r=await new z0(n).toPromise();return r===void 0?null:r.value}function $S(t,e){const n=g1(t,!0).delete(e);return new z0(n).toPromise()}const VK=800,qK=3;class IP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=p1._getInstance(FK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LK(),!this.activeServiceWorker)return;this.sender=new RK(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$K()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hw();return await LS(e,Fp,"1"),await $S(e,Fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$S(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=g1(i,!1).getAll();return new z0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IP.type="LOCAL";const Zd=IP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(t,e){return pn(t,"POST","/v2/accounts/mfaSignIn:start",ln(t,e))}function WK(t,e){return pn(t,"POST","/v2/accounts/mfaSignIn:finalize",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK=500,GK=6e4,sm=1e12;class YK{constructor(e){this.auth=e,this.counter=sm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new XK(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||sm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||sm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||sm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class XK{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;de(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=QK(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},GK)},KK))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function QK(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=lP("rcb"),JK=new j0(3e4,6e4),ZK="https://www.google.com/recaptcha/api.js?";class eG{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=sn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return de(tG(n),e,"argument-error"),this.shouldResolveImmediately(n)&&NS(sn().grecaptcha)?Promise.resolve(sn().grecaptcha):new Promise((r,i)=>{const s=sn().setTimeout(()=>{i(Hn(e,"network-request-failed"))},JK.get());sn()[S4]=()=>{sn().clearTimeout(s),delete sn()[S4];const o=sn().grecaptcha;if(!o||!NS(o)){i(Hn(e,"internal-error"));return}const l=o.render;o.render=(c,d)=>{const m=l(c,d);return this.counter++,m},this.hostLanguage=n,r(o)};const a=`${ZK}?${Bc({onload:S4,render:"explicit",hl:n})}`;i3(a).catch(()=>{clearTimeout(s),i(Hn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=sn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function tG(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class nG{async load(e){return new YK(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="recaptcha",rG={theme:"light",type:"image"};let iG=class{constructor(e,n=Object.assign({},rG),r){this.parameters=n,this.type=AP,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=en(r),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nG:new eG,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=sn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(t3()&&!h3(),this.auth,"internal-error"),await sG(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await IW(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function sG(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=xl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function aG(t,e,n){const r=en(t),i=await y1(r,e,Me(n));return new d3(i,s=>m1(r,s))}async function oG(t,e,n){const r=Me(t);await f1(!1,r,"phone");const i=await y1(r.auth,e,Me(n));return new d3(i,s=>yP(r,s))}async function lG(t,e,n){const r=Me(t),i=await y1(r.auth,e,Me(n));return new d3(i,s=>vP(r,s))}async function y1(t,e,n){var r;const i=await n.verify();try{de(typeof i=="string",t,"argument-error"),de(n.type===AP,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const a=s.session;if("phoneNumber"in s)return de(a.type==="enroll",t,"internal-error"),(await IK(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{de(a.type==="signin",t,"internal-error");const o=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return de(o,t,"missing-multi-factor-info"),(await HK(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:o,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await qW(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return a}}finally{n._reset()}}async function uG(t,e){await s3(Me(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=class Gm{constructor(e){this.providerId=Gm.PROVIDER_ID,this.auth=en(e)}verifyPhoneNumber(e,n){return y1(this.auth,e,Me(n))}static credential(e,n){return xl._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Gm.credentialFromTaggedObject(n)}static credentialFromError(e){return Gm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?xl._fromTokenResponse(n,r):null}};Rl.PROVIDER_ID="phone";Rl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t,e){return e?Zr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3 extends qc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cG(t){return gP(t.auth,new f3(t),t.bypassAuthState)}function hG(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),pP(n,new f3(t),t.bypassAuthState)}async function dG(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),s3(n,new f3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cG;case"linkViaPopup":case"linkViaRedirect":return dG;case"reauthViaPopup":case"reauthViaRedirect":return hG;default:Gn(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=new j0(2e3,1e4);async function mG(t,e,n){const r=en(t);Uc(t,e,ba);const i=nu(r,n);return new Ws(r,"signInViaPopup",e,i).executeNotNull()}async function pG(t,e,n){const r=Me(t);Uc(r.auth,e,ba);const i=nu(r.auth,n);return new Ws(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function gG(t,e,n){const r=Me(t);Uc(r.auth,e,ba);const i=nu(r.auth,n);return new Ws(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ws extends CP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=F0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fG.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG="pendingRedirect",yd=new Map;class vG extends CP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yd.get(this.auth._key());if(!e){try{const r=await wG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wG(t,e){const n=OP(e),r=PP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function m3(t,e){return PP(t)._set(OP(e),"true")}function bG(){yd.clear()}function p3(t,e){yd.set(t._key(),e)}function PP(t){return Zr(t._redirectPersistence)}function OP(t){return bl(yG,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t,e,n){return kG(t,e,n)}async function kG(t,e,n){const r=en(t);Uc(t,e,ba),await r._initializationPromise;const i=nu(r,n);return await m3(i,r),i._openRedirect(r,e,"signInViaRedirect")}function SG(t,e,n){return EG(t,e,n)}async function EG(t,e,n){const r=Me(t);Uc(r.auth,e,ba),await r.auth._initializationPromise;const i=nu(r.auth,n);await m3(i,r.auth);const s=await NP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function _G(t,e,n){return TG(t,e,n)}async function TG(t,e,n){const r=Me(t);Uc(r.auth,e,ba),await r.auth._initializationPromise;const i=nu(r.auth,n);await f1(!1,r,e.providerId),await m3(i,r.auth);const s=await NP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function IG(t,e){return await en(t)._initializationPromise,v1(t,e,!1)}async function v1(t,e,n=!1){const r=en(t),i=nu(r,e),a=await new vG(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function NP(t){const e=F0(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=10*60*1e3;class MP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AG&&this.cachedEventUids.clear(),this.cachedEventUids.has(FS(e))}saveEventToCache(e){this.cachedEventUids.add(FS(e)),this.lastProcessedEventTime=Date.now()}}function FS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e={}){return pn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OG=/^https?/;async function NG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RP(t);for(const n of e)try{if(MG(n))return}catch{}Gn(t,"unauthorized-domain")}function MG(t){const e=Yd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!OG.test(n))return!1;if(PG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=new j0(3e4,6e4);function zS(){const t=sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RG(t){return new Promise((e,n)=>{var r,i,s;function a(){zS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zS(),n(Hn(t,"network-request-failed"))},timeout:DG.get()})}if(!((i=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=sn().gapi)===null||s===void 0)&&s.load)a();else{const o=lP("iframefcb");return sn()[o]=()=>{gapi.load?a():n(Hn(t,"network-request-failed"))},i3(`https://apis.google.com/js/api.js?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Ym=null,e})}let Ym=null;function jG(t){return Ym=Ym||RG(t),Ym}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG=new j0(5e3,15e3),$G="__/auth/iframe",FG="emulator/auth/iframe",zG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UG(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?n3(e,FG):`https://${t.config.authDomain}/${$G}`,r={apiKey:e.apiKey,appName:t.name,v:No},i=BG.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bc(r).slice(1)}`}async function VG(t){const e=await jG(t),n=sn().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:UG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Hn(t,"network-request-failed"),o=sn().setTimeout(()=>{s(a)},LG.get());function l(){sn().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HG=500,WG=600,KG="_blank",GG="http://localhost";class BS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YG(t,e,n,r=HG,i=WG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},qG),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ut().toLowerCase();n&&(o=eP(c)?KG:n),ZC(c)&&(e=e||GG,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[y,b])=>`${g}${y}=${b},`,"");if(EW(c)&&o!=="_self")return XG(e||"",o),new BS(null);const m=window.open(e||"",o,d);de(m,t,"popup-blocked");try{m.focus()}catch{}return new BS(m)}function XG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG="__/auth/handler",JG="emulator/auth/handler",ZG=encodeURIComponent("fac");async function dw(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:No,eventId:i};if(e instanceof ba){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Rq(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries(s||{}))a[d]=m}if(e instanceof Hc){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),c=l?`#${ZG}=${encodeURIComponent(l)}`:"";return`${eY(t)}?${Bc(o).slice(1)}${c}`}function eY({config:t}){return t.emulator?n3(t,JG):`https://${t.authDomain}/${QG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="webStorageSupport";class tY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dl,this._completeRedirectFn=v1,this._overrideRedirectResult=p3}async _openPopup(e,n,r,i){var s;Yi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await dw(e,n,r,Yd(),i);return YG(e,a,F0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dw(e,n,r,Yd(),i);return jK(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VG(e),r=new MP(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(E4,{type:E4},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[E4];a!==void 0&&n(!!a),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iP()||r3()||Vc()}}const nY=tY;class rY{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return fs("unexpected MultiFactorSessionType")}}}class g3 extends rY{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new g3(e)}_finalizeEnroll(e,n,r){return AK(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return WK(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class jP{constructor(){}static assertion(e){return g3._fromCredential(e)}}jP.FACTOR_ID="phone";var US="@firebase/auth",VS="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function aY(t){go(new _s("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;de(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sP(t)},c=new MW(r,i,s,l);return DW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new _s("auth-internal",e=>{const n=en(e.getProvider("auth").getImmediate());return(r=>new iY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(US,VS,sY(t)),xs(US,VS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=5*60;_q("authIdTokenMaxAge");aY("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lY=2e3;async function uY(t,e,n){var r;const{BuildInfo:i}=jl();Yi(e.sessionId,"AuthEvent did not contain a session ID");const s=await mY(e.sessionId),a={};return Vc()?a.ibi=i.packageName:L0()?a.apn=i.packageName:Gn(t,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,dw(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,a)}async function cY(t){const{BuildInfo:e}=jl(),n={};Vc()?n.iosBundleId=e.packageName:L0()?n.androidPackageName=e.packageName:Gn(t,"operation-not-supported-in-this-environment"),await RP(t,n)}function hY(t){const{cordova:e}=jl();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,SW()?"_blank":"_system","location=yes"),n(i)})})}async function dY(t,e,n){const{cordova:r}=jl();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var m;s();const g=(m=r.plugins.browsertab)===null||m===void 0?void 0:m.close;typeof g=="function"&&g(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(Hn(t,"redirect-cancelled-by-user"))},lY))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),L0()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",d,!1),o&&window.clearTimeout(o)}})}finally{i()}}function fY(t){var e,n,r,i,s,a,o,l,c,d;const m=jl();de(typeof((e=m==null?void 0:m.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(typeof((n=m==null?void 0:m.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de(typeof((s=(i=(r=m==null?void 0:m.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((l=(o=(a=m==null?void 0:m.cordova)===null||a===void 0?void 0:a.plugins)===null||o===void 0?void 0:o.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((d=(c=m==null?void 0:m.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function mY(t){const e=pY(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function pY(t){if(Yi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY=20;class yY extends MP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function vY(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:xY(),postBody:null,tenantId:t.tenantId,error:Hn(t,"no-auth-event")}}function wY(t,e){return fw()._set(mw(t),e)}async function qS(t){const e=await fw()._get(mw(t));return e&&await fw()._remove(mw(t)),e}function bY(t,e){var n,r;const i=SY(e);if(i.includes("/__/auth/callback")){const s=Xm(i),a=s.firebaseError?kY(decodeURIComponent(s.firebaseError)):null,o=(r=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=o?Hn(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function xY(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<gY;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function fw(){return Zr(c3)}function mw(t){return bl("authEvent",t.config.apiKey,t.name)}function kY(t){try{return JSON.parse(t)}catch{return null}}function SY(t){const e=Xm(t),n=e.link?decodeURIComponent(e.link):void 0,r=Xm(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Xm(i).link||i||r||n||t}function Xm(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Lu(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=500;class _Y{constructor(){this._redirectPersistence=Dl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=v1,this._overrideRedirectResult=p3}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new yY(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Gn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){fY(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),bG(),await this._originValidation(e);const a=vY(e,r,i);await wY(e,a);const o=await uY(e,a,n),l=await hY(o);return dY(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cY(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=jl(),a=setTimeout(async()=>{await qS(e),n.onEvent(HS())},EY),o=async d=>{clearTimeout(a);const m=await qS(e);let g=null;m&&(d!=null&&d.url)&&(g=bY(m,d.url)),n.onEvent(g||HS())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${s.packageName.toLowerCase()}://`;jl().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(c)&&o({url:d}),typeof l=="function")try{l(d)}catch(m){console.error(m)}}}}const TY=_Y;function HS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(t,e){en(t)._logFramework(e)}var AY="@firebase/auth-compat",CY="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=1e3;function vd(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function OY(){return vd()==="http:"||vd()==="https:"}function LP(t=Ut()){return!!((vd()==="file:"||vd()==="ionic:"||vd()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function NY(){return Y5()||G5()}function MY(){return NC()&&(document==null?void 0:document.documentMode)===11}function DY(t=Ut()){return/Edge\/\d+/.test(t)}function RY(t=Ut()){return MY()||DY(t)}function $P(){try{const t=self.localStorage,e=F0();if(t)return t.setItem(e,"1"),t.removeItem(e),RY()?Wd():!0}catch{return y3()&&Wd()}return!1}function y3(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _4(){return(OY()||OC()||LP())&&!NY()&&$P()&&!y3()}function FP(){return LP()&&typeof document<"u"}async function jY(){return FP()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},PY);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function LY(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr={LOCAL:"local",NONE:"none",SESSION:"session"},Ch=de,zP="persistence";function $Y(t,e){if(Ch(Object.values(Yr).includes(e),t,"invalid-persistence-type"),Y5()){Ch(e!==Yr.SESSION,t,"unsupported-persistence-type");return}if(G5()){Ch(e===Yr.NONE,t,"unsupported-persistence-type");return}if(y3()){Ch(e===Yr.NONE||e===Yr.LOCAL&&Wd(),t,"unsupported-persistence-type");return}Ch(e===Yr.NONE||$P(),t,"unsupported-persistence-type")}async function pw(t){await t._initializationPromise;const e=BP(),n=bl(zP,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function FY(t,e){const n=BP();if(!n)return[];const r=bl(zP,t,e);switch(n.getItem(r)){case Yr.NONE:return[hc];case Yr.LOCAL:return[Zd,Dl];case Yr.SESSION:return[Dl];default:return[]}}function BP(){var t;try{return((t=LY())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY=de;class Ja{constructor(){this.browserResolver=Zr(nY),this.cordovaResolver=Zr(TY),this.underlyingResolver=null,this._redirectPersistence=Dl,this._completeRedirectFn=v1,this._overrideRedirectResult=p3}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return FP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zY(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await jY();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){return t.unwrap()}function BY(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t){return VP(t)}function VY(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new qY(t,TK(t,e))}else if(r){const i=VP(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function VP(t){const{_tokenResponse:e}=t instanceof vr?t.customData:t;if(!e)return null;if(!(t instanceof vr)&&"temporaryProof"in e&&"phoneNumber"in e)return Rl.credentialFromResult(t);const n=e.providerId;if(!n||n===Ah.PASSWORD)return null;let r;switch(n){case Ah.GOOGLE:r=us;break;case Ah.FACEBOOK:r=ls;break;case Ah.GITHUB:r=cs;break;case Ah.TWITTER:r=hs;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=e;return!s&&!a&&!i&&!o?null:o?n.startsWith("saml.")?dc._create(n,o):Ts._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:s}):new Gu(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof vr?r.credentialFromError(t):r.credentialFromResult(t)}function Ar(t,e){return e.catch(n=>{throw n instanceof vr&&VY(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:UY(n),additionalUserInfo:_K(n),user:Ks.getOrCreate(i)}})}async function gw(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Ar(t,n.confirm(r))}}class qY{constructor(e,n){this.resolver=n,this.auth=BY(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ar(UP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._delegate=e,this.multiFactor=PK(e)}static getOrCreate(e){return Ks.USER_MAP.has(e)||Ks.USER_MAP.set(e,new Ks(e)),Ks.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ar(this.auth,yP(this._delegate,e))}async linkWithPhoneNumber(e,n){return gw(this.auth,oG(this._delegate,e,n))}async linkWithPopup(e){return Ar(this.auth,gG(this._delegate,e,Ja))}async linkWithRedirect(e){return await pw(en(this.auth)),_G(this._delegate,e,Ja)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ar(this.auth,vP(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return gw(this.auth,lG(this._delegate,e,n))}reauthenticateWithPopup(e){return Ar(this.auth,pG(this._delegate,e,Ja))}async reauthenticateWithRedirect(e){return await pw(en(this.auth)),SG(this._delegate,e,Ja)}sendEmailVerification(e){return mK(this._delegate,e)}async unlink(e){return await eK(this._delegate,e),this}updateEmail(e){return vK(this._delegate,e)}updatePassword(e){return wK(this._delegate,e)}updatePhoneNumber(e){return uG(this._delegate,e)}updateProfile(e){return yK(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return pK(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ks.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=de;class yw{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ph(r,"invalid-api-key",{appName:e.name}),Ph(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ja:void 0;this._delegate=n.initialize({options:{persistence:HY(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(iW),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ks.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){RW(this._delegate,e,n)}applyActionCode(e){return sK(this._delegate,e)}checkActionCode(e){return wP(this._delegate,e)}confirmPasswordReset(e,n){return iK(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Ar(this._delegate,oK(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return fK(this._delegate,e)}isSignInWithEmailLink(e){return cK(this._delegate,e)}async getRedirectResult(){Ph(_4(),this._delegate,"operation-not-supported-in-this-environment");const e=await IG(this._delegate,Ja);return e?Ar(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){IY(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=WS(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=WS(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return uK(this._delegate,e,n)}sendPasswordResetEmail(e,n){return rK(this._delegate,e,n||void 0)}async setPersistence(e){$Y(this._delegate,e);let n;switch(e){case Yr.SESSION:n=Dl;break;case Yr.LOCAL:n=await Zr(Zd)._isAvailable()?Zd:c3;break;case Yr.NONE:n=hc;break;default:return Gn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ar(this._delegate,ZW(this._delegate))}signInWithCredential(e){return Ar(this._delegate,m1(this._delegate,e))}signInWithCustomToken(e){return Ar(this._delegate,nK(this._delegate,e))}signInWithEmailAndPassword(e,n){return Ar(this._delegate,lK(this._delegate,e,n))}signInWithEmailLink(e,n){return Ar(this._delegate,hK(this._delegate,e,n))}signInWithPhoneNumber(e,n){return gw(this._delegate,aG(this._delegate,e,n))}async signInWithPopup(e){return Ph(_4(),this._delegate,"operation-not-supported-in-this-environment"),Ar(this._delegate,mG(this._delegate,e,Ja))}async signInWithRedirect(e){return Ph(_4(),this._delegate,"operation-not-supported-in-this-environment"),await pw(this._delegate),xG(this._delegate,e,Ja)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return aK(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}yw.Persistence=Yr;function WS(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&Ks.getOrCreate(a)),error:e,complete:n}}function HY(t,e){const n=FY(t,e);if(typeof self<"u"&&!n.includes(Zd)&&n.push(Zd),typeof window<"u")for(const r of[c3,Dl])n.includes(r)||n.push(r);return n.includes(hc)||n.push(hc),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.providerId="phone",this._delegate=new Rl(UP(va.auth()))}static credential(e,n){return Rl.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}v3.PHONE_SIGN_IN_METHOD=Rl.PHONE_SIGN_IN_METHOD;v3.PROVIDER_ID=Rl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=de;class KY{constructor(e,n,r=va.app()){var i;WY((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new iG(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY="auth-compat";function YY(t){t.INTERNAL.registerComponent(new _s(GY,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new yw(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gu.EMAIL_SIGNIN,PASSWORD_RESET:gu.PASSWORD_RESET,RECOVER_EMAIL:gu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:gu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:gu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:gu.VERIFY_EMAIL}},EmailAuthProvider:Mo,FacebookAuthProvider:ls,GithubAuthProvider:cs,GoogleAuthProvider:us,OAuthProvider:Gu,SAMLAuthProvider:Lp,PhoneAuthProvider:v3,PhoneMultiFactorGenerator:jP,RecaptchaVerifier:KY,TwitterAuthProvider:hs,Auth:yw,AuthCredential:qc,Error:vr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(AY,CY)}YY(va);var XY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve,w3=w3||{},je=XY||self;function w1(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function b1(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function QY(t,e,n){return t.call.apply(t.bind,arguments)}function JY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function sr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sr=QY:sr=JY,sr.apply(null,arguments)}function am(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return e.prototype[i].apply(r,a)}}function Do(){this.s=this.s,this.o=this.o}var ZY=0;Do.prototype.s=!1;Do.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ZY!=0)};Do.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function b3(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function KS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(w1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function ar(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ar.prototype.h=function(){this.defaultPrevented=!0};var eX=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{je.addEventListener("test",()=>{},e),je.removeEventListener("test",()=>{},e)}catch{}return t}();function e0(t){return/^[\s\xa0]*$/.test(t)}function x1(){var t=je.navigator;return t&&(t=t.userAgent)?t:""}function ds(t){return x1().indexOf(t)!=-1}function x3(t){return x3[" "](t),t}x3[" "]=function(){};function tX(t,e){var n=GX;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nX=ds("Opera"),fc=ds("Trident")||ds("MSIE"),HP=ds("Edge"),vw=HP||fc,WP=ds("Gecko")&&!(x1().toLowerCase().indexOf("webkit")!=-1&&!ds("Edge"))&&!(ds("Trident")||ds("MSIE"))&&!ds("Edge"),rX=x1().toLowerCase().indexOf("webkit")!=-1&&!ds("Edge");function KP(){var t=je.document;return t?t.documentMode:void 0}var ww;e:{var T4="",I4=function(){var t=x1();if(WP)return/rv:([^\);]+)(\)|;)/.exec(t);if(HP)return/Edge\/([\d\.]+)/.exec(t);if(fc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rX)return/WebKit\/(\S+)/.exec(t);if(nX)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(I4&&(T4=I4?I4[1]:""),fc){var A4=KP();if(A4!=null&&A4>parseFloat(T4)){ww=String(A4);break e}}ww=T4}var bw;if(je.document&&fc){var GS=KP();bw=GS||parseInt(ww,10)||void 0}else bw=void 0;var iX=bw;function t0(t,e){if(ar.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(WP){e:{try{x3(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:sX[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&t0.$.h.call(this)}}Pn(t0,ar);var sX={2:"touch",3:"pen",4:"mouse"};t0.prototype.h=function(){t0.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var k1="closure_listenable_"+(1e6*Math.random()|0),aX=0;function oX(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++aX,this.fa=this.ia=!1}function S1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function k3(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lX(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function GP(t){const e={};for(const n in t)e[n]=t[n];return e}const YS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function YP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<YS.length;s++)n=YS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function E1(t){this.src=t,this.g={},this.h=0}E1.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=kw(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new oX(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function xw(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=qP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(S1(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var S3="closure_lm_"+(1e6*Math.random()|0),C4={};function XP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)XP(t,e[s],n,r,i);return null}return n=ZP(n),t&&t[k1]?t.O(e,n,b1(r)?!!r.capture:!1,i):uX(t,e,n,!1,r,i)}function uX(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=b1(i)?!!i.capture:!!i,o=_3(t);if(o||(t[S3]=o=new E1(t)),n=o.add(e,n,r,a,s),n.proxy)return n;if(r=cX(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eX||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(JP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cX(){function t(n){return e.call(t.src,t.listener,n)}const e=hX;return t}function QP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)QP(t,e[s],n,r,i);else r=b1(r)?!!r.capture:!!r,n=ZP(n),t&&t[k1]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=kw(s,n,r,i),-1<n&&(S1(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=_3(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kw(e,n,r,i)),(n=-1<t?e[t]:null)&&E3(n))}function E3(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[k1])xw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(JP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_3(e))?(xw(n,t),n.h==0&&(n.src=null,e[S3]=null)):S1(t)}}}function JP(t){return t in C4?C4[t]:C4[t]="on"+t}function hX(t,e){if(t.fa)t=!0;else{e=new t0(e,this);var n=t.listener,r=t.la||t.src;t.ia&&E3(t),t=n.call(r,e)}return t}function _3(t){return t=t[S3],t instanceof E1?t:null}var P4="__closure_events_fn_"+(1e9*Math.random()>>>0);function ZP(t){return typeof t=="function"?t:(t[P4]||(t[P4]=function(e){return t.handleEvent(e)}),t[P4])}function Cn(){Do.call(this),this.i=new E1(this),this.S=this,this.J=null}Pn(Cn,Do);Cn.prototype[k1]=!0;Cn.prototype.removeEventListener=function(t,e,n,r){QP(this,t,e,n,r)};function Wn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ar(e,t);else if(e instanceof ar)e.target=e.target||t;else{var i=e;e=new ar(r,t),YP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=om(a,r,!0,e)&&i}if(a=e.g=t,i=om(a,r,!0,e)&&i,i=om(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=om(a,r,!1,e)&&i}Cn.prototype.N=function(){if(Cn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)S1(n[r]);delete t.g[e],t.h--}}this.J=null};Cn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Cn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function om(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&xw(t.i,a),i=o.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var T3=je.JSON.stringify;class dX{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function fX(){var t=I3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class mX{constructor(){this.h=this.g=null}add(e,n){const r=eO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var eO=new dX(()=>new pX,t=>t.reset());class pX{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gX(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function yX(t){je.setTimeout(()=>{throw t},0)}let n0,r0=!1,I3=new mX,tO=()=>{const t=je.Promise.resolve(void 0);n0=()=>{t.then(vX)}};var vX=()=>{for(var t;t=fX();){try{t.h.call(t.g)}catch(n){yX(n)}var e=eO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}r0=!1};function _1(t,e){Cn.call(this),this.h=t||1,this.g=e||je,this.j=sr(this.qb,this),this.l=Date.now()}Pn(_1,Cn);ve=_1.prototype;ve.ga=!1;ve.T=null;ve.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wn(this,"tick"),this.ga&&(A3(this),this.start()))}};ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function A3(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ve.N=function(){_1.$.N.call(this),A3(this),delete this.g};function C3(t,e,n){if(typeof t=="function")n&&(t=sr(t,n));else if(t&&typeof t.handleEvent=="function")t=sr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:je.setTimeout(t,e||0)}function nO(t){t.g=C3(()=>{t.g=null,t.i&&(t.i=!1,nO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wX extends Do{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nO(this)}N(){super.N(),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function i0(t){Do.call(this),this.h=t,this.g={}}Pn(i0,Do);var XS=[];function rO(t,e,n,r){Array.isArray(n)||(n&&(XS[0]=n.toString()),n=XS);for(var i=0;i<n.length;i++){var s=XP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function iO(t){k3(t.g,function(e,n){this.g.hasOwnProperty(n)&&E3(e)},t),t.g={}}i0.prototype.N=function(){i0.$.N.call(this),iO(this)};i0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function T1(){this.g=!0}T1.prototype.Ea=function(){this.g=!1};function bX(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var d=c[0];c=c[1];var m=d.split("_");a=2<=m.length&&m[1]=="type"?a+(d+"="+c+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function xX(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function $u(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SX(t,n)+(r?" "+r:"")})}function kX(t,e){t.info(function(){return"TIMEOUT: "+e})}T1.prototype.info=function(){};function SX(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return T3(n)}catch{return e}}var ru={},QS=null;function I1(){return QS=QS||new Cn}ru.Ta="serverreachability";function sO(t){ar.call(this,ru.Ta,t)}Pn(sO,ar);function s0(t){const e=I1();Wn(e,new sO(e))}ru.STAT_EVENT="statevent";function aO(t,e){ar.call(this,ru.STAT_EVENT,t),this.stat=e}Pn(aO,ar);function pr(t){const e=I1();Wn(e,new aO(e,t))}ru.Ua="timingevent";function oO(t,e){ar.call(this,ru.Ua,t),this.size=e}Pn(oO,ar);function B0(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){t()},e)}var A1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function P3(){}P3.prototype.h=null;function JS(t){return t.h||(t.h=t.i())}function uO(){}var U0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function O3(){ar.call(this,"d")}Pn(O3,ar);function N3(){ar.call(this,"c")}Pn(N3,ar);var Sw;function C1(){}Pn(C1,P3);C1.prototype.g=function(){return new XMLHttpRequest};C1.prototype.i=function(){return{}};Sw=new C1;function V0(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new i0(this),this.P=EX,t=vw?125:void 0,this.V=new _1(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cO}function cO(){this.i=null,this.g="",this.h=!1}var EX=45e3,Ew={},Bp={};ve=V0.prototype;ve.setTimeout=function(t){this.P=t};function _w(t,e,n){t.L=1,t.v=O1(la(e)),t.s=n,t.S=!0,hO(t,null)}function hO(t,e){t.G=Date.now(),q0(t),t.A=la(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),wO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new cO,t.g=zO(t.l,n?e:null,!t.s),0<t.O&&(t.M=new wX(sr(t.Pa,t,t.g),t.O)),rO(t.U,t.g,"readystatechange",t.nb),e=t.I?GP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),s0(),bX(t.j,t.u,t.A,t.m,t.W,t.s)}ve.nb=function(t){t=t.target;const e=this.M;e&&ms(t)==3?e.l():this.Pa(t)};ve.Pa=function(t){try{if(t==this.g)e:{const d=ms(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>d)&&(d!=3||vw||this.g&&(this.h.h||this.g.ja()||n9(this.g)))){this.J||d!=4||e==7||(e==8||0>=m?s0(3):s0(2)),P1(this);var n=this.g.da();this.ca=n;t:if(dO(this)){var r=n9(this.g);t="";var i=r.length,s=ms(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cl(this),wd(this);var a="";break t}this.h.i=new je.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,xX(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!e0(o)){var c=o;break t}}c=null}if(n=c)$u(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tw(this,n);else{this.i=!1,this.o=3,pr(12),cl(this),wd(this);break e}}this.S?(fO(this,d,a),vw&&this.i&&d==3&&(rO(this.U,this.V,"tick",this.mb),this.V.start())):($u(this.j,this.m,a,null),Tw(this,a)),d==4&&cl(this),this.i&&!this.J&&(d==4?jO(this.l,this):(this.i=!1,q0(this)))}else HX(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.o=3,pr(12)):(this.o=0,pr(13)),cl(this),wd(this)}}}catch{}finally{}};function dO(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function fO(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=_X(t,n),i==Bp){e==4&&(t.o=4,pr(14),r=!1),$u(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ew){t.o=4,pr(15),$u(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else $u(t.j,t.m,i,null),Tw(t,i);dO(t)&&i!=Bp&&i!=Ew&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,pr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$3(e),e.M=!0,pr(11))):($u(t.j,t.m,n,"[Invalid Chunked Response]"),cl(t),wd(t))}ve.mb=function(){if(this.g){var t=ms(this.g),e=this.g.ja();this.C<e.length&&(P1(this),fO(this,t,e),this.i&&t!=4&&q0(this))}};function _X(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Bp:(n=Number(e.substring(n,r)),isNaN(n)?Ew:(r+=1,r+n>e.length?Bp:(e=e.slice(r,r+n),t.C=r+n,e)))}ve.cancel=function(){this.J=!0,cl(this)};function q0(t){t.Y=Date.now()+t.P,mO(t,t.P)}function mO(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=B0(sr(t.lb,t),e)}function P1(t){t.B&&(je.clearTimeout(t.B),t.B=null)}ve.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(kX(this.j,this.A),this.L!=2&&(s0(),pr(17)),cl(this),this.o=2,wd(this)):mO(this,this.Y-t)};function wd(t){t.l.H==0||t.J||jO(t.l,t)}function cl(t){P1(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,A3(t.V),iO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Tw(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Iw(n.i,t))){if(!t.K&&Iw(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qp(n),D1(n);else break e;L3(n),pr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=B0(sr(n.ib,n),6e3));if(1>=kO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else hl(n,11)}else if((t.K||n.g==t)&&qp(n),!e0(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const m=c[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));const g=c[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const b=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(M3(s,s.h),s.h=null))}if(r.F){const k=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(r.Da=k,kt(r.I,r.F,k))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=FO(r,r.J?r.pa:null,r.Y),a.K){SO(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(P1(o),q0(o)),r.g=a}else DO(r);0<n.j.length&&R1(n)}else c[0]!="stop"&&c[0]!="close"||hl(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?hl(n,7):j3(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}s0(4)}catch{}}function TX(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(w1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function IX(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(w1(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function pO(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(w1(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=IX(t),r=TX(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var gO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function kl(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof kl){this.h=t.h,Up(this,t.j),this.s=t.s,this.g=t.g,Vp(this,t.m),this.l=t.l;var e=t.i,n=new a0;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ZS(this,n),this.o=t.o}else t&&(e=String(t).match(gO))?(this.h=!1,Up(this,e[1]||"",!0),this.s=Zh(e[2]||""),this.g=Zh(e[3]||"",!0),Vp(this,e[4]),this.l=Zh(e[5]||"",!0),ZS(this,e[6]||"",!0),this.o=Zh(e[7]||"")):(this.h=!1,this.i=new a0(null,this.h))}kl.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ed(e,e9,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ed(e,e9,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ed(n,n.charAt(0)=="/"?OX:PX,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ed(n,MX)),t.join("")};function la(t){return new kl(t)}function Up(t,e,n){t.j=n?Zh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Vp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ZS(t,e,n){e instanceof a0?(t.i=e,DX(t.i,t.h)):(n||(e=ed(e,NX)),t.i=new a0(e,t.h))}function kt(t,e,n){t.i.set(e,n)}function O1(t){return kt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ed(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CX(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var e9=/[#\/\?@]/g,PX=/[#\?:]/g,OX=/[#\?]/g,NX=/[#\?@]/g,MX=/#/g;function a0(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ro(t){t.g||(t.g=new Map,t.h=0,t.i&&AX(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ve=a0.prototype;ve.add=function(t,e){Ro(this),this.i=null,t=Wc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function yO(t,e){Ro(t),e=Wc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function vO(t,e){return Ro(t),e=Wc(t,e),t.g.has(e)}ve.forEach=function(t,e){Ro(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ve.ta=function(){Ro(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ve.Z=function(t){Ro(this);let e=[];if(typeof t=="string")vO(this,t)&&(e=e.concat(this.g.get(Wc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ve.set=function(t,e){return Ro(this),this.i=null,t=Wc(this,t),vO(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ve.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function wO(t,e,n){yO(t,e),0<n.length&&(t.i=null,t.g.set(Wc(t,e),b3(n)),t.h+=n.length)}ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function Wc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function DX(t,e){e&&!t.j&&(Ro(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(yO(this,r),wO(this,i,n))},t)),t.j=e}var RX=class{constructor(t,e){this.g=t,this.map=e}};function bO(t){this.l=t||jX,je.PerformanceNavigationTiming?(t=je.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(je.g&&je.g.Ka&&je.g.Ka()&&je.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jX=10;function xO(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function kO(t){return t.h?1:t.g?t.g.size:0}function Iw(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function M3(t,e){t.g?t.g.add(e):t.h=e}function SO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}bO.prototype.cancel=function(){if(this.i=EO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function EO(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return b3(t.i)}var LX=class{stringify(t){return je.JSON.stringify(t,void 0)}parse(t){return je.JSON.parse(t,void 0)}};function $X(){this.g=new LX}function FX(t,e,n){const r=n||"";try{pO(t,function(i,s){let a=i;b1(i)&&(a=T3(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zX(t,e){const n=new T1;if(je.Image){const r=new Image;r.onload=am(lm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=am(lm,n,r,"TestLoadImage: error",!1,e),r.onabort=am(lm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=am(lm,n,r,"TestLoadImage: timeout",!1,e),je.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function lm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function H0(t){this.l=t.fc||null,this.j=t.ob||!1}Pn(H0,P3);H0.prototype.g=function(){return new N1(this.l,this.j)};H0.prototype.i=function(t){return function(){return t}}({});function N1(t,e){Cn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=D3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pn(N1,Cn);var D3=0;ve=N1.prototype;ve.open=function(t,e){if(this.readyState!=D3)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,o0(this)};ve.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,W0(this)),this.readyState=D3};ve.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,o0(this)),this.g&&(this.readyState=3,o0(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_O(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _O(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ve.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?W0(this):o0(this),this.readyState==3&&_O(this)}};ve.Za=function(t){this.g&&(this.response=this.responseText=t,W0(this))};ve.Ya=function(t){this.g&&(this.response=t,W0(this))};ve.ka=function(){this.g&&W0(this)};function W0(t){t.readyState=4,t.l=null,t.j=null,t.A=null,o0(t)}ve.setRequestHeader=function(t,e){this.v.append(t,e)};ve.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ve.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function o0(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(N1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var BX=je.JSON.parse;function Wt(t){Cn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=TO,this.L=this.M=!1}Pn(Wt,Cn);var TO="",UX=/^https?$/i,VX=["POST","PUT"];ve=Wt.prototype;ve.Oa=function(t){this.M=t};ve.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sw.g(),this.C=this.u?JS(this.u):JS(Sw),this.g.onreadystatechange=sr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){t9(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=je.FormData&&t instanceof je.FormData,!(0<=qP(VX,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{CO(this),0<this.B&&((this.L=qX(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.ua,this)):this.A=C3(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){t9(this,s)}};function qX(t){return fc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ve.ua=function(){typeof w3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wn(this,"timeout"),this.abort(8))};function t9(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,IO(t),M1(t)}function IO(t){t.F||(t.F=!0,Wn(t,"complete"),Wn(t,"error"))}ve.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wn(this,"complete"),Wn(this,"abort"),M1(this))};ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),M1(this,!0)),Wt.$.N.call(this)};ve.La=function(){this.s||(this.G||this.v||this.l?AO(this):this.kb())};ve.kb=function(){AO(this)};function AO(t){if(t.h&&typeof w3<"u"&&(!t.C[1]||ms(t)!=4||t.da()!=2)){if(t.v&&ms(t)==4)C3(t.La,0,t);else if(Wn(t,"readystatechange"),ms(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(gO)[1]||null;!i&&je.self&&je.self.location&&(i=je.self.location.protocol.slice(0,-1)),r=!UX.test(i?i.toLowerCase():"")}n=r}if(n)Wn(t,"complete"),Wn(t,"success");else{t.m=6;try{var s=2<ms(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",IO(t)}}finally{M1(t)}}}}function M1(t,e){if(t.g){CO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wn(t,"ready");try{n.onreadystatechange=r}catch{}}}function CO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(je.clearTimeout(t.A),t.A=null)}ve.isActive=function(){return!!this.g};function ms(t){return t.g?t.g.readyState:0}ve.da=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}};ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ve.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),BX(e)}};function n9(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case TO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function HX(t){const e={};t=(t.g&&2<=ms(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(e0(t[r]))continue;var n=gX(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}lX(e,function(r){return r.join(", ")})}ve.Ia=function(){return this.m};ve.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function PO(t){let e="";return k3(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function R3(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=PO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):kt(t,e,n))}function Oh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function OO(t){this.Ga=0,this.j=[],this.l=new T1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Oh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Oh("baseRetryDelayMs",5e3,t),this.hb=Oh("retryDelaySeedMs",1e4,t),this.eb=Oh("forwardChannelMaxRetries",2,t),this.xa=Oh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new bO(t&&t.concurrentRequestLimit),this.Ja=new $X,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ve=OO.prototype;ve.ra=8;ve.H=1;function j3(t){if(NO(t),t.H==3){var e=t.W++,n=la(t.I);if(kt(n,"SID",t.K),kt(n,"RID",e),kt(n,"TYPE","terminate"),K0(t,n),e=new V0(t,t.l,e),e.L=2,e.v=O1(la(n)),n=!1,je.navigator&&je.navigator.sendBeacon)try{n=je.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&je.Image&&(new Image().src=e.v,n=!0),n||(e.g=zO(e.l,null),e.g.ha(e.v)),e.G=Date.now(),q0(e)}$O(t)}function D1(t){t.g&&($3(t),t.g.cancel(),t.g=null)}function NO(t){D1(t),t.u&&(je.clearTimeout(t.u),t.u=null),qp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&je.clearTimeout(t.m),t.m=null)}function R1(t){if(!xO(t.i)&&!t.m){t.m=!0;var e=t.Na;n0||tO(),r0||(n0(),r0=!0),I3.add(e,t),t.C=0}}function WX(t,e){return kO(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=B0(sr(t.Na,t,e),LO(t,t.C)),t.C++,!0)}ve.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new V0(this,this.l,t);let s=this.s;if(this.U&&(s?(s=GP(s),YP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=MO(this,i,e),n=la(this.I),kt(n,"RID",t),kt(n,"CVER",22),this.F&&kt(n,"X-HTTP-Session-Id",this.F),K0(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(PO(s)))+"&"+e:this.o&&R3(n,this.o,s)),M3(this.i,i),this.bb&&kt(n,"TYPE","init"),this.P?(kt(n,"$req",e),kt(n,"SID","null"),i.aa=!0,_w(i,n,null)):_w(i,n,e),this.H=2}}else this.H==3&&(t?r9(this,t):this.j.length==0||xO(this.i)||r9(this))};function r9(t,e){var n;e?n=e.m:n=t.W++;const r=la(t.I);kt(r,"SID",t.K),kt(r,"RID",n),kt(r,"AID",t.V),K0(t,r),t.o&&t.s&&R3(r,t.o,t.s),n=new V0(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=MO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),M3(t.i,n),_w(n,r,e)}function K0(t,e){t.na&&k3(t.na,function(n,r){kt(e,r,n)}),t.h&&pO({},function(n,r){kt(e,r,n)})}function MO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?sr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let o=!0;for(let l=0;l<n;l++){let c=i[l].g;const d=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),o=!1;else try{FX(d,a,"req"+c+"_")}catch{r&&r(d)}}if(o){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function DO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;n0||tO(),r0||(n0(),r0=!0),I3.add(e,t),t.A=0}}function L3(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=B0(sr(t.Ma,t),LO(t,t.A)),t.A++,!0)}ve.Ma=function(){if(this.u=null,RO(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=B0(sr(this.jb,this),t)}};ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pr(10),D1(this),RO(this))};function $3(t){t.B!=null&&(je.clearTimeout(t.B),t.B=null)}function RO(t){t.g=new V0(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=la(t.wa);kt(e,"RID","rpc"),kt(e,"SID",t.K),kt(e,"AID",t.V),kt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&kt(e,"TO",t.qa),kt(e,"TYPE","xmlhttp"),K0(t,e),t.o&&t.s&&R3(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=O1(la(e)),n.s=null,n.S=!0,hO(n,t)}ve.ib=function(){this.v!=null&&(this.v=null,D1(this),L3(this),pr(19))};function qp(t){t.v!=null&&(je.clearTimeout(t.v),t.v=null)}function jO(t,e){var n=null;if(t.g==e){qp(t),$3(t),t.g=null;var r=2}else if(Iw(t.i,e))n=e.F,SO(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=I1(),Wn(r,new oO(r,n)),R1(t)}else DO(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&WX(t,e)||r==2&&L3(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hl(t,5);break;case 4:hl(t,10);break;case 3:hl(t,6);break;default:hl(t,2)}}}function LO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function hl(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=sr(t.pb,t);n||(n=new kl("//www.google.com/images/cleardot.gif"),je.location&&je.location.protocol=="http"||Up(n,"https"),O1(n)),zX(n.toString(),r)}else pr(2);t.H=0,t.h&&t.h.za(e),$O(t),NO(t)}ve.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pr(2)):(this.l.info("Failed to ping google.com"),pr(1))};function $O(t){if(t.H=0,t.ma=[],t.h){const e=EO(t.i);(e.length!=0||t.j.length!=0)&&(KS(t.ma,e),KS(t.ma,t.j),t.i.i.length=0,b3(t.j),t.j.length=0),t.h.ya()}}function FO(t,e,n){var r=n instanceof kl?la(n):new kl(n);if(r.g!="")e&&(r.g=e+"."+r.g),Vp(r,r.m);else{var i=je.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new kl(null);r&&Up(s,r),e&&(s.g=e),i&&Vp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&kt(r,n,e),kt(r,"VER",t.ra),K0(t,r),r}function zO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Wt(new H0({ob:!0})):new Wt(t.va),e.Oa(t.J),e}ve.isActive=function(){return!!this.h&&this.h.isActive(this)};function BO(){}ve=BO.prototype;ve.Ba=function(){};ve.Aa=function(){};ve.za=function(){};ve.ya=function(){};ve.isActive=function(){return!0};ve.Va=function(){};function Hp(){if(fc&&!(10<=Number(iX)))throw Error("Environmental error: no available transport.")}Hp.prototype.g=function(t,e){return new ri(t,e)};function ri(t,e){Cn.call(this),this.g=new OO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!e0(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!e0(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Kc(this)}Pn(ri,Cn);ri.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FO(t,null,t.Y),R1(t)};ri.prototype.close=function(){j3(this.g)};ri.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=T3(t),t=n);e.j.push(new RX(e.fb++,t)),e.H==3&&R1(e)};ri.prototype.N=function(){this.g.h=null,delete this.j,j3(this.g),delete this.g,ri.$.N.call(this)};function UO(t){O3.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pn(UO,O3);function VO(){N3.call(this),this.status=1}Pn(VO,N3);function Kc(t){this.g=t}Pn(Kc,BO);Kc.prototype.Ba=function(){Wn(this.g,"a")};Kc.prototype.Aa=function(t){Wn(this.g,new UO(t))};Kc.prototype.za=function(t){Wn(this.g,new VO)};Kc.prototype.ya=function(){Wn(this.g,"b")};function KX(){this.blockSize=-1}function Xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pn(Xi,KX);Xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function O4(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Xi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)O4(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){O4(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){O4(this,r),i=0;break}}this.h=i,this.i+=e};Xi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function lt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var GX={};function F3(t){return-128<=t&&128>t?tX(t,function(e){return new lt([e|0],0>e?-1:0)}):new lt([t|0],0>t?-1:0)}function ps(t){if(isNaN(t)||!isFinite(t))return Qu;if(0>t)return Bn(ps(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Aw;return new lt(e,0)}function qO(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Bn(qO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ps(Math.pow(e,8)),r=Qu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=ps(Math.pow(e,s)),r=r.R(s).add(ps(a))):(r=r.R(n),r=r.add(ps(a)))}return r}var Aw=4294967296,Qu=F3(0),Cw=F3(1),i9=F3(16777216);ve=lt.prototype;ve.ea=function(){if(Si(this))return-Bn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Aw+r)*e,e*=Aw}return t};ve.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Gs(this))return"0";if(Si(this))return"-"+Bn(this).toString(t);for(var e=ps(Math.pow(t,6)),n=this,r="";;){var i=Kp(n,e).g;n=Wp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Gs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ve.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Gs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Si(t){return t.h==-1}ve.X=function(t){return t=Wp(this,t),Si(t)?-1:Gs(t)?0:1};function Bn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new lt(n,~t.h).add(Cw)}ve.abs=function(){return Si(this)?Bn(this):this};ve.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new lt(n,n[n.length-1]&-2147483648?-1:0)};function Wp(t,e){return t.add(Bn(e))}ve.R=function(t){if(Gs(this)||Gs(t))return Qu;if(Si(this))return Si(t)?Bn(this).R(Bn(t)):Bn(Bn(this).R(t));if(Si(t))return Bn(this.R(Bn(t)));if(0>this.X(i9)&&0>t.X(i9))return ps(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,o=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=a*l,um(n,2*r+2*i),n[2*r+2*i+1]+=s*l,um(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,um(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,um(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new lt(n,0)};function um(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Nh(t,e){this.g=t,this.h=e}function Kp(t,e){if(Gs(e))throw Error("division by zero");if(Gs(t))return new Nh(Qu,Qu);if(Si(t))return e=Kp(Bn(t),e),new Nh(Bn(e.g),Bn(e.h));if(Si(e))return e=Kp(t,Bn(e)),new Nh(Bn(e.g),e.h);if(30<t.g.length){if(Si(t)||Si(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Cw,r=e;0>=r.X(t);)n=s9(n),r=s9(r);var i=yu(n,1),s=yu(r,1);for(r=yu(r,2),n=yu(n,2);!Gs(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=yu(r,1),n=yu(n,1)}return e=Wp(t,i.R(e)),new Nh(i,e)}for(i=Qu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ps(n),a=s.R(e);Si(a)||0<a.X(t);)n-=r,s=ps(n),a=s.R(e);Gs(s)&&(s=Cw),i=i.add(s),t=Wp(t,a)}return new Nh(i,t)}ve.gb=function(t){return Kp(this,t).h};ve.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new lt(n,this.h&t.h)};ve.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new lt(n,this.h|t.h)};ve.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new lt(n,this.h^t.h)};function s9(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new lt(n,t.h)}function yu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new lt(i,t.h)}Hp.prototype.createWebChannel=Hp.prototype.g;ri.prototype.send=ri.prototype.u;ri.prototype.open=ri.prototype.m;ri.prototype.close=ri.prototype.close;A1.NO_ERROR=0;A1.TIMEOUT=8;A1.HTTP_ERROR=6;lO.COMPLETE="complete";uO.EventType=U0;U0.OPEN="a";U0.CLOSE="b";U0.ERROR="c";U0.MESSAGE="d";Cn.prototype.listen=Cn.prototype.O;Wt.prototype.listenOnce=Wt.prototype.P;Wt.prototype.getLastError=Wt.prototype.Sa;Wt.prototype.getLastErrorCode=Wt.prototype.Ia;Wt.prototype.getStatus=Wt.prototype.da;Wt.prototype.getResponseJson=Wt.prototype.Wa;Wt.prototype.getResponseText=Wt.prototype.ja;Wt.prototype.send=Wt.prototype.ha;Wt.prototype.setWithCredentials=Wt.prototype.Oa;Xi.prototype.digest=Xi.prototype.l;Xi.prototype.reset=Xi.prototype.reset;Xi.prototype.update=Xi.prototype.j;lt.prototype.add=lt.prototype.add;lt.prototype.multiply=lt.prototype.R;lt.prototype.modulo=lt.prototype.gb;lt.prototype.compare=lt.prototype.X;lt.prototype.toNumber=lt.prototype.ea;lt.prototype.toString=lt.prototype.toString;lt.prototype.getBits=lt.prototype.D;lt.fromNumber=ps;lt.fromString=qO;var YX=function(){return new Hp},XX=function(){return I1()},N4=A1,QX=lO,JX=ru,a9={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZX=H0,cm=uO,eQ=Wt,tQ=Xi,Ju=lt,nQ={};const o9="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new u1("@firebase/firestore");function Pw(){return vo.logLevel}function rQ(t){vo.setLogLevel(t)}function se(t,...e){if(vo.logLevel<=Xe.DEBUG){const n=e.map(z3);vo.debug(`Firestore (${Gc}): ${t}`,...n)}}function Qt(t,...e){if(vo.logLevel<=Xe.ERROR){const n=e.map(z3);vo.error(`Firestore (${Gc}): ${t}`,...n)}}function Qi(t,...e){if(vo.logLevel<=Xe.WARN){const n=e.map(z3);vo.warn(`Firestore (${Gc}): ${t}`,...n)}}function z3(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Gc}) INTERNAL ASSERTION FAILED: `+t;throw Qt(e),new Error(e)}function Pe(t,e){t||Se()}function iQ(t,e){t||Se()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class aQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let oQ=class{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new In;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new In,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new In)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new HO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new _n(e)}};class lQ{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class uQ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new lQ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hQ{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.T=n.token,new cQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function mc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function KO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Mt(0,0))}static max(){return new Ce(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return l0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof l0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends l0{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const fQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends l0{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return fQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new te(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new te(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Qe.fromString(e))}static fromName(e){return new pe(Qe.fromString(e).popFirst(5))}static empty(){return new pe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Ow(t){return t.fields.find(e=>e.kind===2)}function Jo(t){return t.fields.filter(e=>e.kind!==2)}GO.UNKNOWN_ID=-1;class mQ{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gp(0,ii.min())}}function YO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new ii(i,pe.empty(),e)}function XO(t){return new ii(t.readTime,t.key,-1)}class ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ii(Ce.min(),pe.empty(),-1)}static max(){return new ii(Ce.max(),pe.empty(),-1)}}function B3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==QO)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{a[c]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new In,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new bd(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=U3(r.target.error);this.v.reject(new bd(e,i))}}static open(e,n,r,i){try{return new j1(n,e.transaction(i,r))}catch(s){throw new bd(n,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new gQ(n)}}class Hi{constructor(e,n,r){this.name=e,this.version=n,this.V=r,Hi.S(Ut())===12.2&&Qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),nl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Wd())return!1;if(Hi.C())return!0;const e=Ut(),n=Hi.S(e),r=0<n&&n<10,i=Hi.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=nQ)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(se("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new bd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new te(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new te(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new bd(e,a))},i.onupgradeneeded=s=>{se("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.V.O(a,i.transaction,s.oldVersion,this.version).next(()=>{se("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.$(e);const o=j1.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next(c=>(o.P(),c)).catch(c=>(o.abort(c),K.reject(c))).toPromise();return l.catch(()=>{}),await o.R,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(se("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class pQ{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return nl(this.L.delete())}}class bd extends te{constructor(e,n){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Lo(t){return t.name==="IndexedDbTransactionError"}class gQ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(se("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nl(r)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),nl(this.store.add(e))}get(e){return nl(this.store.get(e)).next(n=>(n===void 0&&(n=null),se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),nl(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),nl(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(a,o)=>{s.push(o)}).next(()=>s)}{const i=this.store.getAll(r.range);return new K((s,a)=>{i.onerror=o=>{a(o.target.error)},i.onsuccess=o=>{s(o.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new K((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}J(e,n){se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,a,o)=>o.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new K((r,i)=>{n.onerror=s=>{const a=U3(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():r()}):r()}})}W(e,n){const r=[];return new K((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new pQ(o),c=n(o.primaryKey,o.value,l);if(c instanceof K){const d=c.catch(m=>(l.done(),K.reject(m)));r.push(d)}l.isDone?i():l.K===null?o.continue():o.continue(l.K)}}).next(()=>K.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function nl(t){return new K((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=U3(r.target.error);n(i)}})}let l9=!1;function U3(t){const e=Hi.S(Ut());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return l9||(l9=!0,setTimeout(()=>{throw r},0)),r}}return t}class yQ{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{se("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){Lo(n)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await jo(n)}await this.et(6e4)})}}class vQ{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return K.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return se("IndexBackiller",`Processing collection: ${a}`),this.it(e,a,i).next(o=>{i-=o,r.add(a)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.rt(i,s)).next(o=>(se("IndexBackiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o))).next(()=>a.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const a=XO(s);B3(a,r)>0&&(r=a)}),new ii(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Nr.ct=-1;function G0(t){return t==null}function u0(t){return t===0&&1/t==-1/0}function ZO(t){return typeof t=="number"&&Number.isInteger(t)&&!u0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=u9(e)),e=wQ(t.get(n),e);return u9(e)}function wQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function u9(t){return t+""}function gs(t){const e=t.length;if(Pe(e>=2),e===2)return Pe(t.charAt(0)===""&&t.charAt(1)===""),Qe.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>n)&&Se(),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Se()}s=a+2}return new Qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e){return[t,wr(e)]}function eN(t,e,n){return[t,wr(e),n]}const bQ={},xQ=["prefixPath","collectionGroup","readTime","documentId"],kQ=["prefixPath","collectionGroup","documentId"],SQ=["collectionGroup","readTime","prefixPath","documentId"],EQ=["canonicalId","targetId"],_Q=["targetId","path"],TQ=["path","targetId"],IQ=["collectionId","parent"],AQ=["indexId","uid"],CQ=["uid","sequenceNumber"],PQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OQ=["indexId","uid","orderedDocumentKey"],NQ=["userId","collectionPath","documentId"],MQ=["userId","collectionPath","largestBatchId"],DQ=["userId","collectionGroup","largestBatchId"],tN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],RQ=[...tN,"documentOverlays"],nN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rN=nN,jQ=[...rN,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends JO{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function On(t,e){const n=ye(t);return Hi.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function iu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hm(this.root,e,this.comparator,!1)}getReverseIterator(){return new hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hm(this.root,e,this.comparator,!0)}}class hm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Fn.RED,this.left=i??Fn.EMPTY,this.right=s??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Fn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Fn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Fn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d9(this.data.getIterator())}getIteratorFrom(e){return new d9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class d9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Mr([])}unionWith(e){let n=new _t(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sN("Invalid base64 string: "+i):i}}(e);return new mn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const $Q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=$Q.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bo(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function V3(t){const e=t.mapValue.fields.__previous_value__;return L1(e)?V3(e):e}function c0(t){const e=wo(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class xo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jm={nullValue:"NULL_VALUE"};function Ll(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L1(t)?4:aN(t)?9007199254740991:10:Se()}function Is(t,e){if(t===e)return!0;const n=Ll(t);if(n!==Ll(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return c0(t).isEqual(c0(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=wo(r.timestampValue),a=wo(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return bo(r.bytesValue).isEqual(bo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ht(r.geoPointValue.latitude)===Ht(i.geoPointValue.latitude)&&Ht(r.geoPointValue.longitude)===Ht(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ht(r.integerValue)===Ht(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ht(r.doubleValue),a=Ht(i.doubleValue);return s===a?u0(s)===u0(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(h9(s)!==h9(a))return!1;for(const o in s)if(s.hasOwnProperty(o)&&(a[o]===void 0||!Is(s[o],a[o])))return!1;return!0}(t,e);default:return Se()}}function h0(t,e){return(t.values||[]).find(n=>Is(n,e))!==void 0}function ko(t,e){if(t===e)return 0;const n=Ll(t),r=Ll(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=Ht(i.integerValue||i.doubleValue),o=Ht(s.integerValue||s.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return f9(t.timestampValue,e.timestampValue);case 4:return f9(c0(t),c0(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(i,s){const a=bo(i),o=bo(s);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),o=s.split("/");for(let l=0;l<a.length&&l<o.length;l++){const c=Le(a[l],o[l]);if(c!==0)return c}return Le(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=Le(Ht(i.latitude),Ht(s.latitude));return a!==0?a:Le(Ht(i.longitude),Ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],o=s.values||[];for(let l=0;l<a.length&&l<o.length;++l){const c=ko(a[l],o[l]);if(c)return c}return Le(a.length,o.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Za.mapValue&&s===Za.mapValue)return 0;if(i===Za.mapValue)return 1;if(s===Za.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),l=s.fields||{},c=Object.keys(l);o.sort(),c.sort();for(let d=0;d<o.length&&d<c.length;++d){const m=Le(o[d],c[d]);if(m!==0)return m;const g=ko(a[o[d]],l[c[d]]);if(g!==0)return g}return Le(o.length,c.length)}(t.mapValue,e.mapValue);default:throw Se()}}function f9(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=wo(t),r=wo(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function pc(t){return Mw(t)}function Mw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=wo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,pe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const a of r.values||[])s?s=!1:i+=",",i+=Mw(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of i)a?a=!1:s+=",",s+=`${o}:${Mw(r.fields[o])}`;return s+"}"}(t.mapValue):Se();var e,n}function $l(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dw(t){return!!t&&"integerValue"in t}function d0(t){return!!t&&"arrayValue"in t}function m9(t){return!!t&&"nullValue"in t}function p9(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zm(t){return!!t&&"mapValue"in t}function xd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return iu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function zQ(t){return"nullValue"in t?Jm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?$l(xo.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Se()}function BQ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?$l(xo.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Za:Se()}function g9(t,e){const n=ko(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function y9(t,e){const n=ko(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xd(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=xd(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){iu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Un(xd(this.value))}}function oN(t){const e=[];return iu(t.fields,(n,r)=>{const i=new Jt([n]);if(Zm(r)){const s=oN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new St(e,0,Ce.min(),Ce.min(),Ce.min(),Un.empty(),0)}static newFoundDocument(e,n,r,i){return new St(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new St(e,2,n,Ce.min(),Ce.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,Ce.min(),Ce.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.position=e,this.inclusive=n}}function v9(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(a.referenceValue),n.key):r=ko(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function w9(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Is(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function UQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{}class qe extends lN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VQ(e,n,r):n==="array-contains"?new WQ(e,r):n==="in"?new mN(e,r):n==="not-in"?new KQ(e,r):n==="array-contains-any"?new GQ(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qQ(e,r):new HQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ko(n,this.value)):n!==null&&Ll(this.value)===Ll(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class at extends lN{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new at(e,n)}matches(e){return gc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function gc(t){return t.op==="and"}function Rw(t){return t.op==="or"}function q3(t){return uN(t)&&gc(t)}function uN(t){for(const e of t.filters)if(e instanceof at)return!1;return!0}function jw(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+pc(t.value);if(q3(t))return t.filters.map(e=>jw(e)).join(",");{const e=t.filters.map(n=>jw(n)).join(",");return`${t.op}(${e})`}}function cN(t,e){return t instanceof qe?function(n,r){return r instanceof qe&&n.op===r.op&&n.field.isEqual(r.field)&&Is(n.value,r.value)}(t,e):t instanceof at?function(n,r){return r instanceof at&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,a)=>i&&cN(s,r.filters[a]),!0):!1}(t,e):void Se()}function hN(t,e){const n=t.filters.concat(e);return at.create(n,t.op)}function dN(t){return t instanceof qe?function(e){return`${e.field.canonicalString()} ${e.op} ${pc(e.value)}`}(t):t instanceof at?function(e){return e.op.toString()+" {"+e.getFilters().map(dN).join(" ,")+"}"}(t):"Filter"}class VQ extends qe{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class qQ extends qe{constructor(e,n){super(e,"in",n),this.keys=fN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HQ extends qe{constructor(e,n){super(e,"not-in",n),this.keys=fN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class WQ extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d0(n)&&h0(n.arrayValue,this.value)}}class mN extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&h0(this.value.arrayValue,n)}}class KQ extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(h0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!h0(this.value.arrayValue,n)}}class GQ extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>h0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.dt=null}}function Lw(t,e=null,n=[],r=[],i=null,s=null,a=null){return new YQ(t,e,n,r,i,s,a)}function Fl(t){const e=ye(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),G0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pc(r)).join(",")),e.dt=n}return e.dt}function Y0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w9(t.startAt,e.startAt)&&w9(t.endAt,e.endAt)}function Yp(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Xp(t,e){return t.filters.filter(n=>n instanceof qe&&n.field.isEqual(e))}function b9(t,e,n){let r=Jm,i=!0;for(const s of Xp(t,e)){let a=Jm,o=!0;switch(s.op){case"<":case"<=":a=zQ(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=Jm}g9({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];g9({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function x9(t,e,n){let r=Za,i=!0;for(const s of Xp(t,e)){let a=Za,o=!0;switch(s.op){case">=":case">":a=BQ(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=Za}y9({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];y9({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function pN(t,e,n,r,i,s,a,o){return new xa(t,e,n,r,i,s,a,o)}function Yc(t){return new xa(t)}function k9(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H3(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function $1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function W3(t){return t.collectionGroup!==null}function Sl(t){const e=ye(t);if(e.wt===null){e.wt=[];const n=$1(e),r=H3(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Zu(n)),e.wt.push(new Zu(Jt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zu(Jt.keyField(),s))}}}return e.wt}function Fr(t){const e=ye(t);if(!e._t)if(e.limitType==="F")e._t=Lw(e.path,e.collectionGroup,Sl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Sl(e)){const a=s.dir==="desc"?"asc":"desc";n.push(new Zu(s.field,a))}const r=e.endAt?new So(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new So(e.startAt.position,e.startAt.inclusive):null;e._t=Lw(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function $w(t,e){e.getFirstInequalityField(),$1(t);const n=t.filters.concat([e]);return new xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qp(t,e,n){return new xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function X0(t,e){return Y0(Fr(t),Fr(e))&&t.limitType===e.limitType}function gN(t){return`${Fl(Fr(t))}|lt:${t.limitType}`}function Fw(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>dN(r)).join(", ")}]`),G0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pc(r)).join(",")),`Target(${n})`}(Fr(t))}; limitType=${t.limitType})`}function Q0(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):pe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Sl(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,a){const o=v9(i,s,a);return i.inclusive?o<=0:o<0}(n.startAt,Sl(n),r)||n.endAt&&!function(i,s,a){const o=v9(i,s,a);return i.inclusive?o>=0:o>0}(n.endAt,Sl(n),r))}(t,e)}function yN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vN(t){return(e,n)=>{let r=!1;for(const i of Sl(t)){const s=XQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function XQ(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(i,s,a){const o=s.data.field(i),l=a.data.field(i);return o!==null&&l!==null?ko(o,l):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){iu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ=new vt(pe.comparator);function Dr(){return QQ}const wN=new vt(pe.comparator);function td(...t){let e=wN;for(const n of t)e=e.insert(n.key,n);return e}function bN(t){let e=wN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ys(){return kd()}function xN(){return kd()}function kd(){return new $o(t=>t.toString(),(t,e)=>t.isEqual(e))}const JQ=new vt(pe.comparator),ZQ=new _t(pe.comparator);function $e(...t){let e=ZQ;for(const n of t)e=e.add(n);return e}const eJ=new _t(Le);function K3(){return eJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:u0(e)?"-0":e}}function SN(t){return{integerValue:""+t}}function EN(t,e){return ZO(e)?SN(e):kN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this._=void 0}}function tJ(t,e,n){return t instanceof yc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&L1(i)&&(i=V3(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof zl?TN(t,e):t instanceof Bl?IN(t,e):function(r,i){const s=_N(r,i),a=S9(s)+S9(r.gt);return Dw(s)&&Dw(r.gt)?SN(a):kN(r.serializer,a)}(t,e)}function nJ(t,e,n){return t instanceof zl?TN(t,e):t instanceof Bl?IN(t,e):n}function _N(t,e){return t instanceof vc?Dw(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class yc extends F1{}class zl extends F1{constructor(e){super(),this.elements=e}}function TN(t,e){const n=AN(e);for(const r of t.elements)n.some(i=>Is(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bl extends F1{constructor(e){super(),this.elements=e}}function IN(t,e){let n=AN(e);for(const r of t.elements)n=n.filter(i=>!Is(i,r));return{arrayValue:{values:n}}}class vc extends F1{constructor(e,n){super(),this.serializer=e,this.gt=n}}function S9(t){return Ht(t.integerValue||t.doubleValue)}function AN(t){return d0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.field=e,this.transform=n}}function rJ(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof zl&&r instanceof zl||n instanceof Bl&&r instanceof Bl?mc(n.elements,r.elements,Is):n instanceof vc&&r instanceof vc?Is(n.gt,r.gt):n instanceof yc&&r instanceof yc}(t.transform,e.transform)}class iJ{constructor(e,n){this.version=e,this.transformResults=n}}class Ot{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ot}static exists(e){return new Ot(void 0,e)}static updateTime(e){return new Ot(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ep(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class z1{}function CN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qc(t.key,Ot.none()):new Xc(t.key,t.data,Ot.none());{const n=t.data,r=Un.empty();let i=new _t(Jt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ka(t.key,r,new Mr(i.toArray()),Ot.none())}}function sJ(t,e,n){t instanceof Xc?function(r,i,s){const a=r.value.clone(),o=_9(r.fieldTransforms,i,s.transformResults);a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ka?function(r,i,s){if(!ep(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=_9(r.fieldTransforms,i,s.transformResults),o=i.data;o.setAll(PN(r)),o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Sd(t,e,n,r){return t instanceof Xc?function(i,s,a,o){if(!ep(i.precondition,s))return a;const l=i.value.clone(),c=T9(i.fieldTransforms,o,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ka?function(i,s,a,o){if(!ep(i.precondition,s))return a;const l=T9(i.fieldTransforms,o,s),c=s.data;return c.setAll(PN(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,s,a){return ep(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function aJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_N(r.transform,i||null);s!=null&&(n===null&&(n=Un.empty()),n.set(r.field,s))}return n||null}function E9(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&mc(n,r,(i,s)=>rJ(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xc extends z1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ka extends z1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _9(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,nJ(a,o,n[i]))}return r}function T9(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,tJ(s,a,e))}return r}class Qc extends z1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G3 extends z1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sJ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xN();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=CN(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(n,r)=>E9(n,r))&&mc(this.baseMutations,e.baseMutations,(n,r)=>E9(n,r))}}class X3{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=JQ;const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new X3(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,Ye;function ON(t){switch(t){default:return Se();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function NN(t){if(t===void 0)return Qt("GRPC error has no .code"),X.UNKNOWN;switch(t){case nn.OK:return X.OK;case nn.CANCELLED:return X.CANCELLED;case nn.UNKNOWN:return X.UNKNOWN;case nn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case nn.INTERNAL:return X.INTERNAL;case nn.UNAVAILABLE:return X.UNAVAILABLE;case nn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case nn.NOT_FOUND:return X.NOT_FOUND;case nn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case nn.ABORTED:return X.ABORTED;case nn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case nn.DATA_LOSS:return X.DATA_LOSS;default:return Se()}}(Ye=nn||(nn={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return dm}static getOrCreateInstance(){return dm===null&&(dm=new J3),dm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let dm=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ=new Ju([4294967295,4294967295],0);function I9(t){const e=MN().encode(t),n=new tQ;return n.update(e),new Uint8Array(n.digest())}function A9(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ju([n,r],0),new Ju([i,s],0)]}class Z3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nd(`Invalid padding: ${n}`);if(r<0)throw new nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ju.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ju.fromNumber(r)));return i.compare(lJ)===1&&(i=new Ju([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=I9(e),[r,i]=A9(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);if(!this.At(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Z3(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.It===0)return;const n=I9(e),[r,i]=A9(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);this.Rt(a)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ef.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Z0(Ce.min(),i,new vt(Le),Dr(),$e())}}class ef{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ef(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}let DN=class{constructor(e,n){this.targetId=e,this.Vt=n}};class RN{constructor(e,n,r=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class C9{constructor(){this.St=0,this.Dt=O9(),this.Ct=mn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=$e(),n=$e(),r=$e();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new ef(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=O9()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class uJ{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Dr(),this.zt=P9(),this.Wt=new vt(Le)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const a=s.target;if(Yp(a))if(i===0){const o=new pe(a.path);this.Yt(r,o,St.newNoDocument(o,Ce.min()))}else Pe(i===1);else{const o=this.ie(r);if(o!==i){const l=this.re(e,o);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=J3.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,m){var g,y,b,k,x,_;const A={localCacheCount:d,existenceFilterCount:m.count},C=m.unchangedNames;return C&&(A.bloomFilter={applied:c===0,hashCount:(g=C==null?void 0:C.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(k=(b=(y=C==null?void 0:C.bits)===null||y===void 0?void 0:y.bitmap)===null||b===void 0?void 0:b.length)!==null&&k!==void 0?k:0,padding:(_=(x=C==null?void 0:C.bits)===null||x===void 0?void 0:x.padding)!==null&&_!==void 0?_:0}),A}(l,o,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=r;let l,c;try{l=bo(s).toUint8Array()}catch(d){if(d instanceof sN)return Qi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new Z3(l,a,o)}catch(d){return Qi(d instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const a=this.Gt.ue(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;n.vt(o)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,a)=>{const o=this.se(a);if(o){if(s.current&&Yp(o.target)){const l=new pe(o.target.path);this.jt.get(l)!==null||this.ae(a,l)||this.Yt(a,l,St.newNoDocument(l,e))}s.Mt&&(n.set(a,s.Ot()),s.Ft())}});let r=$e();this.zt.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const i=new Z0(e,n,this.Wt,this.jt,r);return this.jt=Dr(),this.zt=P9(),this.Wt=new vt(Le),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new C9,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new _t(Le),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new C9),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function P9(){return new vt(pe.comparator)}function O9(){return new vt(pe.comparator)}const cJ={asc:"ASCENDING",desc:"DESCENDING"},hJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dJ={and:"AND",or:"OR"};class fJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zw(t,e){return t.useProto3Json||G0(e)?e:{value:e}}function wc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mJ(t,e){return wc(t,e.toTimestamp())}function Zt(t){return Pe(!!t),Ce.fromTimestamp(function(e){const n=wo(e);return new Mt(n.seconds,n.nanos)}(t))}function e6(t,e){return function(n){return new Qe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function LN(t){const e=Qe.fromString(t);return Pe(WN(e)),e}function f0(t,e){return e6(t.databaseId,e.path)}function ks(t,e){const n=LN(e);if(n.get(1)!==t.databaseId.projectId)throw new te(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(FN(n))}function Bw(t,e){return e6(t.databaseId,e)}function $N(t){const e=LN(t);return e.length===4?Qe.emptyPath():FN(e)}function m0(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FN(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function N9(t,e,n){return{name:f0(t,e),fields:n.value.mapValue.fields}}function zN(t,e,n){const r=ks(t,e.name),i=Zt(e.updateTime),s=e.createTime?Zt(e.createTime):Ce.min(),a=new Un({mapValue:{fields:e.fields}}),o=St.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function pJ(t,e){return"found"in e?function(n,r){Pe(!!r.found),r.found.name,r.found.updateTime;const i=ks(n,r.found.name),s=Zt(r.found.updateTime),a=r.found.createTime?Zt(r.found.createTime):Ce.min(),o=new Un({mapValue:{fields:r.found.fields}});return St.newFoundDocument(i,s,a,o)}(t,e):"missing"in e?function(n,r){Pe(!!r.missing),Pe(!!r.readTime);const i=ks(n,r.missing),s=Zt(r.readTime);return St.newNoDocument(i,s)}(t,e):Se()}function gJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Pe(c===void 0||typeof c=="string"),mn.fromBase64String(c||"")):(Pe(c===void 0||c instanceof Uint8Array),mn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const c=l.code===void 0?X.UNKNOWN:NN(l.code);return new te(c,l.message||"")}(a);n=new RN(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ks(t,r.document.name),s=Zt(r.document.updateTime),a=r.document.createTime?Zt(r.document.createTime):Ce.min(),o=new Un({mapValue:{fields:r.document.fields}}),l=St.newFoundDocument(i,s,a,o),c=r.targetIds||[],d=r.removedTargetIds||[];n=new tp(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ks(t,r.document),s=r.readTime?Zt(r.readTime):Ce.min(),a=St.newNoDocument(i,s),o=r.removedTargetIds||[];n=new tp([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ks(t,r.document),s=r.removedTargetIds||[];n=new tp([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new oJ(i,s),o=r.targetId;n=new DN(o,a)}}return n}function p0(t,e){let n;if(e instanceof Xc)n={update:N9(t,e.key,e.value)};else if(e instanceof Qc)n={delete:f0(t,e.key)};else if(e instanceof ka)n={update:N9(t,e.key,e.data),updateMask:kJ(e.fieldMask)};else{if(!(e instanceof G3))return Se();n={verify:f0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof yc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vc)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:mJ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se()}(t,e.precondition)),n}function Uw(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ot.updateTime(Zt(i.updateTime)):i.exists!==void 0?Ot.exists(i.exists):Ot.none()}(e.currentDocument):Ot.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let o=null;if("setToServerValue"in a)Pe(a.setToServerValue==="REQUEST_TIME"),o=new yc;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];o=new zl(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];o=new Bl(c)}else"increment"in a?o=new vc(s,a.increment):Se();const l=Jt.fromServerFormat(a.fieldPath);return new J0(l,o)}(t,i)):[];if(e.update){e.update.name;const i=ks(t,e.update.name),s=new Un({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(o){const l=o.fieldPaths||[];return new Mr(l.map(c=>Jt.fromServerFormat(c)))}(e.updateMask);return new ka(i,s,a,n,r)}return new Xc(i,s,n,r)}if(e.delete){const i=ks(t,e.delete);return new Qc(i,n)}if(e.verify){const i=ks(t,e.verify);return new G3(i,n)}return Se()}function yJ(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Zt(r.updateTime):Zt(i);return s.isEqual(Ce.min())&&(s=Zt(i)),new iJ(s,r.transformResults||[])}(n,e))):[]}function BN(t,e){return{documents:[Bw(t,e.path)]}}function UN(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Bw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return HN(at.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:ku(d.field),direction:wJ(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=zw(t,e.limit);var o;return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(o=e.startAt).inclusive,values:o.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function VN(t){let e=$N(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(d){const m=qN(d);return m instanceof at&&q3(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(d=>function(m){return new Zu(Su(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d)));let o=null;n.limit&&(o=function(d){let m;return m=typeof d=="object"?d.value:d,G0(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(d){const m=!!d.before,g=d.values||[];return new So(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,g=d.values||[];return new So(g,m)}(n.endAt)),pN(e,i,a,s,o,"F",l,c)}function vJ(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qN(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Su(e.unaryFilter.field);return qe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Su(e.unaryFilter.field);return qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Su(e.unaryFilter.field);return qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Su(e.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(e){return qe.create(Su(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return at.create(e.compositeFilter.filters.map(n=>qN(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Se()}}(e.compositeFilter.op))}(t):Se()}function wJ(t){return cJ[t]}function bJ(t){return hJ[t]}function xJ(t){return dJ[t]}function ku(t){return{fieldPath:t.canonicalString()}}function Su(t){return Jt.fromServerFormat(t.fieldPath)}function HN(t){return t instanceof qe?function(e){if(e.op==="=="){if(p9(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NAN"}};if(m9(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(p9(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NOT_NAN"}};if(m9(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ku(e.field),op:bJ(e.op),value:e.value}}}(t):t instanceof at?function(e){const n=e.getFilters().map(r=>HN(r));return n.length===1?n[0]:{compositeFilter:{op:xJ(e.op),filters:n}}}(t):Se()}function kJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r,i,s=Ce.min(),a=Ce.min(),o=mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.fe=e}}function SJ(t,e){let n;if(e.document)n=zN(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),i=Vl(e.noDocument.readTime);n=St.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se();{const r=pe.fromSegments(e.unknownDocument.path),i=Vl(e.unknownDocument.version);n=St.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Mt(r[0],r[1]);return Ce.fromTimestamp(i)}(e.readTime)),n}function M9(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Jp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:f0(i,s.key),fields:s.data.value.mapValue.fields,updateTime:wc(i,s.version.toTimestamp()),createTime:wc(i,s.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ul(e.version)};else{if(!e.isUnknownDocument())return Se();r.unknownDocument={path:n.path.toArray(),version:Ul(e.version)}}return r}function Jp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ul(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Vl(t){const e=new Mt(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function rl(t,e){const n=(e.baseMutations||[]).map(s=>Uw(t.fe,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Uw(t.fe,s)),i=Mt.fromMillis(e.localWriteTimeMs);return new Y3(e.batchId,i,n,r)}function rd(t){const e=Vl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Vl(t.lastLimboFreeSnapshotVersion):Ce.min();let r;var i;return t.query.documents!==void 0?(Pe((i=t.query).documents.length===1),r=Fr(Yc($N(i.documents[0])))):r=function(s){return Fr(VN(s))}(t.query),new Ys(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,mn.fromBase64String(t.resumeToken))}function GN(t,e){const n=Ul(e.snapshotVersion),r=Ul(e.lastLimboFreeSnapshotVersion);let i;i=Yp(e.target)?BN(t.fe,e.target):UN(t.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fl(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function t6(t){const e=VN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qp(e,e.limit,"L"):e}function M4(t,e){return new Q3(e.largestBatchId,Uw(t.fe,e.overlayMutation))}function D9(t,e){const n=e.path.lastSegment();return[t,wr(e.path.popLast()),n]}function R9(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Ul(r.readTime),documentKey:wr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{getBundleMetadata(e,n){return j9(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Vl(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return j9(e).put({bundleId:(r=n).id,createTime:Ul(Zt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return L9(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:t6(i.bundledQuery),readTime:Vl(i.readTime)};var i})}saveNamedQuery(e,n){return L9(e).put(function(r){return{name:r.name,readTime:Ul(Zt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function j9(t){return On(t,"bundles")}function L9(t){return On(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const r=n.uid||"";return new B1(e,r)}getOverlay(e,n){return Mh(e).get(D9(this.userId,n)).next(r=>r?M4(this.serializer,r):null)}getOverlays(e,n){const r=ys();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,a)=>{const o=new Q3(n,a);i.push(this.we(e,o))}),K.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(wr(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Mh(e).J("collectionPathOverlayIndex",o))}),K.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ys(),s=wr(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Mh(e).j("collectionPathOverlayIndex",a).next(o=>{for(const l of o){const c=M4(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ys();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Mh(e).X({index:"collectionGroupOverlayIndex",range:o},(l,c,d)=>{const m=M4(this.serializer,c);s.size()<i||m.largestBatchId===a?(s.set(m.getKey(),m),a=m.largestBatchId):d.done()}).next(()=>s)}we(e,n){return Mh(e).put(function(r,i,s){const[a,o,l]=D9(i,s.mutation.key);return{userId:i,collectionPath:o,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:p0(r.fe,s.mutation)}}(this.serializer,this.userId,n))}}function Mh(t){return On(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ht(e.integerValue));else if("doubleValue"in e){const r=Ht(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),u0(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(bo(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?aN(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Se()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),pe.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}il.Ve=new il;function _J(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function $9(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=_J(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class TJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=$9(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=$9(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class IJ{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class AJ{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Dh{constructor(){this.je=new TJ,this.ze=new IJ(this.je),this.We=new AJ(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=class YN{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new YN(this.indexId,this.documentKey,this.arrayValue,r)}};function La(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=F9(t.arrayValue,e.arrayValue),n!==0?n:(n=F9(t.directionalValue,e.directionalValue),n!==0?n:pe.comparator(t.documentKey,e.documentKey)))}function F9(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Pe(e.collectionGroup===this.collectionId);const n=Ow(e);if(n!==void 0&&!this.en(n))return!1;const r=Jo(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.en(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Ze!==void 0){if(!i.has(this.Ze.field.canonicalString())){const o=r[s];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.Ye.length||!this.sn(this.Ye[a++],o))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){var e,n;if(Pe(t instanceof qe||t instanceof at),t instanceof qe){if(t instanceof mN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>qe.create(t.field,"==",s)))||[];return at.create(i,"or")}return t}const r=t.filters.map(i=>XN(i));return at.create(r,t.op)}function PJ(t){if(t.getFilters().length===0)return[];const e=Hw(XN(t));return Pe(QN(e)),Vw(e)||qw(e)?[e]:e.getFilters()}function Vw(t){return t instanceof qe}function qw(t){return t instanceof at&&q3(t)}function QN(t){return Vw(t)||qw(t)||function(e){if(e instanceof at&&Rw(e)){for(const n of e.getFilters())if(!Vw(n)&&!qw(n))return!1;return!0}return!1}(t)}function Hw(t){if(Pe(t instanceof qe||t instanceof at),t instanceof qe)return t;if(t.filters.length===1)return Hw(t.filters[0]);const e=t.filters.map(r=>Hw(r));let n=at.create(e,t.op);return n=Zp(n),QN(n)?n:(Pe(n instanceof at),Pe(gc(n)),Pe(n.filters.length>1),n.filters.reduce((r,i)=>n6(r,i)))}function n6(t,e){let n;return Pe(t instanceof qe||t instanceof at),Pe(e instanceof qe||e instanceof at),n=t instanceof qe?e instanceof qe?function(r,i){return at.create([r,i],"and")}(t,e):z9(t,e):e instanceof qe?z9(e,t):function(r,i){if(Pe(r.filters.length>0&&i.filters.length>0),gc(r)&&gc(i))return hN(r,i.getFilters());const s=Rw(r)?r:i,a=Rw(r)?i:r,o=s.filters.map(l=>n6(l,a));return at.create(o,"or")}(t,e),Zp(n)}function z9(t,e){if(gc(e))return hN(e,t.getFilters());{const n=e.filters.map(r=>n6(t,r));return at.create(n,"or")}}function Zp(t){if(Pe(t instanceof qe||t instanceof at),t instanceof qe)return t;const e=t.getFilters();if(e.length===1)return Zp(e[0]);if(uN(t))return t;const n=e.map(i=>Zp(i)),r=[];return n.forEach(i=>{i instanceof qe?r.push(i):i instanceof at&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:at.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(){this.rn=new r6}addToCollectionParentIndex(e,n){return this.rn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(ii.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class r6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(Qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new Uint8Array(0);class NJ{constructor(e,n){this.user=e,this.databaseId=n,this.on=new r6,this.un=new $o(r=>Fl(r),(r,i)=>Y0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const s={collectionId:r,parent:wr(i)};return B9(e).put(s)}return K.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[KO(n),""],!1,!0);return B9(e).j(i).next(s=>{for(const a of s){if(a.collectionId!==n)break;r.push(gs(a.parent))}return r})}addFieldIndex(e,n){const r=mm(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(o=>[o.fieldPath.canonicalString(),o.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Lh(e);return s.next(o=>{a.put(R9(o,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=mm(e),i=Lh(e),s=jh(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=jh(e);let i=!0;const s=new Map;return K.forEach(this.cn(n),a=>this.an(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=$e();const o=[];return K.forEach(s,(l,c)=>{var d;se("IndexedDbIndexManager",`Using index ${d=l,`id=${d.indexId}|cg=${d.collectionGroup}|f=${d.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`} to execute ${Fl(n)}`);const m=function(C,D){const R=Ow(D);if(R===void 0)return null;for(const L of Xp(C,R.fieldPath))switch(L.op){case"array-contains-any":return L.value.arrayValue.values||[];case"array-contains":return[L.value]}return null}(c,l),g=function(C,D){const R=new Map;for(const L of Jo(D))for(const U of Xp(C,L.fieldPath))switch(U.op){case"==":case"in":R.set(L.fieldPath.canonicalString(),U.value);break;case"not-in":case"!=":return R.set(L.fieldPath.canonicalString(),U.value),Array.from(R.values())}return null}(c,l),y=function(C,D){const R=[];let L=!0;for(const U of Jo(D)){const G=U.kind===0?b9(C,U.fieldPath,C.startAt):x9(C,U.fieldPath,C.startAt);R.push(G.value),L&&(L=G.inclusive)}return new So(R,L)}(c,l),b=function(C,D){const R=[];let L=!0;for(const U of Jo(D)){const G=U.kind===0?x9(C,U.fieldPath,C.endAt):b9(C,U.fieldPath,C.endAt);R.push(G.value),L&&(L=G.inclusive)}return new So(R,L)}(c,l),k=this.hn(l,c,y),x=this.hn(l,c,b),_=this.ln(l,c,g),A=this.fn(l.indexId,m,k,y.inclusive,x,b.inclusive,_);return K.forEach(A,C=>r.H(C,n.limit).next(D=>{D.forEach(R=>{const L=pe.fromSegments(R.documentKey);a.has(L)||(a=a.add(L),o.push(L))})}))}).next(()=>o)}return K.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=PJ(at.create(e.filters,"and")).map(r=>Lw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),d=[];for(let m=0;m<l;++m){const g=n?this.dn(n[m/c]):fm,y=this.wn(e,g,r[m%c],i),b=this._n(e,g,s[m%c],a),k=o.map(x=>this.wn(e,g,x,!0));d.push(...this.createRange(y,b,k))}return d}wn(e,n,r,i){const s=new Rh(e,pe.empty(),n,r);return i?s:s.Je()}_n(e,n,r,i){const s=new Rh(e,pe.empty(),n,r);return i?s.Je():s}an(e,n){const r=new CJ(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)r.tn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,n){let r=2;const i=this.cn(n);return K.forEach(i,s=>this.an(e,s).next(a=>{a?r!==0&&a.fields.length<function(o){let l=new _t(Jt.comparator),c=!1;for(const d of o.filters)for(const m of d.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?c=!0:l=l.add(m.field));for(const d of o.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}mn(e,n){const r=new Dh;for(const i of Jo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.He(i.kind);il.Ve._e(s,a)}return r.Qe()}dn(e){const n=new Dh;return il.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new Dh;return il.Ve._e($l(this.databaseId,n),r.He(function(i){const s=Jo(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(r===null)return[];let i=[];i.push(new Dh);let s=0;for(const a of Jo(e)){const o=r[s++];for(const l of i)if(this.yn(n,a.fieldPath)&&d0(o))i=this.pn(i,a,o);else{const c=l.He(a.kind);il.Ve._e(o,c)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new Dh;l.seed(o.Qe()),il.Ve._e(a,l.He(n.kind)),s.push(l)}return s}yn(e,n){return!!e.filters.find(r=>r instanceof qe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=mm(e),i=Lh(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const a=[];return K.forEach(s,o=>i.get([o.indexId,this.uid]).next(l=>{a.push(function(c,d){const m=d?new Gp(d.sequenceNumber,new ii(Vl(d.readTime),new pe(gs(d.documentKey)),d.largestBatchId)):Gp.empty(),g=c.fields.map(([y,b])=>new mQ(Jt.fromServerFormat(y),b));return new GO(c.indexId,c.collectionGroup,g,m)}(o,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Le(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=mm(e),s=Lh(e);return this.Tn(e).next(a=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(o=>K.forEach(o,l=>s.put(R9(l.indexId,this.user,a,r)))))}updateIndexEntries(e,n){const r=new Map;return K.forEach(n,(i,s)=>{const a=r.get(i.collectionGroup);return(a?K.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(r.set(i.collectionGroup,o),K.forEach(o,l=>this.En(e,i,l).next(c=>{const d=this.An(s,l);return c.isEqual(d)?K.resolve():this.vn(e,s,l,c,d)}))))})}Rn(e,n,r,i){return jh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return jh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=jh(e);let s=new _t(La);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(a,o)=>{s=s.add(new Rh(r.indexId,n,o.arrayValue,o.directionalValue))}).next(()=>s)}An(e,n){let r=new _t(La);const i=this.mn(n,e);if(i==null)return r;const s=Ow(n);if(s!=null){const a=e.data.field(s.fieldPath);if(d0(a))for(const o of a.arrayValue.values||[])r=r.add(new Rh(n.indexId,e.key,this.dn(o),i))}else r=r.add(new Rh(n.indexId,e.key,fm,i));return r}vn(e,n,r,i,s){se("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(o,l,c,d,m){const g=o.getIterator(),y=l.getIterator();let b=vu(g),k=vu(y);for(;b||k;){let x=!1,_=!1;if(b&&k){const A=c(b,k);A<0?_=!0:A>0&&(x=!0)}else b!=null?_=!0:x=!0;x?(d(k),k=vu(y)):_?(m(b),b=vu(g)):(b=vu(g),k=vu(y))}}(i,s,La,o=>{a.push(this.Rn(e,n,r,o))},o=>{a.push(this.Pn(e,n,r,o))}),K.waitFor(a)}Tn(e){let n=1;return Lh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,o)=>La(a,o)).filter((a,o,l)=>!o||La(a,l[o-1])!==0);const i=[];i.push(e);for(const a of r){const o=La(a,e),l=La(a,n);if(o===0)i[0]=e.Je();else if(o>0&&l<0)i.push(a),i.push(a.Je());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.bn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,fm,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,fm,[]];s.push(IDBKeyRange.bound(o,l))}return s}bn(e,n){return La(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(U9)}getMinOffset(e,n){return K.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||Se())).next(U9)}}function B9(t){return On(t,"collectionParents")}function jh(t){return On(t,"indexEntries")}function mm(t){return On(t,"indexConfiguration")}function Lh(t){return On(t,"indexState")}function U9(t){Pe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;B3(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ii(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.X({range:a},(d,m,g)=>(o++,g.delete()));s.push(l.next(()=>{Pe(o===1)}));const c=[];for(const d of n.mutations){const m=eN(e,d.key.path,n.batchId);s.push(i.delete(m)),c.push(d.key)}return K.waitFor(s).next(()=>c)}function eg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(41943040,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);class U1{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){Pe(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new U1(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $a(e).X({index:"userMutationsIndex",range:r},(i,s,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Eu(e),a=$a(e);return a.add({}).next(o=>{Pe(typeof o=="number");const l=new Y3(o,n,r,i),c=function(g,y,b){const k=b.baseMutations.map(_=>p0(g.fe,_)),x=b.mutations.map(_=>p0(g.fe,_));return{userId:y,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:k,mutations:x}}(this.serializer,this.userId,l),d=[];let m=new _t((g,y)=>Le(g.canonicalString(),y.canonicalString()));for(const g of i){const y=eN(this.userId,g.key.path,o);m=m.add(g.key.path.popLast()),d.push(a.put(c)),d.push(s.put(y,bQ))}return m.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Vn[o]=l.keys()}),K.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return $a(e).get(n).next(r=>r?(Pe(r.userId===this.userId),rl(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?K.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return $a(e).X({index:"userMutationsIndex",range:i},(a,o,l)=>{o.userId===this.userId&&(Pe(o.batchId>=r),s=rl(this.serializer,o)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $a(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,s,a)=>{r=s.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $a(e).j("userMutationsIndex",n).next(r=>r.map(i=>rl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Qm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Eu(e).X({range:i},(a,o,l)=>{const[c,d,m]=a,g=gs(d);if(c===this.userId&&n.path.isEqual(g))return $a(e).get(m).next(y=>{if(!y)throw Se();Pe(y.userId===this.userId),s.push(rl(this.serializer,y))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Le);const i=[];return n.forEach(s=>{const a=Qm(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=Eu(e).X({range:o},(c,d,m)=>{const[g,y,b]=c,k=gs(y);g===this.userId&&s.path.isEqual(k)?r=r.add(b):m.done()});i.push(l)}),K.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Qm(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new _t(Le);return Eu(e).X({range:a},(l,c,d)=>{const[m,g,y]=l,b=gs(g);m===this.userId&&r.isPrefixOf(b)?b.length===i&&(o=o.add(y)):d.done()}).next(()=>this.Dn(e,o))}Dn(e,n){const r=[],i=[];return n.forEach(s=>{i.push($a(e).get(s).next(a=>{if(a===null)throw Se();Pe(a.userId===this.userId),r.push(rl(this.serializer,a))}))}),K.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return JN(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),K.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return K.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Eu(e).X({range:r},(s,a,o)=>{if(s[0]===this.userId){const l=gs(s[1]);i.push(l)}else o.done()}).next(()=>{Pe(i.length===0)})})}containsKey(e,n){return ZN(e,this.userId,n)}xn(e){return eM(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZN(t,e,n){const r=Qm(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Eu(t).X({range:s,Y:!0},(o,l,c)=>{const[d,m,g]=o;d===e&&m===i&&(a=!0),c.done()}).next(()=>a)}function $a(t){return On(t,"mutations")}function Eu(t){return On(t,"documentMutations")}function eM(t){return On(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ql(0)}static Mn(){return new ql(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new ql(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Ce.fromTimestamp(new Mt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>wu(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(Pe(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return wu(e).X((a,o)=>{const l=rd(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>K.waitFor(s)).next(()=>i)}forEachTarget(e,n){return wu(e).X((r,i)=>{const s=rd(i);n(s)})}$n(e){return q9(e).get("targetGlobalKey").next(n=>(Pe(n!==null),n))}On(e,n){return q9(e).put("targetGlobalKey",n)}Fn(e,n){return wu(e).put(GN(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Fl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return wu(e).X({range:i,index:"queryTargetsIndex"},(a,o,l)=>{const c=rd(o);Y0(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Wa(e);return n.forEach(a=>{const o=wr(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))}),K.waitFor(i)}removeMatchingKeys(e,n,r){const i=Wa(e);return K.forEach(n,s=>{const a=wr(s.path);return K.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Wa(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Wa(e);let s=$e();return i.X({range:r,Y:!0},(a,o,l)=>{const c=gs(a[1]),d=new pe(c);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=wr(n.path),i=IDBKeyRange.bound([r],[KO(r)],!1,!0);let s=0;return Wa(e).X({index:"documentTargetsIndex",Y:!0,range:i},([a,o],l,c)=>{a!==0&&(s++,c.done())}).next(()=>s>0)}le(e,n){return wu(e).get(n).next(r=>r?rd(r):null)}}function wu(t){return On(t,"targets")}function q9(t){return On(t,"targetGlobal")}function Wa(t){return On(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9([t,e],[n,r]){const i=Le(t,n);return i===0?Le(e,r):i}class DJ{constructor(e){this.Ln=e,this.buffer=new _t(H9),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();H9(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Qn(3e5)})}}class jJ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Nr.ct);const r=new DJ(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(V9)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V9):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,s,a,o,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),Pw()<=Xe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${m} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function LJ(t,e){return new jJ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(e,n){this.db=e,this.garbageCollector=LJ(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return pm(e,r)}removeReference(e,n,r){return pm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return pm(e,n)}Xn(e,n){return function(r,i){let s=!1;return eM(r).Z(a=>ZN(r,a,i).next(o=>(o&&(s=!0),K.resolve(!o)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(a,o)=>{if(o<=n){const l=this.Xn(e,a).next(c=>{if(!c)return s++,r.getEntry(e,a).next(()=>(r.removeEntry(a,Ce.min()),Wa(e).delete([0,wr(a.path)])))});i.push(l)}}).next(()=>K.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return pm(e,n)}Yn(e,n){const r=Wa(e);let i,s=Nr.ct;return r.X({index:"documentTargetsIndex"},([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==Nr.ct&&n(new pe(gs(i)),s),s=c,i=l):s=Nr.ct}).next(()=>{s!==Nr.ct&&n(new pe(gs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pm(t,e){return Wa(t).put(function(n,r){return{targetId:0,path:wr(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.changes=new $o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Go(e).put(r)}removeEntry(e,n,r){return Go(e).delete(function(i,s){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Jp(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=St.newInvalidDocument(n);return Go(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($h(n))},(i,s)=>{r=this.ts(n,s)}).next(()=>r)}es(e,n){let r={size:0,document:St.newInvalidDocument(n)};return Go(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($h(n))},(i,s)=>{r={document:this.ts(n,s),size:eg(s)}}).next(()=>r)}getEntries(e,n){let r=Dr();return this.ns(e,n,(i,s)=>{const a=this.ts(i,s);r=r.insert(i,a)}).next(()=>r)}ss(e,n){let r=Dr(),i=new vt(pe.comparator);return this.ns(e,n,(s,a)=>{const o=this.ts(s,a);r=r.insert(s,o),i=i.insert(s,eg(a))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return K.resolve();let i=new _t(G9);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound($h(i.first()),$h(i.last())),a=i.getIterator();let o=a.getNext();return Go(e).X({index:"documentKeyIndex",range:s},(l,c,d)=>{const m=pe.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&G9(o,m)<0;)r(o,null),o=a.getNext();o&&o.isEqual(m)&&(r(o,c),o=a.hasNext()?a.getNext():null),o?d.G($h(o)):d.done()}).next(()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Jp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Go(e).j(IDBKeyRange.bound(a,o,!0)).next(l=>{let c=Dr();for(const d of l){const m=this.ts(pe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);m.isFoundDocument()&&(Q0(n,m)||i.has(m.key))&&(c=c.insert(m.key,m))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=Dr();const a=K9(n,r),o=K9(n,ii.max());return Go(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(l,c,d)=>{const m=this.ts(pe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(m.key,m),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new zJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return W9(e).get("remoteDocumentGlobalKey").next(n=>(Pe(!!n),n))}Zn(e,n){return W9(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=SJ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return St.newInvalidDocument(e)}}function nM(t){return new FJ(t)}class zJ extends tM{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new $o(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new _t((s,a)=>Le(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.us.get(s);if(n.push(this.os.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=M9(this.os.serializer,a);i=i.add(s.path.popLast());const c=eg(l);r+=c-o.size,n.push(this.os.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=M9(this.os.serializer,a.convertToNoDocument(Ce.min()));n.push(this.os.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.os.updateMetadata(e,r)),K.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((s,a)=>{this.us.set(s,{size:a,readTime:r.get(s).readTime})}),r))}}function W9(t){return On(t,"remoteDocumentGlobal")}function Go(t){return On(t,"remoteDocumentsV14")}function $h(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function K9(t,e){const n=e.documentKey.path.toArray();return[t,Jp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function G9(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Le(n[s],r[s]),i)return i;return i=Le(n.length,r.length),i||(i=Le(n[n.length-2],r[r.length-2]),i||Le(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sd(r.mutation,i,Mr.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const i=ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=td();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Dr();const a=kd(),o=kd();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ka)?s=s.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),Sd(d.mutation,c,d.mutation.getFieldMask(),Mt.now())):a.set(c.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>a.set(c,d)),n.forEach((c,d)=>{var m;return o.set(c,new BJ(d,(m=a.get(c))!==null&&m!==void 0?m:null))}),o))}recalculateAndSaveOverlays(e,n){const r=kd();let i=new vt((a,o)=>a-o),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Mr.empty();d=o.applyToLocalView(c,d),r.set(l,d);const m=(i.get(o.batchId)||$e()).add(l);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,d=l.value,m=xN();d.forEach(g=>{if(!s.has(g)){const y=CN(n.get(g),r.get(g));y!==null&&m.set(g,y),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,m))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):W3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(ys());let o=-1,l=s;return a.next(c=>K.forEach(c,(d,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,$e())).next(d=>({batchId:o,changes:bN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=td();return this.indexManager.getCollectionParents(e,i).next(a=>K.forEach(a,o=>{const l=function(c,d){return new xa(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,m)=>{s=s.insert(d,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((o,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,St.newInvalidDocument(c)))});let a=td();return s.forEach((o,l)=>{const c=i.get(o);c!==void 0&&Sd(c.mutation,l,Mr.empty(),Mt.now()),Q0(n,l)&&(a=a.insert(o,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return K.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Zt(r.createTime)}),K.resolve()}getNamedQuery(e,n){return K.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:t6(r.bundledQuery),readTime:Zt(r.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(){this.overlays=new vt(pe.comparator),this.ls=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ys();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=ys(),s=n.length+1,a=new pe(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ys(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const o=ys(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>o.set(c,d)),!(o.size()>=i)););return K.resolve(o)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Q3(n,r));let s=this.ls.get(n);s===void 0&&(s=$e(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.fs=new _t(kn.ds),this.ws=new _t(kn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new kn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new kn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new pe(new Qe([])),r=new kn(n,e),i=new kn(n,e+1),s=[];return this.ws.forEachInRange([r,i],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new pe(new Qe([])),r=new kn(n,e),i=new kn(n,e+1);let s=$e();return this.ws.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new kn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return pe.comparator(e.key,n.key)||Le(e.As,n.As)}static _s(e,n){return Le(e.As,n.As)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new _t(kn.ds)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Y3(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Rs=this.Rs.add(new kn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kn(n,0),i=new kn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],a=>{const o=this.Ps(a.As);s.push(o)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Le);return n.forEach(i=>{const s=new kn(i,0),a=new kn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],o=>{r=r.add(o.As)})}),K.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const a=new kn(new pe(s),0);let o=new _t(Le);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.As)),!0)},a),K.resolve(this.Vs(o))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return K.forEach(n.mutations,i=>{const s=new kn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new kn(n,0),i=this.Rs.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e){this.Ds=e,this.docs=new vt(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():St.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dr();const a=n.path,o=new pe(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||B3(XO(d),r)<=0||(i.has(d.key)||Q0(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Cs(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WJ(this)}getSize(e){return K.resolve(this.size)}}class WJ extends tM{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e){this.persistence=e,this.xs=new $o(n=>Fl(n),Y0),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Ns=0,this.ks=new i6,this.targetCount=0,this.Ms=ql.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),K.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Fn(n),K.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.$s={},this.overlays={},this.Os=new Nr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new KJ(this),this.indexManager=new OJ,this.remoteDocumentCache=function(r){return new HJ(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new KN(n),this.qs=new UJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new qJ(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new GJ(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return K.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class GJ extends JO{constructor(e){super(),this.currentSequenceNumber=e}}class V1{constructor(e){this.persistence=e,this.Qs=new i6,this.js=null}static zs(e){return new V1(e)}get Ws(){if(this.js)return this.js;throw Se()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),K.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Ws,r=>{const i=pe.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,Ce.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return K.or([()=>K.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e){this.serializer=e}O(e,n,r,i){const s=new j1("createOrUpgrade",n);r<1&&i>=1&&(function(o){o.createObjectStore("owner")}(e),function(o){o.createObjectStore("mutationQueues",{keyPath:"userId"}),o.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",c9,{unique:!0}),o.createObjectStore("documentMutations")}(e),Y9(e),function(o){o.createObjectStore("remoteDocuments")}(e));let a=K.resolve();return r<3&&i>=3&&(r!==0&&(function(o){o.deleteObjectStore("targetDocuments"),o.deleteObjectStore("targets"),o.deleteObjectStore("targetGlobal")}(e),Y9(e)),a=a.next(()=>function(o){const l=o.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(o,l){return l.store("mutations").j().next(c=>{o.deleteObjectStore("mutations"),o.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",c9,{unique:!0});const d=l.store("mutations"),m=c.map(g=>d.put(g));return K.waitFor(m)})}(e,s))),a=a.next(()=>{(function(o){o.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.Ys(s))),r<6&&i>=6&&(a=a.next(()=>(function(o){o.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(a=a.next(()=>this.Zs(s))),r<8&&i>=8&&(a=a.next(()=>this.ti(e,s))),r<9&&i>=9&&(a=a.next(()=>{(function(o){o.objectStoreNames.contains("remoteDocumentChanges")&&o.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.ei(s))),r<11&&i>=11&&(a=a.next(()=>{(function(o){o.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(o){o.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(o){const l=o.createObjectStore("documentOverlays",{keyPath:NQ});l.createIndex("collectionPathOverlayIndex",MQ,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",DQ,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(o){const l=o.createObjectStore("remoteDocumentsV14",{keyPath:xQ});l.createIndex("documentKeyIndex",kQ),l.createIndex("collectionGroupIndex",SQ)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.si(e,s))),r<15&&i>=15&&(a=a.next(()=>function(o){o.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),o.createObjectStore("indexState",{keyPath:AQ}).createIndex("sequenceNumberIndex",CQ,{unique:!1}),o.createObjectStore("indexEntries",{keyPath:PQ}).createIndex("documentKeyIndex",OQ,{unique:!1})}(e))),a}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=eg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>K.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",a).next(o=>K.forEach(o,l=>{Pe(l.userId===s.userId);const c=rl(this.serializer,l);return JN(e,s.userId,c).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((a,o)=>{const l=new Qe(a),c=function(d){return[0,wr(d)]}(l);s.push(n.get(c).next(d=>d?K.resolve():(m=>n.put({targetId:0,path:wr(m),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>K.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:IQ});const r=n.store("collectionParents"),i=new r6,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:wr(l)})}};return n.store("remoteDocuments").X({Y:!0},(a,o)=>{const l=new Qe(a);return s(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([a,o,l],c)=>{const d=gs(o);return s(d.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const s=rd(i),a=GN(this.serializer,s);return n.put(a)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((s,a)=>{const o=n.store("remoteDocumentsV14"),l=(c=a,c.document?new pe(Qe.fromString(c.document.name).popFirst(5)):c.noDocument?pe.fromSegments(c.noDocument.path):c.unknownDocument?pe.fromSegments(c.unknownDocument.path):Se()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(d))}).next(()=>K.waitFor(i))}si(e,n){const r=n.store("mutations"),i=nM(this.serializer),s=new iM(V1.zs,this.serializer.fe);return r.j().next(a=>{const o=new Map;return a.forEach(l=>{var c;let d=(c=o.get(l.userId))!==null&&c!==void 0?c:$e();rl(this.serializer,l).keys().forEach(m=>d=d.add(m)),o.set(l.userId,d)}),K.forEach(o,(l,c)=>{const d=new _n(c),m=B1.de(this.serializer,d),g=s.getIndexManager(d),y=U1.de(d,this.serializer,g,s.referenceDelegate);return new rM(i,y,m,g).recalculateAndSaveOverlaysForDocumentKeys(new Nw(n,Nr.ct),l).next()})})}}function Y9(t){t.createObjectStore("targetDocuments",{keyPath:_Q}).createIndex("documentTargetsIndex",TQ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",EQ,{unique:!0}),t.createObjectStore("targetGlobal")}const D4="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class s6{constructor(e,n,r,i,s,a,o,l,c,d,m=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=s,this.window=a,this.document=o,this.ri=c,this.oi=d,this.ui=m,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=g=>Promise.resolve(),!s6.D())throw new te(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $J(this,i),this.di=n+"main",this.serializer=new KN(l),this.wi=new Hi(this.di,this.ui,new YJ(this.serializer)),this.Bs=new MJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nM(this.serializer),this.qs=new EJ,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,d===!1&&Qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(X.FAILED_PRECONDITION,D4);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Nr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(Lo(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Fh(e).get("owner").next(n=>K.resolve(this.Ri(n)))}Pi(e){return gm(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=On(n,"clientMetadata");return r.j().next(i=>{const s=this.Si(i,18e5),a=i.filter(o=>s.indexOf(o)===-1);return K.forEach(a,o=>r.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?K.resolve(!0):Fh(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new te(X.FAILED_PRECONDITION,D4);return!1}}return!(!this.networkEnabled||!this.inForeground)||gm(e).j().next(r=>this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&se("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Nw(e,Nr.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gm(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return U1.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new NJ(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return B1.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){se("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(a=this.ui)===15?jQ:a===14?rN:a===13?nN:a===12?RQ:a===11?tN:void Se();var a;let o;return this.wi.runTransaction(e,i,s,l=>(o=new Nw(l,this.Os?this.Os.next():Nr.ct),n==="readwrite-primary"?this.Ti(o).next(c=>!!c||this.Ei(o)).next(c=>{if(!c)throw Qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new te(X.FAILED_PRECONDITION,QO);return r(o)}).next(c=>this.vi(o).next(()=>c)):this.Oi(o).next(()=>r(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Oi(e){return Fh(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(X.FAILED_PRECONDITION,D4)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fh(e).put("owner",n)}static D(){return Hi.D()}Ai(e){const n=Fh(e);return n.get("owner").next(r=>this.Ri(r)?(se("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):K.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Qt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;Pq()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return se("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Qt("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fh(t){return On(t,"owner")}function gm(t){return On(t,"clientMetadata")}function a6(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=$e(),i=$e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new o6(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(k9(n))return K.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qp(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=$e(...s);return this.Ui.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,o);return this.zi(n,c,a,l.readTime)?this.Ki(e,Qp(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,i){return k9(n)||i.isEqual(Ce.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const a=this.ji(n,s);return this.zi(n,a,r,i)?this.Qi(e,n):(Pw()<=Xe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fw(n)),this.Wi(e,a,n,YO(i,-1)))})}ji(e,n){let r=new _t(vN(e));return n.forEach((i,s)=>{Q0(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Pw()<=Xe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Fw(n)),this.Ui.getDocumentsMatchingQuery(e,n,ii.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new vt(Le),this.Yi=new $o(s=>Fl(s),Y0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rM(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function aM(t,e,n,r){return new XJ(t,e,n,r)}async function oM(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=$e();for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:a,addedBatchIds:o}))})})}function QJ(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,o,l,c){const d=l.batch,m=d.keys();let g=K.resolve();return m.forEach(y=>{g=g.next(()=>c.getEntry(o,y)).next(b=>{const k=l.docVersions.get(y);Pe(k!==null),b.version.compareTo(k)<0&&(d.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),c.addEntry(b)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(o,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=$e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(o=o.add(a.batch.mutations[l].key));return o}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lM(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function JJ(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];e.targetChanges.forEach((d,m)=>{const g=i.get(m);if(!g)return;o.push(n.Bs.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.Bs.addMatchingKeys(s,d.addedDocuments,m)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(mn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(m,y),function(b,k,x){return b.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,y,d)&&o.push(n.Bs.updateTargetData(s,y))});let l=Dr(),c=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(uM(s,a,e.documentUpdates).next(d=>{l=d.nr,c=d.sr})),!r.isEqual(Ce.min())){const d=n.Bs.getLastRemoteSnapshotVersion(s).next(m=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return K.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function uM(t,e,n){let r=$e(),i=$e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Dr();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):se("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{nr:a,sr:i}})}function ZJ(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bc(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Bs.allocateTargetId(r).next(a=>(i=new Ys(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function xc(t,e,n){const r=ye(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Lo(a))throw a;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function tg(t,e,n){const r=ye(t);let i=Ce.min(),s=$e();return r.persistence.runTransaction("Execute query","readonly",a=>function(o,l,c){const d=ye(o),m=d.Yi.get(c);return m!==void 0?K.resolve(d.Ji.get(m)):d.Bs.getTargetData(l,c)}(r,a,Fr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,e,n?i:Ce.min(),n?s:$e())).next(o=>(dM(r,yN(e),o),{documents:o,ir:s})))}function cM(t,e){const n=ye(t),r=ye(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(a=>a?a.target:null))}function hM(t,e){const n=ye(t),r=n.Xi.get(e)||Ce.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Zi.getAllFromCollectionGroup(i,e,YO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(dM(n,e,i),i))}function dM(t,e,n){let r=t.Xi.get(e)||Ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}async function eZ(t,e,n,r){const i=ye(t);let s=$e(),a=Dr();for(const c of n){const d=e.rr(c.metadata.name);c.document&&(s=s.add(d));const m=e.ur(c);m.setReadTime(e.cr(c.metadata.readTime)),a=a.insert(d,m)}const o=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await bc(i,function(c){return Fr(Yc(Qe.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>uM(c,o,a).next(d=>(o.apply(c),d)).next(d=>i.Bs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Bs.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.nr,d.sr)).next(()=>d.nr)))}async function tZ(t,e,n=$e()){const r=await bc(t,Fr(t6(e.bundledQuery))),i=ye(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const a=Zt(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.qs.saveNamedQuery(s,e);const o=r.withResumeToken(mn.EMPTY_BYTE_STRING,a);return i.Ji=i.Ji.insert(o.targetId,o),i.Bs.updateTargetData(s,o).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,n,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}function X9(t,e){return`firestore_clients_${t}_${e}`}function Q9(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function R4(t,e){return`firestore_targets_${t}_${e}`}class ng{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static ar(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new te(i.error.code,i.error.message))),a?new ng(e,n,i.state,s):(Qt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ed{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new te(r.error.code,r.error.message))),s?new Ed(e,r.state,i):(Qt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=K3();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=ZO(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new rg(e,s):(Qt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class l6{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new l6(n.clientId,n.onlineState):(Qt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ww{constructor(){this.activeTargetIds=K3()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j4{constructor(e,n,r,i,s){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new vt(Le),this.started=!1,this.yr=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=X9(this.persistenceKey,this.wr),this.Ir=function(o){return`firestore_sequence_number_${o}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Ww),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=function(o){return`firestore_online_state_${o}`}(this.persistenceKey),this.Rr=function(o){return`firestore_bundle_loaded_v2_${o}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.wr)continue;const i=this.getItem(X9(this.persistenceKey,r));if(i){const s=rg.ar(r,i);s&&(this.gr=this.gr.insert(s.clientId,s))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const r=this.br(n);r&&this.Vr(r)}for(const r of this.yr)this.mr(r);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(R4(this.persistenceKey,e));if(r){const i=Ed.ar(e,r);i&&(n=i.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(R4(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return se("SharedClientState","READ",e,n),n}setItem(e,n){se("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(se("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const r=this.Or(n.key);return this.Fr(r,null)}{const r=this.Br(n.key,n.newValue);if(r)return this.Fr(r.clientId,r)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const r=this.Lr(n.key,n.newValue);if(r)return this.qr(r)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const r=this.Ur(n.key,n.newValue);if(r)return this.Kr(r)}}else if(n.key===this.vr){if(n.newValue!==null){const r=this.br(n.newValue);if(r)return this.Vr(r)}}else if(n.key===this.Ir){const r=function(i){let s=Nr.ct;if(i!=null)try{const a=JSON.parse(i);Pe(typeof a=="number"),s=a}catch(a){Qt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==Nr.ct&&this.sequenceNumberHandler(r)}else if(n.key===this.Rr){const r=this.Gr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Qr(i)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const i=new ng(this.currentUser,e,n,r),s=Q9(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const n=Q9(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,r){const i=R4(this.persistenceKey,e),s=new Ed(e,n,r);this.setItem(i,s.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return rg.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ng.ar(new _n(s),i,n)}Ur(e,n){const r=this.Ar.exec(e),i=Number(r[1]);return Ed.ar(i,n)}br(e){return l6.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),a=[],o=[];return s.forEach(l=>{i.has(l)||a.push(l)}),i.forEach(l=>{s.has(l)||o.push(l)}),this.syncEngine.Wr(a,o).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=K3();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class fM{constructor(){this.Hr=new Ww,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ww,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym=null;function L4(){return ym===null?ym=268435456+Math.round(2147483648*Math.random()):ym++,"0x"+ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class sZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const a=L4(),o=this.To(e,n);se("RestConnection",`Sending RPC '${e}' ${a}:`,o,r);const l={};return this.Eo(l,i,s),this.Ao(e,o,l,r).then(c=>(se("RestConnection",`Received RPC '${e}' ${a}: `,c),c),c=>{throw Qi("RestConnection",`RPC '${e}' ${a} failed with error: `,c,"url: ",o,"request:",r),c})}vo(e,n,r,i,s,a){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=rZ[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=L4();return new Promise((a,o)=>{const l=new eQ;l.setWithCredentials(!0),l.listenOnce(QX.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case N4.NO_ERROR:const d=l.getResponseJson();se(tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case N4.TIMEOUT:se(tr,`RPC '${e}' ${s} timed out`),o(new te(X.DEADLINE_EXCEEDED,"Request time out"));break;case N4.HTTP_ERROR:const m=l.getStatus();if(se(tr,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const b=function(k){const x=k.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(x)>=0?x:X.UNKNOWN}(y.status);o(new te(b,y.message))}else o(new te(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new te(X.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{se(tr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);se(tr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=L4(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=YX(),o=XX(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new ZX({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");se(tr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const m=a.createWebChannel(d,l);let g=!1,y=!1;const b=new iZ({ro:x=>{y?se(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(se(tr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),se(tr,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},oo:()=>m.close()}),k=(x,_,A)=>{x.listen(_,C=>{try{A(C)}catch(D){setTimeout(()=>{throw D},0)}})};return k(m,cm.EventType.OPEN,()=>{y||se(tr,`RPC '${e}' stream ${i} transport opened.`)}),k(m,cm.EventType.CLOSE,()=>{y||(y=!0,se(tr,`RPC '${e}' stream ${i} transport closed`),b.wo())}),k(m,cm.EventType.ERROR,x=>{y||(y=!0,Qi(tr,`RPC '${e}' stream ${i} transport errored:`,x),b.wo(new te(X.UNAVAILABLE,"The operation could not be completed")))}),k(m,cm.EventType.MESSAGE,x=>{var _;if(!y){const A=x.data[0];Pe(!!A);const C=A,D=C.error||((_=C[0])===null||_===void 0?void 0:_.error);if(D){se(tr,`RPC '${e}' stream ${i} received error:`,D);const R=D.status;let L=function(G){const Z=nn[G];if(Z!==void 0)return NN(Z)}(R),U=D.message;L===void 0&&(L=X.INTERNAL,U="Unknown error status: "+R+" with message "+D.message),y=!0,b.wo(new te(L,U)),m.close()}else se(tr,`RPC '${e}' stream ${i} received:`,A),b._o(A)}}),k(o,JX.STAT_EVENT,x=>{x.stat===a9.PROXY?se(tr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===a9.NOPROXY&&se(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(){return typeof window<"u"?window:null}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){return new fJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r,i,s,a,o,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new u6(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Qt(n.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new te(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aZ extends pM{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=gJ(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ce.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ce.min():s.readTime?Zt(s.readTime):Ce.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=m0(this.serializer),n.addTarget=function(i,s){let a;const o=s.target;if(a=Yp(o)?{documents:BN(i,o)}:{query:UN(i,o)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jN(i,s.resumeToken);const l=zw(i,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Ce.min())>0){a.readTime=wc(i,s.snapshotVersion.toTimestamp());const l=zw(i,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=vJ(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=m0(this.serializer),n.removeTarget=e,this.Wo(n)}}class oZ extends pM{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=yJ(e.writeResults,e.commitTime),r=Zt(e.commitTime);return this.listener.cu(r,n)}return Pe(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=m0(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>p0(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new te(X.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(X.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,n,r,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(X.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class uZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Qt(n),this.mu=!1):se("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(async()=>{Fo(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=ye(o);l.vu.add(4),await Jc(l),l.bu.set("Unknown"),l.vu.delete(4),await nf(l)}(this))})}),this.bu=new uZ(r,i)}}async function nf(t){if(Fo(t))for(const e of t.Ru)await e(!0)}async function Jc(t){for(const e of t.Ru)await e(!1)}function q1(t,e){const n=ye(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),d6(n)?h6(n):eh(n).Ko()&&c6(n,e))}function g0(t,e){const n=ye(t),r=eh(n);n.Au.delete(e),r.Ko()&&gM(n,e),n.Au.size===0&&(r.Ko()?r.jo():Fo(n)&&n.bu.set("Unknown"))}function c6(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eh(t).su(e)}function gM(t,e){t.Vu.qt(e),eh(t).iu(e)}function h6(t){t.Vu=new uJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),eh(t).start(),t.bu.gu()}function d6(t){return Fo(t)&&!eh(t).Uo()&&t.Au.size>0}function Fo(t){return ye(t).vu.size===0}function yM(t){t.Vu=void 0}async function hZ(t){t.Au.forEach((e,n)=>{c6(t,e)})}async function dZ(t,e){yM(t),d6(t)?(t.bu.Iu(e),h6(t)):t.bu.set("Unknown")}async function fZ(t,e,n){if(t.bu.set("Online"),e instanceof RN&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const a of i.targetIds)r.Au.has(a)&&(await r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ig(t,r)}else if(e instanceof tp?t.Vu.Ht(e):e instanceof DN?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Ce.min()))try{const r=await lM(t.localStore);n.compareTo(r)>=0&&await function(i,s){const a=i.Vu.ce(s);return a.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(o.resumeToken,s))}}),a.targetMismatches.forEach((o,l)=>{const c=i.Au.get(o);if(!c)return;i.Au.set(o,c.withResumeToken(mn.EMPTY_BYTE_STRING,c.snapshotVersion)),gM(i,o);const d=new Ys(c.target,o,l,c.sequenceNumber);c6(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await ig(t,r)}}async function ig(t,e,n){if(!Lo(e))throw e;t.vu.add(1),await Jc(t),t.bu.set("Offline"),n||(n=()=>lM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await nf(t)})}function vM(t,e){return e().catch(n=>ig(t,n,e))}async function Zc(t){const e=ye(t),n=Eo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;mZ(e);)try{const i=await ZJ(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,pZ(e,i)}catch(i){await ig(e,i)}wM(e)&&bM(e)}function mZ(t){return Fo(t)&&t.Eu.length<10}function pZ(t,e){t.Eu.push(e);const n=Eo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function wM(t){return Fo(t)&&!Eo(t).Uo()&&t.Eu.length>0}function bM(t){Eo(t).start()}async function gZ(t){Eo(t).hu()}async function yZ(t){const e=Eo(t);for(const n of t.Eu)e.uu(n.mutations)}async function vZ(t,e,n){const r=t.Eu.shift(),i=X3.from(r,e,n);await vM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zc(t)}async function wZ(t,e){e&&Eo(t).ou&&await async function(n,r){if(i=r.code,ON(i)&&i!==X.ABORTED){const s=n.Eu.shift();Eo(n).Qo(),await vM(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Zc(n)}var i}(t,e),wM(t)&&bM(t)}async function Z9(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Fo(n);n.vu.add(3),await Jc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await nf(n)}async function Kw(t,e){const n=ye(t);e?(n.vu.delete(2),await nf(n)):e||(n.vu.add(2),await Jc(n),n.bu.set("Unknown"))}function eh(t){return t.Su||(t.Su=function(e,n,r){const i=ye(e);return i.fu(),new aZ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:hZ.bind(null,t),ao:dZ.bind(null,t),nu:fZ.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),d6(t)?h6(t):t.bu.set("Unknown")):(await t.Su.stop(),yM(t))})),t.Su}function Eo(t){return t.Du||(t.Du=function(e,n,r){const i=ye(e);return i.fu(),new oZ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:gZ.bind(null,t),ao:wZ.bind(null,t),au:yZ.bind(null,t),cu:vZ.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Zc(t)):(await t.Du.stop(),t.Eu.length>0&&(se("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new f6(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function th(t,e){if(Qt("AsyncQueue",`${e}: ${t}`),Lo(t))return new te(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=td(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new ec(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.Cu=new vt(pe.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Se():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class kc{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new kc(e,n,ec.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&X0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(){this.Nu=void 0,this.listeners=[]}}class xZ{constructor(){this.queries=new $o(e=>gN(e),X0),this.onlineState="Unknown",this.ku=new Set}}async function m6(t,e){const n=ye(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bZ),i)try{s.Nu=await n.onListen(r)}catch(a){const o=th(a,`Initialization of query '${Fw(e.query)}' failed`);return void e.onError(o)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&g6(n)}async function p6(t,e){const n=ye(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function kZ(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.listeners)o.$u(i)&&(r=!0);a.Nu=i}}r&&g6(n)}function SZ(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function g6(t){t.ku.forEach(e=>{e.next()})}class y6{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.serializer=e}rr(e){return ks(this.serializer,e)}ur(e){return e.metadata.exists?zN(this.serializer,e.document,!1):St.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Zt(e)}}class _Z{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xM(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Qe.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new tE(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||$e()).add(s);n.set(a,o)}}return n}async complete(){const e=await eZ(this.localStore,new tE(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const r of this.queries)await tZ(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function xM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.key=e}}class SM{constructor(e){this.key=e}}class EM{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=$e(),this.mutatedKeys=$e(),this.tc=vN(e),this.ec=new ec(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new eE,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const g=i.get(d),y=Q0(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),k=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;g&&y?g.data.isEqual(y.data)?b!==k&&(r.track({type:3,doc:y}),x=!0):this.rc(g,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.tc(y,l)>0||c&&this.tc(y,c)<0)&&(o=!0)):!g&&y?(r.track({type:0,doc:y}),x=!0):g&&!y&&(r.track({type:1,doc:g}),x=!0,(l||c)&&(o=!0)),x&&(y?(a=a.add(y),s=k?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ec:a,ic:r,zi:o,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,d)=>function(m,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return y(m)-y(g)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);const a=n?this.uc():[],o=this.Zu.size===0&&this.current?1:0,l=o!==this.Xu;return this.Xu=o,s.length!==0||l?{snapshot:new kc(this.query,e.ec,i,s,e.mutatedKeys,o===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new eE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=$e(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new SM(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new kM(r))}),n}hc(e){this.Yu=e.ir,this.Zu=$e();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return kc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class TZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IZ{constructor(e){this.key=e,this.fc=!1}}class AZ{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new $o(o=>gN(o),X0),this._c=new Map,this.mc=new Set,this.gc=new vt(pe.comparator),this.yc=new Map,this.Ic=new i6,this.Tc={},this.Ec=new Map,this.Ac=ql.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function CZ(t,e){const n=k6(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const a=await bc(n.localStore,Fr(e)),o=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=await v6(n,e,r,o==="current",a.resumeToken),n.isPrimaryClient&&q1(n.remoteStore,a)}return i}async function v6(t,e,n,r,i){t.Rc=(m,g,y)=>async function(b,k,x,_){let A=k.view.sc(x);A.zi&&(A=await tg(b.localStore,k.query,!1).then(({documents:R})=>k.view.sc(R,A)));const C=_&&_.targetChanges.get(k.targetId),D=k.view.applyChanges(A,b.isPrimaryClient,C);return Gw(b,k.targetId,D.cc),D.snapshot}(t,m,g,y);const s=await tg(t.localStore,e,!0),a=new EM(e,s.ir),o=a.sc(s.documents),l=ef.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);Gw(t,n,c.cc);const d=new TZ(e,n,a);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function PZ(t,e){const n=ye(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!X0(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await xc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),g0(n.remoteStore,r.targetId),Sc(n,r.targetId)}).catch(jo)):(Sc(n,r.targetId),await xc(n.localStore,r.targetId,!0))}async function OZ(t,e,n){const r=S6(t);try{const i=await function(s,a){const o=ye(s),l=Mt.now(),c=a.reduce((g,y)=>g.add(y.key),$e());let d,m;return o.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Dr(),b=$e();return o.Zi.getEntries(g,c).next(k=>{y=k,y.forEach((x,_)=>{_.isValidDocument()||(b=b.add(x))})}).next(()=>o.localDocuments.getOverlayedDocuments(g,y)).next(k=>{d=k;const x=[];for(const _ of a){const A=aJ(_,d.get(_.key).overlayedDocument);A!=null&&x.push(new ka(_.key,A,oN(A.value.mapValue),Ot.exists(!0)))}return o.mutationQueue.addMutationBatch(g,l,x,a)}).next(k=>{m=k;const x=k.applyToLocalDocumentSet(d,b);return o.documentOverlayCache.saveOverlays(g,k.batchId,x)})}).then(()=>({batchId:m.batchId,changes:bN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,o){let l=s.Tc[s.currentUser.toKey()];l||(l=new vt(Le)),l=l.insert(a,o),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Sa(r,i.changes),await Zc(r.remoteStore)}catch(i){const s=th(i,"Failed to persist write");n.reject(s)}}async function _M(t,e){const n=ye(t);try{const r=await JJ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.yc.get(s);a&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.fc=!0:i.modifiedDocuments.size>0?Pe(a.fc):i.removedDocuments.size>0&&(Pe(a.fc),a.fc=!1))}),await Sa(n,r,e)}catch(r){await jo(r)}}function nE(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,a)=>{const o=a.view.Mu(e);o.snapshot&&i.push(o.snapshot)}),function(s,a){const o=ye(s);o.onlineState=a;let l=!1;o.queries.forEach((c,d)=>{for(const m of d.listeners)m.Mu(a)&&(l=!0)}),l&&g6(o)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NZ(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let a=new vt(pe.comparator);a=a.insert(s,St.newNoDocument(s,Ce.min()));const o=$e().add(s),l=new Z0(Ce.min(),new Map,new vt(Le),a,o);await _M(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),x6(r)}else await xc(r.localStore,e,!1).then(()=>Sc(r,e,n)).catch(jo)}async function MZ(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await QJ(n.localStore,e);b6(n,r,null),w6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sa(n,i)}catch(i){await jo(i)}}async function DZ(t,e,n){const r=ye(t);try{const i=await function(s,a){const o=ye(s);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return o.mutationQueue.lookupMutationBatch(l,a).next(d=>(Pe(d!==null),c=d.keys(),o.mutationQueue.removeMutationBatch(l,d))).next(()=>o.mutationQueue.performConsistencyCheck(l)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>o.localDocuments.getDocuments(l,c))})}(r.localStore,e);b6(r,e,n),w6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sa(r,i)}catch(i){await jo(i)}}async function RZ(t,e){const n=ye(t);Fo(n.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const a=ye(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",o=>a.mutationQueue.getHighestUnacknowledgedBatchId(o))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ec.get(r)||[];i.push(e),n.Ec.set(r,i)}catch(r){const i=th(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function w6(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function b6(t,e,n){const r=ye(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Sc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||TM(t,r)})}function TM(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(g0(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),x6(t))}function Gw(t,e,n){for(const r of n)r instanceof kM?(t.Ic.addReference(r.key,e),jZ(t,r)):r instanceof SM?(se("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||TM(t,r.key)):Se()}function jZ(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(se("SyncEngine","New document in limbo: "+n),t.mc.add(r),x6(t))}function x6(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new pe(Qe.fromString(e)),r=t.Ac.next();t.yc.set(r,new IZ(n)),t.gc=t.gc.insert(n,r),q1(t.remoteStore,new Ys(Fr(Yc(n.path)),r,"TargetPurposeLimboResolution",Nr.ct))}}async function Sa(t,e,n){const r=ye(t),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((o,l)=>{a.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=o6.Li(l.targetId,c);s.push(d)}}))}),await Promise.all(a),r.dc.nu(i),await async function(o,l){const c=ye(o);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(l,m=>K.forEach(m.Fi,g=>c.persistence.referenceDelegate.addReference(d,m.targetId,g)).next(()=>K.forEach(m.Bi,g=>c.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))}catch(d){if(!Lo(d))throw d;se("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const m=d.targetId;if(!d.fromCache){const g=c.Ji.get(m),y=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(y);c.Ji=c.Ji.insert(m,b)}}}(r.localStore,s))}async function LZ(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await oM(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(a=>{a.forEach(o=>{o.reject(new te(X.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sa(n,r.er)}}function $Z(t,e){const n=ye(t),r=n.yc.get(e);if(r&&r.fc)return $e().add(r.key);{let i=$e();const s=n._c.get(e);if(!s)return i;for(const a of s){const o=n.wc.get(a);i=i.unionWith(o.view.nc)}return i}}async function FZ(t,e){const n=ye(t),r=await tg(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&Gw(n,e.targetId,i.cc),i}async function zZ(t,e){const n=ye(t);return hM(n.localStore,e).then(r=>Sa(n,r))}async function BZ(t,e,n,r){const i=ye(t),s=await function(a,o){const l=ye(a),c=ye(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Sn(d,o).next(m=>m?l.localDocuments.getDocuments(d,m):K.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Zc(i.remoteStore):n==="acknowledged"||n==="rejected"?(b6(i,e,r||null),w6(i,e),function(a,o){ye(ye(a).mutationQueue).Cn(o)}(i.localStore,e)):Se(),await Sa(i,s)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}async function UZ(t,e){const n=ye(t);if(k6(n),S6(n),e===!0&&n.vc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await rE(n,r.toArray());n.vc=!0,await Kw(n.remoteStore,!0);for(const s of i)q1(n.remoteStore,s)}else if(e===!1&&n.vc!==!1){const r=[];let i=Promise.resolve();n._c.forEach((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(Sc(n,a),xc(n.localStore,a,!0))),g0(n.remoteStore,a)}),await i,await rE(n,r),function(s){const a=ye(s);a.yc.forEach((o,l)=>{g0(a.remoteStore,l)}),a.Ic.Ts(),a.yc=new Map,a.gc=new vt(pe.comparator)}(n),n.vc=!1,await Kw(n.remoteStore,!1)}}async function rE(t,e,n){const r=ye(t),i=[],s=[];for(const a of e){let o;const l=r._c.get(a);if(l&&l.length!==0){o=await bc(r.localStore,Fr(l[0]));for(const c of l){const d=r.wc.get(c),m=await FZ(r,d);m.snapshot&&s.push(m.snapshot)}}else{const c=await cM(r.localStore,a);o=await bc(r.localStore,c),await v6(r,IM(c),a,!1,o.resumeToken)}i.push(o)}return r.dc.nu(s),i}function IM(t){return pN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function VZ(t){const e=ye(t);return ye(ye(e.localStore).persistence).$i()}async function qZ(t,e,n,r){const i=ye(t);if(i.vc)return void se("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await hM(i.localStore,yN(s[0])),o=Z0.createSynthesizedRemoteEventForCurrentChange(e,n==="current",mn.EMPTY_BYTE_STRING);await Sa(i,a,o);break}case"rejected":await xc(i.localStore,e,!0),Sc(i,e,r);break;default:Se()}}async function HZ(t,e,n){const r=k6(t);if(r.vc){for(const i of e){if(r._c.has(i)){se("SyncEngine","Adding an already active target "+i);continue}const s=await cM(r.localStore,i),a=await bc(r.localStore,s);await v6(r,IM(s),a.targetId,!1,a.resumeToken),q1(r.remoteStore,a)}for(const i of n)r._c.has(i)&&await xc(r.localStore,i,!1).then(()=>{g0(r.remoteStore,i),Sc(r,i)}).catch(jo)}}function k6(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_M.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$Z.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NZ.bind(null,e),e.dc.nu=kZ.bind(null,e.eventManager),e.dc.Pc=SZ.bind(null,e.eventManager),e}function S6(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DZ.bind(null,e),e}function WZ(t,e,n){const r=ye(t);(async function(i,s,a){try{const o=await s.getMetadata();if(await function(m,g){const y=ye(m),b=Zt(g.createTime);return y.persistence.runTransaction("hasNewerBundle","readonly",k=>y.qs.getBundleMetadata(k,g.id)).then(k=>!!k&&k.createTime.compareTo(b)>=0)}(i.localStore,o))return await s.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(o)),Promise.resolve(new Set);a._updateProgress(xM(o));const l=new _Z(o,i.localStore,s.serializer);let c=await s.bc();for(;c;){const m=await l.zu(c);m&&a._updateProgress(m),c=await s.bc()}const d=await l.complete();return await Sa(i,d.Ju,void 0),await function(m,g){const y=ye(m);return y.persistence.runTransaction("Save bundle","readwrite",b=>y.qs.saveBundleMetadata(b,g))}(i.localStore,o),a._completeWith(d.progress),Promise.resolve(d.Hu)}catch(o){return Qi("SyncEngine",`Loading bundle failed with ${o}`),a._failWith(o),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Yw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aM(this.persistence,new sM,e.initialUser,this.serializer)}createPersistence(e){return new iM(V1.zs,this.serializer)}createSharedClientState(e){return new fM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class AM extends Yw{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await S6(this.Vc.syncEngine),await Zc(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return aM(this.persistence,new sM,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new RJ(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new vQ(n,this.persistence);return new yQ(e.asyncQueue,r)}createPersistence(e){const n=a6(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new s6(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,mM(),np(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new fM}}class KZ extends AM{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof j4&&(this.sharedClientState.syncEngine={jr:BZ.bind(null,n),zr:qZ.bind(null,n),Wr:HZ.bind(null,n),$i:VZ.bind(null,n),Qr:zZ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async r=>{await UZ(this.Vc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=mM();if(!j4.D(n))throw new te(X.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=a6(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new j4(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class E6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LZ.bind(null,this.syncEngine),await Kw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xZ}createDatastore(e){const n=tf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new sZ(i));var i;return function(s,a,o,l){return new lZ(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=o=>nE(this.syncEngine,o,0),a=J9.D()?new J9:new nZ,new cZ(n,r,i,s,a);var n,r,i,s,a}createSyncEngine(e,n){return function(r,i,s,a,o,l,c){const d=new AZ(r,i,s,a,o,l);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ye(e);se("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Jc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new In,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),r=Number(n);isNaN(r)&&this.Mc(`length string (${n}) is not valid number`);const i=await this.$c(r);return new EZ(JSON.parse(i),e.length+r)}Oc(){return this.buffer.findIndex(e=>e===123)}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new te(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=ye(r),a=m0(s.serializer)+"/documents",o={documents:i.map(m=>f0(s.serializer,m))},l=await s.vo("BatchGetDocuments",a,o,i.length),c=new Map;l.forEach(m=>{const g=pJ(s.serializer,m);c.set(g.key.toString(),g)});const d=[];return i.forEach(m=>{const g=c.get(m.toString());Pe(!!g),d.push(g)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=pe.fromPath(r);this.mutations.push(new G3(i,this.precondition(i)))}),await async function(n,r){const i=ye(n),s=m0(i.serializer)+"/documents",a={writes:r.map(o=>p0(i.serializer,o))};await i.Io("Commit",s,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Se();n=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new te(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ce.min())?Ot.exists(!1):Ot.updateTime(n):Ot.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ce.min()))throw new te(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ot.updateTime(n)}return Ot.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new u6(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new YZ(this.datastore),n=this.qc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Uc(i)}))}).catch(r=>{this.Uc(r)})})}qc(e){try{const n=this.updateFunction(e);return!G0(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!ON(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=WO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{se("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=th(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rp(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _6(t);se("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Z9(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Z9(e.remoteStore,s)),t._onlineComponents=e}function CM(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!CM(n))throw n;Qi("Error using user provided cache. Falling back to memory cache: "+n),await rp(t,new Yw)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await rp(t,new Yw);return t._offlineComponents}async function W1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await Xw(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await Xw(t,new E6))),t._onlineComponents}function PM(t){return _6(t).then(e=>e.persistence)}function T6(t){return _6(t).then(e=>e.localStore)}function OM(t){return W1(t).then(e=>e.remoteStore)}function I6(t){return W1(t).then(e=>e.syncEngine)}function JZ(t){return W1(t).then(e=>e.datastore)}async function Ec(t){const e=await W1(t),n=e.eventManager;return n.onListen=CZ.bind(null,e.syncEngine),n.onUnlisten=PZ.bind(null,e.syncEngine),n}function ZZ(t){return t.asyncQueue.enqueue(async()=>{const e=await PM(t),n=await OM(t);return e.setNetworkEnabled(!0),function(r){const i=ye(r);return i.vu.delete(0),nf(i)}(n)})}function eee(t){return t.asyncQueue.enqueue(async()=>{const e=await PM(t),n=await OM(t);return e.setNetworkEnabled(!1),async function(r){const i=ye(r);i.vu.add(0),await Jc(i),i.bu.set("Offline")}(n)})}function tee(t,e){const n=new In;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const a=await function(o,l){const c=ye(o);return c.persistence.runTransaction("read document","readonly",d=>c.localDocuments.getDocument(d,l))}(r,i);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new te(X.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const o=th(a,`Failed to get document '${i} from cache`);s.reject(o)}}(await T6(t),e,n)),n.promise}function NM(t,e,n={}){const r=new In;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,o,l){const c=new H1({next:m=>{s.enqueueAndForget(()=>p6(i,d));const g=m.docs.has(a);!g&&m.fromCache?l.reject(new te(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&o&&o.source==="server"?l.reject(new te(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new y6(Yc(a.path),c,{includeMetadataChanges:!0,Ku:!0});return m6(i,d)}(await Ec(t),t.asyncQueue,e,n,r)),r.promise}function nee(t,e){const n=new In;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const a=await tg(r,i,!0),o=new EM(i,a.ir),l=o.sc(a.documents),c=o.applyChanges(l,!1);s.resolve(c.snapshot)}catch(a){const o=th(a,`Failed to execute query '${i} against cache`);s.reject(o)}}(await T6(t),e,n)),n.promise}function MM(t,e,n={}){const r=new In;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,o,l){const c=new H1({next:m=>{s.enqueueAndForget(()=>p6(i,d)),m.fromCache&&o.source==="server"?l.reject(new te(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new y6(a,c,{includeMetadataChanges:!0,Ku:!0});return m6(i,d)}(await Ec(t),t.asyncQueue,e,n,r)),r.promise}function ree(t,e){const n=new H1(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){ye(r).ku.add(i),i.next()}(await Ec(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){ye(r).ku.delete(i)}(await Ec(t),n))}}function iee(t,e,n,r){const i=function(s,a){let o;return o=typeof s=="string"?MN().encode(s):s,function(l,c){return new GZ(l,c)}(function(l,c){if(l instanceof Uint8Array)return iE(l,c);if(l instanceof ArrayBuffer)return iE(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(o),a)}(n,tf(e));t.asyncQueue.enqueueAndForget(async()=>{WZ(await I6(t),i,r)})}function see(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=ye(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(await T6(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t,e,n){if(!n)throw new te(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RM(t,e,n,r){if(e===!0&&r===!0)throw new te(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aE(t){if(!pe.isDocumentKey(t))throw new te(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oE(t){if(pe.isDocumentKey(t))throw new te(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function K1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function tt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=K1(t);throw new te(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function jM(t,e){if(e<=0)throw new te(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class rf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new sQ;switch(n.type){case"firstParty":return new uQ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new te(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=sE.get(e);n&&(se("ComponentProvider","Removing Datastore"),sE.delete(e),n.terminate())}(this),Promise.resolve()}}function aee(t,e,n,r={}){var i;const s=(t=tt(t,rf))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=_n.MOCK_USER;else{o=Iq(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _n(c)}t._authCredentials=new aQ(new HO(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}}class Yn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yn(this.firestore,e,this._query)}}class Ss extends Yn{constructor(e,n,r){super(e,n,Yc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new pe(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function LM(t,e,...n){if(t=Me(t),A6("collection","path",e),t instanceof rf){const r=Qe.fromString(e,...n);return oE(r),new Ss(t,null,r)}{if(!(t instanceof Tt||t instanceof Ss))throw new te(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return oE(r),new Ss(t.firestore,null,r)}}function oee(t,e){if(t=tt(t,rf),A6("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(X.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yn(t,null,function(n){return new xa(Qe.emptyPath(),n)}(e))}function sg(t,e,...n){if(t=Me(t),arguments.length===1&&(e=WO.A()),A6("doc","path",e),t instanceof rf){const r=Qe.fromString(e,...n);return aE(r),new Tt(t,null,new pe(r))}{if(!(t instanceof Tt||t instanceof Ss))throw new te(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return aE(r),new Tt(t.firestore,t instanceof Ss?t.converter:null,new pe(r))}}function $M(t,e){return t=Me(t),e=Me(e),(t instanceof Tt||t instanceof Ss)&&(e instanceof Tt||e instanceof Ss)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function FM(t,e){return t=Me(t),e=Me(e),t instanceof Yn&&e instanceof Yn&&t.firestore===e.firestore&&X0(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new u6(this,"async_queue_retry"),this.Xc=()=>{const n=np();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new In;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Lo(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Qt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=f6.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Se()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Qw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class uee{constructor(){this._progressObserver={},this._taskCompletionResolver=new In,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee=-1;class Kt extends rf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lee,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zM(this),this._firestoreClient.terminate()}}function Nn(t){return t._firestoreClient||zM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zM(t){var e,n,r;const i=t._freezeSettings(),s=function(a,o,l,c){return new FQ(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,DM(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new QZ(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function hee(t,e){UM(t=tt(t,Kt));const n=Nn(t);if(n._uninitializedComponentsProvider)throw new te(X.FAILED_PRECONDITION,"SDK cache is already specified.");Qi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new E6;return BM(n,i,new AM(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function dee(t){UM(t=tt(t,Kt));const e=Nn(t);if(e._uninitializedComponentsProvider)throw new te(X.FAILED_PRECONDITION,"SDK cache is already specified.");Qi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new E6;return BM(e,r,new KZ(r,n.cacheSizeBytes))}function BM(t,e,n){const r=new In;return t.asyncQueue.enqueue(async()=>{try{await rp(t,n),await Xw(t,e),r.resolve()}catch(i){const s=i;if(!CM(s))throw s;Qi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function fee(t){if(t._initialized&&!t._terminated)throw new te(X.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new In;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!Hi.D())return Promise.resolve();const r=n+"main";await Hi.delete(r)}(a6(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function mee(t){return function(e){const n=new In;return e.asyncQueue.enqueueAndForget(async()=>RZ(await I6(e),n)),n.promise}(Nn(t=tt(t,Kt)))}function pee(t){return ZZ(Nn(t=tt(t,Kt)))}function gee(t){return eee(Nn(t=tt(t,Kt)))}function yee(t,e){const n=Nn(t=tt(t,Kt)),r=new uee;return iee(n,t._databaseId,e,r),r}function vee(t,e){return see(Nn(t=tt(t,Kt)),e).then(n=>n?new Yn(t,null,n.query):null)}function UM(t){if(t._initialized||t._terminated)throw new te(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(mn.fromBase64String(e))}catch(n){throw new te(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new As(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee=/^__.*__$/;class bee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xc(e,this.data,n,this.fieldTransforms)}}class VM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Y1{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Y1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ag(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(qM(this.ca)&&wee.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class xee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tf(e)}ya(e,n,r,i=!1){return new Y1({ca:e,methodName:n,ga:r,path:Jt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function au(t){const e=t._freezeSettings(),n=tf(t._databaseId);return new xee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function X1(t,e,n,r,i,s={}){const a=t.ya(s.merge||s.mergeFields?2:0,e,n,i);N6("Data must be an object, but it was:",a,r);const o=KM(r,a);let l,c;if(s.merge)l=new Mr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const g=Jw(e,m,n);if(!a.contains(g))throw new te(X.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);YM(d,g)||d.push(g)}l=new Mr(d),c=a.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=a.fieldTransforms;return new bee(new Un(o),l,c)}class sf extends su{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sf}}function HM(t,e,n){return new Y1({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class C6 extends su{_toFieldTransform(e){return new J0(e.path,new yc)}isEqual(e){return e instanceof C6}}class kee extends su{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=HM(this,e,!0),r=this.pa.map(s=>ou(s,n)),i=new zl(r);return new J0(e.path,i)}isEqual(e){return this===e}}class See extends su{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=HM(this,e,!0),r=this.pa.map(s=>ou(s,n)),i=new Bl(r);return new J0(e.path,i)}isEqual(e){return this===e}}class Eee extends su{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new vc(e.serializer,EN(e.serializer,this.Ia));return new J0(e.path,n)}isEqual(e){return this===e}}function P6(t,e,n,r){const i=t.ya(1,e,n);N6("Data must be an object, but it was:",i,r);const s=[],a=Un.empty();iu(r,(l,c)=>{const d=M6(e,l,n);c=Me(c);const m=i.da(d);if(c instanceof sf)s.push(d);else{const g=ou(c,m);g!=null&&(s.push(d),a.set(d,g))}});const o=new Mr(s);return new VM(a,o,i.fieldTransforms)}function O6(t,e,n,r,i,s){const a=t.ya(1,e,n),o=[Jw(e,r,n)],l=[i];if(s.length%2!=0)throw new te(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(Jw(e,s[g])),l.push(s[g+1]);const c=[],d=Un.empty();for(let g=o.length-1;g>=0;--g)if(!YM(c,o[g])){const y=o[g];let b=l[g];b=Me(b);const k=a.da(y);if(b instanceof sf)c.push(y);else{const x=ou(b,k);x!=null&&(c.push(y),d.set(y,x))}}const m=new Mr(c);return new VM(d,m,a.fieldTransforms)}function WM(t,e,n,r=!1){return ou(n,t.ya(r?4:3,e))}function ou(t,e){if(GM(t=Me(t)))return N6("Unsupported field value:",e,t),KM(t,e);if(t instanceof su)return function(n,r){if(!qM(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let o=ou(a,r.wa(s));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Me(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return EN(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:wc(r.serializer,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:wc(r.serializer,i)}}if(n instanceof G1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof As)return{bytesValue:jN(r.serializer,n._byteString)};if(n instanceof Tt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:e6(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${K1(n)}`)}(t,e)}function KM(t,e){const n={};return iN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):iu(t,(r,i)=>{const s=ou(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function GM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof G1||t instanceof As||t instanceof Tt||t instanceof su)}function N6(t,e,n){if(!GM(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=K1(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Jw(t,e,n){if((e=Me(e))instanceof _o)return e._internalPath;if(typeof e=="string")return M6(t,e);throw ag("Field path arguments must be of type string or ",t,!1,void 0,n)}const _ee=new RegExp("[~\\*/\\[\\]]");function M6(t,e,n){if(e.search(_ee)>=0)throw ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _o(...e.split("."))._internalPath}catch{throw ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ag(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new te(X.INVALID_ARGUMENT,o+t+l)}function YM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Tee extends y0{data(){return super.data()}}function Q1(t,e){return typeof e=="string"?M6(t,e):e instanceof _o?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D6{}class af extends D6{}function Fa(t,e,...n){let r=[];e instanceof D6&&r.push(e),r=r.concat(n),function(i){const s=i.filter(o=>o instanceof R6).length,a=i.filter(o=>o instanceof J1).length;if(s>1||s>0&&a>0)throw new te(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class J1 extends af{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new J1(e,n,r)}_apply(e){const n=this._parse(e);return JM(e._query,n),new Yn(e.firestore,e.converter,$w(e._query,n))}_parse(e){const n=au(e.firestore);return function(i,s,a,o,l,c,d){let m;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new te(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){cE(d,c);const g=[];for(const y of d)g.push(uE(o,i,y));m={arrayValue:{values:g}}}else m=uE(o,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||cE(d,c),m=WM(a,s,d,c==="in"||c==="not-in");return qe.create(l,c,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Iee(t,e,n){const r=e,i=Q1("where",t);return J1._create(i,r,n)}class R6 extends D6{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new R6(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:at.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const a=i.getFlattenedFilters();for(const o of a)JM(s,o),s=$w(s,o)}(e._query,n),new Yn(e.firestore,e.converter,$w(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j6 extends af{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new j6(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new te(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new te(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Zu(i,s);return function(o,l){if(H3(o)===null){const c=$1(o);c!==null&&ZM(o,c,l.field)}}(r,a),a}(e._query,this._field,this._direction);return new Yn(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new xa(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Aee(t,e="asc"){const n=e,r=Q1("orderBy",t);return j6._create(r,n)}class Z1 extends af{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Z1(e,n,r)}_apply(e){return new Yn(e.firestore,e.converter,Qp(e._query,this._limit,this._limitType))}}function Cee(t){return jM("limit",t),Z1._create("limit",t,"F")}function Pee(t){return jM("limitToLast",t),Z1._create("limitToLast",t,"L")}class ey extends af{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ey(e,n,r)}_apply(e){const n=QM(e,this.type,this._docOrFields,this._inclusive);return new Yn(e.firestore,e.converter,function(r,i){return new xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function Oee(...t){return ey._create("startAt",t,!0)}function Nee(...t){return ey._create("startAfter",t,!1)}class ty extends af{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ty(e,n,r)}_apply(e){const n=QM(e,this.type,this._docOrFields,this._inclusive);return new Yn(e.firestore,e.converter,function(r,i){return new xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function Mee(...t){return ty._create("endBefore",t,!1)}function Dee(...t){return ty._create("endAt",t,!0)}function QM(t,e,n,r){if(n[0]=Me(n[0]),n[0]instanceof y0)return function(i,s,a,o,l){if(!o)throw new te(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Sl(i))if(d.field.isKeyField())c.push($l(s,o.key));else{const m=o.data.field(d.field);if(L1(m))throw new te(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const g=d.field.canonicalString();throw new te(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}c.push(m)}return new So(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=au(t.firestore);return function(s,a,o,l,c,d){const m=s.explicitOrderBy;if(c.length>m.length)throw new te(X.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let y=0;y<c.length;y++){const b=c[y];if(m[y].field.isKeyField()){if(typeof b!="string")throw new te(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!W3(s)&&b.indexOf("/")!==-1)throw new te(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const k=s.path.child(Qe.fromString(b));if(!pe.isDocumentKey(k))throw new te(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const x=new pe(k);g.push($l(a,x))}else{const k=WM(o,l,b);g.push(k)}}return new So(g,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function uE(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new te(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W3(e)&&n.indexOf("/")!==-1)throw new te(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!pe.isDocumentKey(r))throw new te(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $l(t,new pe(r))}if(n instanceof Tt)return $l(t,n._key);throw new te(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${K1(n)}.`)}function cE(t,e){if(!Array.isArray(t)||t.length===0)throw new te(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JM(t,e){if(e.isInequality()){const r=$1(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new te(X.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=H3(t);s!==null&&ZM(t,i,s)}const n=function(r,i){for(const s of r)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ZM(t,e,n){if(!n.isEqual(e))throw new te(X.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class L6{convertValue(e,n="none"){switch(Ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return iu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new G1(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=V3(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(c0(e));default:return null}}convertTimestamp(e){const n=wo(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Pe(WN(r));const i=new xo(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||Qt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ree extends L6{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends y0{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Q1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _d extends ua{data(e={}){return super.data(e)}}class To{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _d(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{const o=new _d(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const o=new _d(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:jee(a.type),doc:o,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function eD(t,e){return t instanceof ua&&e instanceof ua?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof To&&e instanceof To&&t._firestore===e._firestore&&FM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(t){t=tt(t,Tt);const e=tt(t.firestore,Kt);return NM(Nn(e),t._key).then(n=>$6(e,t,n))}class lu extends L6{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function $ee(t){t=tt(t,Tt);const e=tt(t.firestore,Kt),n=Nn(e),r=new lu(e);return tee(n,t._key).then(i=>new ua(e,r,t._key,i,new dl(i!==null&&i.hasLocalMutations,!0),t.converter))}function Fee(t){t=tt(t,Tt);const e=tt(t.firestore,Kt);return NM(Nn(e),t._key,{source:"server"}).then(n=>$6(e,t,n))}function zee(t){t=tt(t,Yn);const e=tt(t.firestore,Kt),n=Nn(e),r=new lu(e);return XM(t._query),MM(n,t._query).then(i=>new To(e,r,t,i))}function Bee(t){t=tt(t,Yn);const e=tt(t.firestore,Kt),n=Nn(e),r=new lu(e);return nee(n,t._query).then(i=>new To(e,r,t,i))}function Uee(t){t=tt(t,Yn);const e=tt(t.firestore,Kt),n=Nn(e),r=new lu(e);return MM(n,t._query,{source:"server"}).then(i=>new To(e,r,t,i))}function hE(t,e,n){t=tt(t,Tt);const r=tt(t.firestore,Kt),i=ny(t.converter,e,n);return of(r,[X1(au(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ot.none())])}function dE(t,e,n,...r){t=tt(t,Tt);const i=tt(t.firestore,Kt),s=au(i);let a;return a=typeof(e=Me(e))=="string"||e instanceof _o?O6(s,"updateDoc",t._key,e,n,r):P6(s,"updateDoc",t._key,e),of(i,[a.toMutation(t._key,Ot.exists(!0))])}function Vee(t){return of(tt(t.firestore,Kt),[new Qc(t._key,Ot.none())])}function qee(t,e){const n=tt(t.firestore,Kt),r=sg(t),i=ny(t.converter,e);return of(n,[X1(au(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ot.exists(!1))]).then(()=>r)}function tD(t,...e){var n,r,i;t=Me(t);let s={includeMetadataChanges:!1},a=0;typeof e[a]!="object"||Qw(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges};if(Qw(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[a+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,c,d;if(t instanceof Tt)c=tt(t.firestore,Kt),d=Yc(t._key.path),l={next:m=>{e[a]&&e[a]($6(c,t,m))},error:e[a+1],complete:e[a+2]};else{const m=tt(t,Yn);c=tt(m.firestore,Kt),d=m._query;const g=new lu(c);l={next:y=>{e[a]&&e[a](new To(c,g,m,y))},error:e[a+1],complete:e[a+2]},XM(t._query)}return function(m,g,y,b){const k=new H1(b),x=new y6(g,k,y);return m.asyncQueue.enqueueAndForget(async()=>m6(await Ec(m),x)),()=>{k.Dc(),m.asyncQueue.enqueueAndForget(async()=>p6(await Ec(m),x))}}(Nn(c),d,o,l)}function Hee(t,e){return ree(Nn(t=tt(t,Kt)),Qw(e)?e:{next:e})}function of(t,e){return function(n,r){const i=new In;return n.asyncQueue.enqueueAndForget(async()=>OZ(await I6(n),r,i)),i.promise}(Nn(t),e)}function $6(t,e,n){const r=n.docs.get(e._key),i=new lu(t);return new ua(t,i,e._key,r,new dl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=au(e)}set(e,n,r){this._verifyNotCommitted();const i=Ka(e,this._firestore),s=ny(i.converter,n,r),a=X1(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Ot.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ka(e,this._firestore);let a;return a=typeof(n=Me(n))=="string"||n instanceof _o?O6(this._dataReader,"WriteBatch.update",s._key,n,r,i):P6(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Ot.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ka(e,this._firestore);return this._mutations=this._mutations.concat(new Qc(n._key,Ot.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ka(t,e){if((t=Me(t)).firestore!==e)throw new te(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=au(e)}get(e){const n=Ka(e,this._firestore),r=new Ree(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Se();const s=i[0];if(s.isFoundDocument())return new y0(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new y0(this._firestore,r,n._key,null,n.converter);throw Se()})}set(e,n,r){const i=Ka(e,this._firestore),s=ny(i.converter,n,r),a=X1(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=Ka(e,this._firestore);let a;return a=typeof(n=Me(n))=="string"||n instanceof _o?O6(this._dataReader,"Transaction.update",s._key,n,r,i):P6(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=Ka(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ka(e,this._firestore),r=new lu(this._firestore);return super.get(e).then(i=>new ua(this._firestore,r,n._key,i._document,new dl(!1,!1),n.converter))}}function Yee(t,e,n){t=tt(t,Kt);const r=Object.assign(Object.assign({},Wee),n);return function(i){if(i.maxAttempts<1)throw new te(X.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,a){const o=new In;return i.asyncQueue.enqueueAndForget(async()=>{const l=await JZ(i);new XZ(i.asyncQueue,l,a,s,o).run()}),o.promise}(Nn(t),i=>e(new Gee(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(){return new sf("deleteField")}function Qee(){return new C6("serverTimestamp")}function Jee(...t){return new kee("arrayUnion",t)}function Zee(...t){return new See("arrayRemove",t)}function ete(t){return new Eee("increment",t)}(function(t,e=!0){(function(n){Gc=n})(No),go(new _s("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new Kt(new oQ(n.getProvider("auth-internal")),new hQ(n.getProvider("app-check-internal")),function(o,l){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new te(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(o.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),xs(o9,"3.13.0",t),xs(o9,"3.13.0","esm2017")})();const tte="@firebase/firestore-compat",nte="0.3.12";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new te("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){if(typeof Uint8Array>"u")throw new te("unimplemented","Uint8Arrays are not available in this environment.")}function mE(){if(!LQ())throw new te("unimplemented","Blobs are unavailable in Firestore in this environment.")}let nD=class Zw{constructor(e){this._delegate=e}static fromBase64String(e){return mE(),new Zw(As.fromBase64String(e))}static fromUint8Array(e){return fE(),new Zw(As.fromUint8Array(e))}toBase64(){return mE(),this._delegate.toBase64()}toUint8Array(){return fE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){return rte(t,["next","error","complete"])}function rte(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{enableIndexedDbPersistence(e,n){return hee(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return dee(e._delegate)}clearIndexedDbPersistence(e){return fee(e._delegate)}}class rD{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof xo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Qi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){aee(this._delegate,e,n,r)}enableNetwork(){return pee(this._delegate)}disableNetwork(){return gee(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,RM("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return mee(this._delegate)}onSnapshotsInSync(e){return Hee(this._delegate,e)}get app(){if(!this._appCompat)throw new te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _c(this,LM(this._delegate,e))}catch(n){throw fr(n,"collection()","Firestore.collection()")}}doc(e){try{return new _i(this,sg(this._delegate,e))}catch(n){throw fr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dr(this,oee(this._delegate,e))}catch(n){throw fr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Yee(this._delegate,n=>e(new iD(this,n)))}batch(){return Nn(this._delegate),new sD(new Kee(this._delegate,e=>of(this._delegate,e)))}loadBundle(e){return yee(this._delegate,e)}namedQuery(e){return vee(this._delegate,e).then(n=>n?new dr(this,n):null)}}class ry extends L6{constructor(e){super(),this.firestore=e}convertBytes(e){return new nD(new As(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return _i.forKey(n,this.firestore,null)}}function ste(t){rQ(t)}class iD{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ry(e)}get(e){const n=fl(e);return this._delegate.get(n).then(r=>new v0(this._firestore,new ua(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=fl(e);return r?(F6("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=fl(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=fl(e);return this._delegate.delete(n),this}}class sD{constructor(e){this._delegate=e}set(e,n,r){const i=fl(e);return r?(F6("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=fl(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=fl(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Hl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new _d(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new w0(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Hl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Hl(e,new ry(e),n),i.set(n,s)),s}}Hl.INSTANCES=new WeakMap;class _i{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ry(e)}static forPath(e,n,r){if(e.length%2!==0)throw new te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _i(n,new Tt(n._delegate,r,new pe(e)))}static forKey(e,n,r){return new _i(n,new Tt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _c(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _c(this.firestore,LM(this._delegate,e))}catch(n){throw fr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Me(e),e instanceof Tt?$M(this._delegate,e):!1}set(e,n){n=F6("DocumentReference.set",n);try{return n?hE(this._delegate,e,n):hE(this._delegate,e)}catch(r){throw fr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?dE(this._delegate,e):dE(this._delegate,e,n,...r)}catch(i){throw fr(i,"updateDoc()","DocumentReference.update()")}}delete(){return Vee(this._delegate)}onSnapshot(...e){const n=aD(e),r=oD(e,i=>new v0(this.firestore,new ua(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return tD(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=$ee(this._delegate):(e==null?void 0:e.source)==="server"?n=Fee(this._delegate):n=Lee(this._delegate),n.then(r=>new v0(this.firestore,new ua(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new _i(this.firestore,e?this._delegate.withConverter(Hl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function fr(t,e,n){return t.message=t.message.replace(e,n),t}function aD(t){for(const e of t)if(typeof e=="object"&&!eb(e))return e;return{}}function oD(t,e){var n,r;let i;return eb(t[0])?i=t[0]:eb(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class v0{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new _i(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return eD(this._delegate,e._delegate)}}class w0 extends v0{data(e){const n=this._delegate.data(e);return iQ(n!==void 0),n}}class dr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ry(e)}where(e,n,r){try{return new dr(this.firestore,Fa(this._delegate,Iee(e,n,r)))}catch(i){throw fr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new dr(this.firestore,Fa(this._delegate,Aee(e,n)))}catch(r){throw fr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new dr(this.firestore,Fa(this._delegate,Cee(e)))}catch(n){throw fr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new dr(this.firestore,Fa(this._delegate,Pee(e)))}catch(n){throw fr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new dr(this.firestore,Fa(this._delegate,Oee(...e)))}catch(n){throw fr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new dr(this.firestore,Fa(this._delegate,Nee(...e)))}catch(n){throw fr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new dr(this.firestore,Fa(this._delegate,Mee(...e)))}catch(n){throw fr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new dr(this.firestore,Fa(this._delegate,Dee(...e)))}catch(n){throw fr(n,"endAt()","Query.endAt()")}}isEqual(e){return FM(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Bee(this._delegate):(e==null?void 0:e.source)==="server"?n=Uee(this._delegate):n=zee(this._delegate),n.then(r=>new tb(this.firestore,new To(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=aD(e),r=oD(e,i=>new tb(this.firestore,new To(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return tD(this._delegate,n,r)}withConverter(e){return new dr(this.firestore,e?this._delegate.withConverter(Hl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class ate{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new w0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tb{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new dr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new w0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new ate(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new w0(this._firestore,r))})}isEqual(e){return eD(this._delegate,e._delegate)}}class _c extends dr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _i(this.firestore,e):null}doc(e){try{return e===void 0?new _i(this.firestore,sg(this._delegate)):new _i(this.firestore,sg(this._delegate,e))}catch(n){throw fr(n,"doc()","CollectionReference.doc()")}}add(e){return qee(this._delegate,e).then(n=>new _i(this.firestore,n))}isEqual(e){return $M(this._delegate,e._delegate)}withConverter(e){return new _c(this.firestore,e?this._delegate.withConverter(Hl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function fl(t){return tt(t,Tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(...e){this._delegate=new _o(...e)}static documentId(){return new z6(Jt.keyField().canonicalString())}isEqual(e){return e=Me(e),e instanceof _o?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this._delegate=e}static serverTimestamp(){const e=Qee();return e._methodName="FieldValue.serverTimestamp",new sl(e)}static delete(){const e=Xee();return e._methodName="FieldValue.delete",new sl(e)}static arrayUnion(...e){const n=Jee(...e);return n._methodName="FieldValue.arrayUnion",new sl(n)}static arrayRemove(...e){const n=Zee(...e);return n._methodName="FieldValue.arrayRemove",new sl(n)}static increment(e){const n=ete(e);return n._methodName="FieldValue.increment",new sl(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote={Firestore:rD,GeoPoint:G1,Timestamp:Mt,Blob:nD,Transaction:iD,WriteBatch:sD,DocumentReference:_i,DocumentSnapshot:v0,Query:dr,QueryDocumentSnapshot:w0,QuerySnapshot:tb,CollectionReference:_c,FieldPath:z6,FieldValue:sl,setLogLevel:ste,CACHE_SIZE_UNLIMITED:cee};function lte(t,e){t.INTERNAL.registerComponent(new _s("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},ote)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ute(t){lte(t,(e,n)=>new rD(e,n,new ite)),t.registerVersion(tte,nte)}ute(va);const cte={apiKey:"AIzaSyBN2OWzRFKCv2xkqhmIOZ9a5p6W41l0TOY",authDomain:"edu-vektor-bd2c4.firebaseapp.com",projectId:"edu-vektor-bd2c4",storageBucket:"edu-vektor-bd2c4.firebasestorage.app",messagingSenderId:"159100115005",appId:"1:159100115005:web:9808f7e70f167c343ab254",measurementId:"G-E7QTYGW5E1"},lD=va.initializeApp(cte),B6=lD.auth(),Fu=lD.firestore(),uD=new va.auth.GoogleAuthProvider,cD=Zb.createContext();function uu(){return I.useContext(cD)}function hte({children:t}){const[e,n]=I.useState(null),[r,i]=I.useState(!0);I.useEffect(()=>B6.onAuthStateChanged(o=>{n(o),i(!1)}),[]);const s={currentUser:e};return T.jsx(cD.Provider,{value:s,children:!r&&t})}const dte=({user:t})=>{const{logout:e}=uu(),n=async()=>{try{await e()}catch(r){console.error("Failed to log out",r)}};return T.jsxs("div",{className:"dropdown-menu-nav",children:[T.jsxs("div",{className:"dropdown-header",children:[T.jsx("p",{children:"Signed in as"}),T.jsx("strong",{children:t.email})]}),T.jsx(pd,{to:"/dashboard",className:"dropdown-item-nav",children:"Lihat Progres"}),T.jsx("button",{onClick:n,className:"dropdown-item-nav",children:"Logout"})]})},fte="/assets/edvek-CWhTGULD.png",mte=()=>{const{currentUser:t}=uu(),[e,n]=I.useState(!1),[r,i]=I.useState(!1),s=()=>{B6.signInWithPopup(uD)},a=()=>{n(!e),e||i(!1)},o=()=>{i(!r)},l=()=>{n(!1),i(!1)};return I.useEffect(()=>{const c=d=>{r&&!d.target.closest(".mobile-dropdown")&&i(!1)};return document.addEventListener("click",c),()=>{document.removeEventListener("click",c)}},[r]),T.jsxs("nav",{children:[T.jsx(Ko,{to:"/home",className:"brand",onClick:l,children:T.jsx("img",{src:fte,alt:"EduVektor Logo",className:"logo-img"})}),T.jsxs("button",{className:"mobile-menu-toggle",onClick:a,"aria-label":e?"Tutup menu":"Buka menu",children:[T.jsx("span",{}),T.jsx("span",{}),T.jsx("span",{})]}),T.jsxs("ul",{className:e?"mobile-menu-open":"",children:[T.jsx("li",{children:T.jsx(Ko,{to:"/home",onClick:l,children:"Beranda"})}),T.jsx("li",{children:T.jsx(Ko,{to:"/materi",onClick:l,children:"Materi"})}),T.jsxs("li",{className:"mobile-dropdown",children:[T.jsx("button",{className:"dropdown-toggle",onClick:c=>{c.preventDefault(),c.stopPropagation(),o()},children:"Simulasi"}),T.jsxs("div",{className:`dropdown-menu-nav ${r?"show":""}`,children:[T.jsx(Ko,{to:"/simulasi",className:"dropdown-item-nav",onClick:l,children:"Vektor Kartesius"}),T.jsx(Ko,{to:"/proyektor-vektor",className:"dropdown-item-nav",onClick:l,children:"Proyektor Vektor"}),T.jsx(Ko,{to:"/palet-rgb",className:"dropdown-item-nav",onClick:l,children:"Palet RGB"})]})]}),T.jsx("li",{children:T.jsx(Ko,{to:"/kuis",onClick:l,children:"Kuis"})})]}),T.jsx("div",{className:"auth-container",children:t?T.jsxs("div",{className:"dropdown",children:[T.jsx("button",{className:"profile-button",children:T.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${t.email}&background=3b82f6&color=fff`,alt:"User Avatar"})}),T.jsx(dte,{user:t})]}):T.jsx("button",{onClick:s,className:"login-button-nav",children:"Login"})})]})},pte=()=>{const t=I.useRef(null);return I.useEffect(()=>{const e=t.current,n=e.getContext("2d");let r;e.width=window.innerWidth,e.height=window.innerHeight;const i={x:null,y:null,radius:150};window.addEventListener("mousemove",d=>{i.x=d.x,i.y=d.y});class s{constructor(m,g,y,b,k,x){this.x=m,this.y=g,this.directionX=y,this.directionY=b,this.size=k,this.color=x,this.baseX=this.x,this.baseY=this.y,this.density=Math.random()*30+1}draw(){n.beginPath(),n.arc(this.x,this.y,this.size,0,Math.PI*2,!1),n.fillStyle="#005fdb",n.fill()}update(){let m=i.x-this.x,g=i.y-this.y,y=Math.sqrt(m*m+g*g),b=m/y,k=g/y,x=i.radius,_=(x-y)/x,A=b*_*this.density,C=k*_*this.density;if(y<i.radius)this.x-=A,this.y-=C;else{if(this.x!==this.baseX){let D=this.x-this.baseX;this.x-=D/10}if(this.y!==this.baseY){let D=this.y-this.baseY;this.y-=D/10}}this.draw()}}let a=[];function o(){a=[];let d=e.height*e.width/9e3;for(let m=0;m<d;m++){let g=Math.random()*2+1,y=Math.random()*(window.innerWidth-g*2-g*2)+g*2,b=Math.random()*(window.innerHeight-g*2-g*2)+g*2,k=Math.random()*.4-.2,x=Math.random()*.4-.2,_="#005fdb";a.push(new s(y,b,k,x,g,_))}}function l(){n.clearRect(0,0,e.width,e.height);for(let d=0;d<a.length;d++)a[d].update();r=requestAnimationFrame(l)}o(),l();const c=()=>{e.width=window.innerWidth,e.height=window.innerHeight,o()};return window.addEventListener("resize",c),()=>{window.removeEventListener("mousemove",d=>{i.x=d.x,i.y=d.y}),window.removeEventListener("resize",c),cancelAnimationFrame(r)}},[]),T.jsx("canvas",{ref:t,style:{position:"absolute",top:0,left:0,zIndex:-1}})},gte=()=>{const[t,e]=I.useState(!1);I.useEffect(()=>{const r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return T.jsx("button",{className:`scroll-to-top ${t?"show":""}`,onClick:n,"aria-label":"Scroll to top",title:"Scroll to top",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M12 19V5M5 12l7-7 7 7"})})})},yte=()=>T.jsxs(T.Fragment,{children:[T.jsx(pte,{}),T.jsx(mte,{}),T.jsx("main",{className:"page-container",children:T.jsx(_C,{})}),T.jsx(gte,{})]}),vte=()=>T.jsxs("div",{className:"homepage-container",children:[T.jsxs("header",{className:"homepage-header",children:[T.jsx("h1",{children:"Selamat Datang Kembali!"}),T.jsx("p",{children:"Pilih salah satu menu di bawah ini untuk memulai petualangan Anda di dunia vektor."})]}),T.jsxs("div",{className:"card-container",children:[T.jsxs(pd,{to:"/materi",className:"card",children:[T.jsx("div",{className:"card-icon",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),T.jsx("h3",{children:"Mulai Belajar"}),T.jsx("p",{children:"Pelajari dasar-dasar teori vektor dari awal hingga mahir."})]}),T.jsxs(pd,{to:"/simulasi",className:"card",children:[T.jsx("div",{className:"card-icon",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M21.75 12h-2.25m-1.666 5.834L16.5 16.5M4.5 12H2.25m1.666-5.834L5.5 7.5m5.666 0H12m-2.25 13.5v-2.25"})})}),T.jsx("h3",{children:"Coba Simulasi"}),T.jsx("p",{children:"Visualisasikan operasi vektor secara interaktif dan real-time."})]}),T.jsxs(pd,{to:"/kuis",className:"card",children:[T.jsx("div",{className:"card-icon",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})})}),T.jsx("h3",{children:"Uji Pengetahuan"}),T.jsx("p",{children:"Asah pemahaman Anda dengan menyelesaikan soal-soal kuis."})]})]})]}),wte=({children:t})=>{const[e,n]=I.useState(t[0].props.label),r=(i,s)=>{i.preventDefault(),n(s)};return T.jsxs("div",{className:"tabs",children:[T.jsx("ul",{className:"nav nav-tabs",children:t.map(i=>T.jsx("li",{className:e===i.props.label?"active":"",children:T.jsx("a",{href:"#",onClick:s=>r(s,i.props.label),children:i.props.label})},i.props.label))}),T.jsx("div",{className:"tab-content",children:t.map(i=>i.props.label===e?T.jsx("div",{children:i.props.children},i.props.label):null)})]})},vm=({label:t,children:e})=>T.jsx("div",{label:t,children:e});function pE(t){const e={h1:"h1",h2:"h2",p:"p",strong:"strong",...t.components};return T.jsxs(T.Fragment,{children:[T.jsx(e.h1,{children:"Dasar-Dasar Vektor"}),`
`,T.jsx(e.h2,{children:"Apa itu Vektor?"}),`
`,T.jsxs(e.p,{children:["Vektor adalah objek geometri yang memiliki ",T.jsx(e.strong,{children:"magnitudo (nilai/panjang)"})," dan ",T.jsx(e.strong,{children:"arah"}),". Vektor sering digambarkan sebagai panah. Panjang panah menunjukkan magnitudo, dan arah panah menunjukkan arahnya."]}),`
`,T.jsx(e.h2,{children:"Penjumlahan Vektor"}),`
`,T.jsxs(e.p,{children:["Penjumlahan dua vektor (misalnya ",T.jsx(e.strong,{children:"A"})," + ",T.jsx(e.strong,{children:"B"}),") menghasilkan vektor baru yang disebut ",T.jsx(e.strong,{children:"vektor resultan (R)"}),". Secara matematis, jika ",T.jsx(e.strong,{children:"A"})," = (Ax, Ay) dan ",T.jsx(e.strong,{children:"B"})," = (Bx, By), maka resultannya ",T.jsx(e.strong,{children:"R"})," = (Ax + Bx, Ay + By)."]}),`
`,T.jsx(e.h2,{children:"Magnitudo Vektor"}),`
`,T.jsxs(e.p,{children:["Magnitudo atau panjang dari sebuah vektor ",T.jsx(e.strong,{children:"A"})," = (Ax, Ay) dihitung menggunakan teorema Pythagoras: |A| = (Ax + Ay)"]}),`
`,T.jsxs("p",{children:["Cobalah konsep-konsep ini di halaman ",T.jsx("strong",{children:"Simulasi"}),"!"]})]})}function bte(t={}){const{wrapper:e}=t.components||{};return e?T.jsx(e,{...t,children:T.jsx(pE,{...t})}):pE(t)}function gE(t){const e={code:"code",em:"em",h1:"h1",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return T.jsxs(T.Fragment,{children:[T.jsx(e.h1,{children:"Vektor: Bahasa Universal di Dunia Kecerdasan Buatan (AI)"}),`
`,T.jsxs(e.p,{children:["Di dunia AI, ",T.jsx(e.strong,{children:"vektor"})," adalah cara untuk menerjemahkan data yang kompleksseperti teks, gambar, atau suarake dalam bahasa universal yang dimengerti oleh komputer, yaitu ",T.jsx(e.strong,{children:"angka"}),'. Anggap saja vektor sebagai "DNA digital" dari sebuah data, yang memungkinkan mesin untuk mengukur, membandingkan, dan memanipulasi informasi.']}),`
`,T.jsx(e.hr,{}),`
`,T.jsxs(e.h3,{children:["1. Memahami Bahasa Manusia: ",T.jsx(e.em,{children:"Word Embeddings"})," "]}),`
`,T.jsx(e.p,{children:'Komputer tidak mengerti kata "kucing" atau "anjing". AI mengubah setiap kata menjadi sebuah vektor (kumpulan angka) dalam sebuah ruang multidimensi. Keajaibannya adalah: kata-kata dengan makna serupa akan memiliki vektor yang posisinya saling berdekatan.'}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[`
`,T.jsxs(e.p,{children:[T.jsx(e.strong,{children:"Konsep Kunci:"})," Hubungan antar kata dapat dihitung secara matematis. Contoh paling terkenal adalah:"]}),`
`,T.jsx(e.pre,{children:T.jsx(e.code,{className:"language-js",children:`vektor('Raja') - vektor('Pria') + vektor('Wanita')  vektor('Ratu')
`})}),`
`]}),`
`,T.jsxs(e.li,{children:[`
`,T.jsxs(e.p,{children:[T.jsx(e.strong,{children:"Aplikasi:"})," Penerjemahan bahasa, analisis sentimen, dan ",T.jsx(e.em,{children:"chatbot"})," yang lebih cerdas."]}),`
`,T.jsxs(e.p,{children:[T.jsx(e.strong,{children:"Word Embeddings"}),' secara harfiah "menanamkan" makna kata ke dalam ruang vektor, mengubah linguistik menjadi geometri.']}),`
`]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsxs(e.h3,{children:["2. Pencarian Cerdas & Rekomendasi: ",T.jsx(e.em,{children:"Vector Databases"})," "]}),`
`,T.jsxs(e.p,{children:["Pernahkah Anda berpikir bagaimana Spotify merekomendasikan lagu yang mirip dengan selera Anda? Jawabannya adalah pencarian vektor. Setiap lagu, produk, atau artikel diubah menjadi vektor. Sistem tidak lagi mencari berdasarkan kata kunci, tetapi berdasarkan ",T.jsx(e.strong,{children:"kedekatan (kemiripan)"})," antar vektor."]}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Konsep Kunci:"})," ",T.jsx(e.strong,{children:"Cosine Similarity"})," adalah metrik yang digunakan untuk mengukur seberapa mirip dua vektor, terlepas dari ukurannya. Semakin kecil sudut di antara keduanya, semakin mirip artinya."]}),`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Aplikasi:"})," Rekomendasi produk di ",T.jsx(e.em,{children:"e-commerce"}),", pencarian gambar, dan sistem penemuan musik."]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsxs(e.h3,{children:["3. Melihat Dunia: ",T.jsx(e.em,{children:"Computer Vision"})," "]}),`
`,T.jsxs(e.p,{children:["Bagi AI, sebuah gambar hanyalah kumpulan piksel. Model ",T.jsx(e.em,{children:"Computer Vision"})," seperti ",T.jsx(e.strong,{children:"Convolutional Neural Networks (CNN)"})," memecah gambar menjadi fitur-fitur visual (tepian, tekstur, bentuk) dan merepresentasikannya sebagai vektor."]}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Proses:"}),' AI memindai gambar, mengubah fitur-fitur penting menjadi vektor, lalu membandingkannya dengan vektor lain yang sudah dikenali (misalnya, vektor untuk "kucing", "mobil", atau "wajah").']}),`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Aplikasi:"})," Pengenalan wajah (",T.jsx(e.em,{children:"face recognition"}),"), mobil otonom (",T.jsx(e.em,{children:"self-driving cars"}),"), dan diagnosis medis dari citra rontgen."]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsxs(e.h3,{children:["4. Mesin Kreatif: ",T.jsx(e.em,{children:"Generative AI"})," "]}),`
`,T.jsxs(e.p,{children:["Model seperti DALL-E atau Midjourney menggunakan konsep bernama ",T.jsxs(e.strong,{children:["ruang laten (",T.jsx(e.em,{children:"latent space"}),")"]}),', sebuah "peta" imajinasi AI di mana setiap titik adalah sebuah vektor yang mewakili sebuah konsep abstrak.']}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Konsep Kunci:"}),' Memanipulasi vektor di ruang laten ini sama dengan mengubah hasil akhir. Misalnya, mengambil vektor gambar wajah dan menambahkan "vektor senyum" akan menghasilkan gambar orang yang sama sedang tersenyum.']}),`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Aplikasi:"})," Pembuatan gambar dari teks, komposisi musik, dan desain seni."]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsx(e.h3,{children:"Kesimpulan"}),`
`,T.jsxs(e.p,{children:["Vektor adalah tulang punggung dari AI modern. Mereka mengubah data yang tidak terstruktur dan kualitatif menjadi representasi numerik yang terstruktur. Kemampuan untuk mengubah kata, gambar, dan suara menjadi vektor inilah yang memungkinkan AI untuk ",T.jsx(e.strong,{children:"memahami, menghubungkan, dan bahkan berkreasi"})," di dunia digital."]})]})}function xte(t={}){const{wrapper:e}=t.components||{};return e?T.jsx(e,{...t,children:T.jsx(gE,{...t})}):gE(t)}var nb={exports:{}},$4={exports:{}},F4,yE;function kte(){if(yE)return F4;yE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return F4=t,F4}var z4,vE;function Ste(){if(vE)return z4;vE=1;var t=kte();function e(){}function n(){}return n.resetWarningCache=e,z4=function(){function r(a,o,l,c,d,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},z4}var wE;function Ete(){return wE||(wE=1,$4.exports=Ste()()),$4.exports}var B4={exports:{}},bE;function _te(){return bE||(bE=1,function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:ZT,function(){return function(){var n={};(function(){n.d=function(h,u){for(var f in u)n.o(u,f)&&!n.o(h,f)&&Object.defineProperty(h,f,{enumerable:!0,get:u[f]})}})(),function(){n.o=function(h,u){return Object.prototype.hasOwnProperty.call(h,u)}}();var r={};n.d(r,{default:function(){return jz}});class i{constructor(u,f){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let p="KaTeX parse error: "+u,v,S;const P=f&&f.loc;if(P&&P.start<=P.end){const j=P.lexer.input;v=P.start,S=P.end,v===j.length?p+=" at end of input: ":p+=" at position "+(v+1)+": ";const z=j.slice(v,S).replace(/[^]/g,"$&");let V;v>15?V=""+j.slice(v-15,v):V=j.slice(0,v);let H;S+15<j.length?H=j.slice(S,S+15)+"":H=j.slice(S),p+=V+z+H}const N=new Error(p);return N.name="ParseError",N.__proto__=i.prototype,N.position=v,v!=null&&S!=null&&(N.length=S-v),N.rawMessage=u,N}}i.prototype.__proto__=Error.prototype;var s=i;const a=function(h,u){return h===void 0?u:h},o=/([A-Z])/g,l=function(h){return h.replace(o,"-$1").toLowerCase()},c={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},d=/[&><"']/g;function m(h){return String(h).replace(d,u=>c[u])}const g=function(h){return h.type==="ordgroup"||h.type==="color"?h.body.length===1?g(h.body[0]):h:h.type==="font"?g(h.body):h},y=function(h){const u=g(h);return u.type==="mathord"||u.type==="textord"||u.type==="atom"},b=function(h){if(!h)throw new Error("Expected non-null, but got "+String(h));return h};var x={deflt:a,escape:m,hyphenate:l,getBaseElem:g,isCharacterBox:y,protocolFromUrl:function(h){const u=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(h);return u?u[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(u[1])?null:u[1].toLowerCase():"_relative"}};const _={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:h=>"#"+h},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(h,u)=>(u.push(h),u)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:h=>Math.max(0,h),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:h=>Math.max(0,h),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:h=>Math.max(0,h),cli:"-e, --max-expand <n>",cliProcessor:h=>h==="Infinity"?1/0:parseInt(h)},globalGroup:{type:"boolean",cli:!1}};function A(h){if(h.default)return h.default;const u=h.type,f=Array.isArray(u)?u[0]:u;if(typeof f!="string")return f.enum[0];switch(f){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class C{constructor(u){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,u=u||{};for(const f in _)if(_.hasOwnProperty(f)){const p=_[f];this[f]=u[f]!==void 0?p.processor?p.processor(u[f]):u[f]:A(p)}}reportNonstrict(u,f,p){let v=this.strict;if(typeof v=="function"&&(v=v(u,f,p)),!(!v||v==="ignore")){if(v===!0||v==="error")throw new s("LaTeX-incompatible input and strict mode is set to 'error': "+(f+" ["+u+"]"),p);v==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(f+" ["+u+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+v+"': "+f+" ["+u+"]"))}}useStrictBehavior(u,f,p){let v=this.strict;if(typeof v=="function")try{v=v(u,f,p)}catch{v="error"}return!v||v==="ignore"?!1:v===!0||v==="error"?!0:v==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(f+" ["+u+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+v+"': "+f+" ["+u+"]")),!1)}isTrusted(u){if(u.url&&!u.protocol){const p=x.protocolFromUrl(u.url);if(p==null)return!1;u.protocol=p}return!!(typeof this.trust=="function"?this.trust(u):this.trust)}}class D{constructor(u,f,p){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=u,this.size=f,this.cramped=p}sup(){return q[fe[this.id]]}sub(){return q[ge[this.id]]}fracNum(){return q[Te[this.id]]}fracDen(){return q[Ie[this.id]]}cramp(){return q[he[this.id]]}text(){return q[we[this.id]]}isTight(){return this.size>=2}}const R=0,L=1,U=2,G=3,Z=4,J=5,ne=6,le=7,q=[new D(R,0,!1),new D(L,0,!0),new D(U,1,!1),new D(G,1,!0),new D(Z,2,!1),new D(J,2,!0),new D(ne,3,!1),new D(le,3,!0)],fe=[Z,J,Z,J,ne,le,ne,le],ge=[J,J,J,J,le,le,le,le],Te=[U,G,Z,J,ne,le,ne,le],Ie=[G,G,J,J,le,le,le,le],he=[L,L,G,G,J,J,le,le],we=[R,L,U,G,U,G,U,G];var ee={DISPLAY:q[R],TEXT:q[U],SCRIPT:q[Z],SCRIPTSCRIPT:q[ne]};const Ue=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function He(h){for(let u=0;u<Ue.length;u++){const f=Ue[u];for(let p=0;p<f.blocks.length;p++){const v=f.blocks[p];if(h>=v[0]&&h<=v[1])return f.name}}return null}const bn=[];Ue.forEach(h=>h.blocks.forEach(u=>bn.push(...u)));function jn(h){for(let u=0;u<bn.length;u+=2)if(h>=bn[u]&&h<=bn[u+1])return!0;return!1}const ht=80,Br=function(h,u){return"M95,"+(622+h+u)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+h/2.075+" -"+h+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+h)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+h)+" "+u+"h400000v"+(40+h)+"h-400000z"},es=function(h,u){return"M263,"+(601+h+u)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+h/2.084+" -"+h+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+h)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+h)+" "+u+"h400000v"+(40+h)+"h-400000z"},fh=function(h,u){return"M983 "+(10+h+u)+`
l`+h/3.13+" -"+h+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+h)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+h)+" "+u+"h400000v"+(40+h)+"h-400000z"},ae=function(h,u){return"M424,"+(2398+h+u)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+h/4.223+" -"+h+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+h)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+h)+" "+u+`
h400000v`+(40+h)+"h-400000z"},ze=function(h,u){return"M473,"+(2713+h+u)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+h/5.298+" -"+h+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+h)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+h)+" "+u+"h400000v"+(40+h)+"H1017.7z"},Ke=function(h){const u=h/2;return"M400000 "+h+" H0 L"+u+" 0 l65 45 L145 "+(h-80)+" H400000z"},ce=function(h,u,f){const p=f-54-u-h;return"M702 "+(h+u)+"H400000"+(40+h)+`
H742v`+p+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+u+"H400000v"+(40+h)+"H742z"},Qn=function(h,u,f){u=1e3*u;let p="";switch(h){case"sqrtMain":p=Br(u,ht);break;case"sqrtSize1":p=es(u,ht);break;case"sqrtSize2":p=fh(u,ht);break;case"sqrtSize3":p=ae(u,ht);break;case"sqrtSize4":p=ze(u,ht);break;case"sqrtTall":p=ce(u,ht,f)}return p},ut=function(h,u){switch(h){case"":return"M291 0 H417 V"+u+" H291z M291 0 H417 V"+u+" H291z";case"":return"M145 0 H188 V"+u+" H145z M145 0 H188 V"+u+" H145z";case"":return"M145 0 H188 V"+u+" H145z M145 0 H188 V"+u+" H145z"+("M367 0 H410 V"+u+" H367z M367 0 H410 V"+u+" H367z");case"":return"M457 0 H583 V"+u+" H457z M457 0 H583 V"+u+" H457z";case"":return"M319 0 H403 V"+u+" H319z M319 0 H403 V"+u+" H319z";case"":return"M263 0 H347 V"+u+" H263z M263 0 H347 V"+u+" H263z";case"":return"M384 0 H504 V"+u+" H384z M384 0 H504 V"+u+" H384z";case"":return"M312 0 H355 V"+u+" H312z M312 0 H355 V"+u+" H312z";case"":return"M257 0 H300 V"+u+" H257z M257 0 H300 V"+u+" H257z"+("M478 0 H521 V"+u+" H478z M478 0 H521 V"+u+" H478z");default:return""}},Jn={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},lr=function(h,u){switch(h){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+u+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+u+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+u+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+u+" v1759 h84z";case"vert":return"M145 15 v585 v"+u+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-u+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+u+" v585 h43z";case"doublevert":return"M145 15 v585 v"+u+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-u+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+u+` v585 h43z
M367 15 v585 v`+u+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-u+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+u+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+u+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+u+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+u+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+u+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+u+` v602 h84z
M403 1759 V0 H319 V1759 v`+u+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+u+` v602 h84z
M347 1759 V0 h-84 V1759 v`+u+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(u+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(u+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(u+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(u+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var xn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const qo={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Px={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function wF(h,u){xn[h]=u}function ev(h,u,f){if(!xn[u])throw new Error("Font metrics not found for font: "+u+".");let p=h.charCodeAt(0),v=xn[u][p];if(!v&&h[0]in Px&&(p=Px[h[0]].charCodeAt(0),v=xn[u][p]),!v&&f==="text"&&jn(p)&&(v=xn[u][77]),v)return{depth:v[0],height:v[1],italic:v[2],skew:v[3],width:v[4]}}const tv={};function bF(h){let u;if(h>=5?u=0:h>=3?u=1:u=2,!tv[u]){const f=tv[u]={cssEmPerMu:qo.quad[u]/18};for(const p in qo)qo.hasOwnProperty(p)&&(f[p]=qo[p][u])}return tv[u]}const xF=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Ox=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Nx=function(h,u){return u.size<2?h:xF[h-1][u.size-1]};class Ns{constructor(u){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=u.style,this.color=u.color,this.size=u.size||Ns.BASESIZE,this.textSize=u.textSize||this.size,this.phantom=!!u.phantom,this.font=u.font||"",this.fontFamily=u.fontFamily||"",this.fontWeight=u.fontWeight||"",this.fontShape=u.fontShape||"",this.sizeMultiplier=Ox[this.size-1],this.maxSize=u.maxSize,this.minRuleThickness=u.minRuleThickness,this._fontMetrics=void 0}extend(u){const f={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const p in u)u.hasOwnProperty(p)&&(f[p]=u[p]);return new Ns(f)}havingStyle(u){return this.style===u?this:this.extend({style:u,size:Nx(this.textSize,u)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(u){return this.size===u&&this.textSize===u?this:this.extend({style:this.style.text(),size:u,textSize:u,sizeMultiplier:Ox[u-1]})}havingBaseStyle(u){u=u||this.style.text();const f=Nx(Ns.BASESIZE,u);return this.size===f&&this.textSize===Ns.BASESIZE&&this.style===u?this:this.extend({style:u,size:f})}havingBaseSizing(){let u;switch(this.style.id){case 4:case 5:u=3;break;case 6:case 7:u=1;break;default:u=6}return this.extend({style:this.style.text(),size:u})}withColor(u){return this.extend({color:u})}withPhantom(){return this.extend({phantom:!0})}withFont(u){return this.extend({font:u})}withTextFontFamily(u){return this.extend({fontFamily:u,font:""})}withTextFontWeight(u){return this.extend({fontWeight:u,font:""})}withTextFontShape(u){return this.extend({fontShape:u,font:""})}sizingClasses(u){return u.size!==this.size?["sizing","reset-size"+u.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ns.BASESIZE?["sizing","reset-size"+this.size,"size"+Ns.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=bF(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ns.BASESIZE=6;var kF=Ns;const nv={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},SF={ex:!0,em:!0,mu:!0},Mx=function(h){return typeof h!="string"&&(h=h.unit),h in nv||h in SF||h==="ex"},Dt=function(h,u){let f;if(h.unit in nv)f=nv[h.unit]/u.fontMetrics().ptPerEm/u.sizeMultiplier;else if(h.unit==="mu")f=u.fontMetrics().cssEmPerMu;else{let p;if(u.style.isTight()?p=u.havingStyle(u.style.text()):p=u,h.unit==="ex")f=p.fontMetrics().xHeight;else if(h.unit==="em")f=p.fontMetrics().quad;else throw new s("Invalid unit: '"+h.unit+"'");p!==u&&(f*=p.sizeMultiplier/u.sizeMultiplier)}return Math.min(h.number*f,u.maxSize)},me=function(h){return+h.toFixed(4)+"em"},Pa=function(h){return h.filter(u=>u).join(" ")},Dx=function(h,u,f){if(this.classes=h||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=f||{},u){u.style.isTight()&&this.classes.push("mtight");const p=u.getColor();p&&(this.style.color=p)}},Rx=function(h){const u=document.createElement(h);u.className=Pa(this.classes);for(const f in this.style)this.style.hasOwnProperty(f)&&(u.style[f]=this.style[f]);for(const f in this.attributes)this.attributes.hasOwnProperty(f)&&u.setAttribute(f,this.attributes[f]);for(let f=0;f<this.children.length;f++)u.appendChild(this.children[f].toNode());return u},EF=/[\s"'>/=\x00-\x1f]/,jx=function(h){let u="<"+h;this.classes.length&&(u+=' class="'+x.escape(Pa(this.classes))+'"');let f="";for(const p in this.style)this.style.hasOwnProperty(p)&&(f+=x.hyphenate(p)+":"+this.style[p]+";");f&&(u+=' style="'+x.escape(f)+'"');for(const p in this.attributes)if(this.attributes.hasOwnProperty(p)){if(EF.test(p))throw new s("Invalid attribute name '"+p+"'");u+=" "+p+'="'+x.escape(this.attributes[p])+'"'}u+=">";for(let p=0;p<this.children.length;p++)u+=this.children[p].toMarkup();return u+="</"+h+">",u};class mh{constructor(u,f,p,v){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Dx.call(this,u,p,v),this.children=f||[]}setAttribute(u,f){this.attributes[u]=f}hasClass(u){return this.classes.includes(u)}toNode(){return Rx.call(this,"span")}toMarkup(){return jx.call(this,"span")}}class rv{constructor(u,f,p,v){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Dx.call(this,f,v),this.children=p||[],this.setAttribute("href",u)}setAttribute(u,f){this.attributes[u]=f}hasClass(u){return this.classes.includes(u)}toNode(){return Rx.call(this,"a")}toMarkup(){return jx.call(this,"a")}}class _F{constructor(u,f,p){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=f,this.src=u,this.classes=["mord"],this.style=p}hasClass(u){return this.classes.includes(u)}toNode(){const u=document.createElement("img");u.src=this.src,u.alt=this.alt,u.className="mord";for(const f in this.style)this.style.hasOwnProperty(f)&&(u.style[f]=this.style[f]);return u}toMarkup(){let u='<img src="'+x.escape(this.src)+'"'+(' alt="'+x.escape(this.alt)+'"'),f="";for(const p in this.style)this.style.hasOwnProperty(p)&&(f+=x.hyphenate(p)+":"+this.style[p]+";");return f&&(u+=' style="'+x.escape(f)+'"'),u+="'/>",u}}const TF={:"",:"",:"",:""};class di{constructor(u,f,p,v,S,P,N,j){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=u,this.height=f||0,this.depth=p||0,this.italic=v||0,this.skew=S||0,this.width=P||0,this.classes=N||[],this.style=j||{},this.maxFontSize=0;const z=He(this.text.charCodeAt(0));z&&this.classes.push(z+"_fallback"),/[]/.test(this.text)&&(this.text=TF[this.text])}hasClass(u){return this.classes.includes(u)}toNode(){const u=document.createTextNode(this.text);let f=null;this.italic>0&&(f=document.createElement("span"),f.style.marginRight=me(this.italic)),this.classes.length>0&&(f=f||document.createElement("span"),f.className=Pa(this.classes));for(const p in this.style)this.style.hasOwnProperty(p)&&(f=f||document.createElement("span"),f.style[p]=this.style[p]);return f?(f.appendChild(u),f):u}toMarkup(){let u=!1,f="<span";this.classes.length&&(u=!0,f+=' class="',f+=x.escape(Pa(this.classes)),f+='"');let p="";this.italic>0&&(p+="margin-right:"+this.italic+"em;");for(const S in this.style)this.style.hasOwnProperty(S)&&(p+=x.hyphenate(S)+":"+this.style[S]+";");p&&(u=!0,f+=' style="'+x.escape(p)+'"');const v=x.escape(this.text);return u?(f+=">",f+=v,f+="</span>",f):v}}class Ms{constructor(u,f){this.children=void 0,this.attributes=void 0,this.children=u||[],this.attributes=f||{}}toNode(){const f=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&f.setAttribute(p,this.attributes[p]);for(let p=0;p<this.children.length;p++)f.appendChild(this.children[p].toNode());return f}toMarkup(){let u='<svg xmlns="http://www.w3.org/2000/svg"';for(const f in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,f)&&(u+=" "+f+'="'+x.escape(this.attributes[f])+'"');u+=">";for(let f=0;f<this.children.length;f++)u+=this.children[f].toMarkup();return u+="</svg>",u}}class Oa{constructor(u,f){this.pathName=void 0,this.alternate=void 0,this.pathName=u,this.alternate=f}toNode(){const f=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?f.setAttribute("d",this.alternate):f.setAttribute("d",Jn[this.pathName]),f}toMarkup(){return this.alternate?'<path d="'+x.escape(this.alternate)+'"/>':'<path d="'+x.escape(Jn[this.pathName])+'"/>'}}class iv{constructor(u){this.attributes=void 0,this.attributes=u||{}}toNode(){const f=document.createElementNS("http://www.w3.org/2000/svg","line");for(const p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&f.setAttribute(p,this.attributes[p]);return f}toMarkup(){let u="<line";for(const f in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,f)&&(u+=" "+f+'="'+x.escape(this.attributes[f])+'"');return u+="/>",u}}function Lx(h){if(h instanceof di)return h;throw new Error("Expected symbolNode but got "+String(h)+".")}function IF(h){if(h instanceof mh)return h;throw new Error("Expected span<HtmlDomNode> but got "+String(h)+".")}const AF={bin:1,close:1,inner:1,open:1,punct:1,rel:1},CF={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Sf={math:{},text:{}};var Rt=Sf;function w(h,u,f,p,v,S){Sf[h][v]={font:u,group:f,replace:p},S&&p&&(Sf[h][p]=Sf[h][v])}const E="math",ie="text",O="main",$="ams",At="accent-token",xe="bin",ur="close",du="inner",Ne="mathord",tn="op-token",Ur="open",Ef="punct",F="rel",Ds="spacing",B="textord";w(E,O,F,"","\\equiv",!0),w(E,O,F,"","\\prec",!0),w(E,O,F,"","\\succ",!0),w(E,O,F,"","\\sim",!0),w(E,O,F,"","\\perp"),w(E,O,F,"","\\preceq",!0),w(E,O,F,"","\\succeq",!0),w(E,O,F,"","\\simeq",!0),w(E,O,F,"","\\mid",!0),w(E,O,F,"","\\ll",!0),w(E,O,F,"","\\gg",!0),w(E,O,F,"","\\asymp",!0),w(E,O,F,"","\\parallel"),w(E,O,F,"","\\bowtie",!0),w(E,O,F,"","\\smile",!0),w(E,O,F,"","\\sqsubseteq",!0),w(E,O,F,"","\\sqsupseteq",!0),w(E,O,F,"","\\doteq",!0),w(E,O,F,"","\\frown",!0),w(E,O,F,"","\\ni",!0),w(E,O,F,"","\\propto",!0),w(E,O,F,"","\\vdash",!0),w(E,O,F,"","\\dashv",!0),w(E,O,F,"","\\owns"),w(E,O,Ef,".","\\ldotp"),w(E,O,Ef,"","\\cdotp"),w(E,O,B,"#","\\#"),w(ie,O,B,"#","\\#"),w(E,O,B,"&","\\&"),w(ie,O,B,"&","\\&"),w(E,O,B,"","\\aleph",!0),w(E,O,B,"","\\forall",!0),w(E,O,B,"","\\hbar",!0),w(E,O,B,"","\\exists",!0),w(E,O,B,"","\\nabla",!0),w(E,O,B,"","\\flat",!0),w(E,O,B,"","\\ell",!0),w(E,O,B,"","\\natural",!0),w(E,O,B,"","\\clubsuit",!0),w(E,O,B,"","\\wp",!0),w(E,O,B,"","\\sharp",!0),w(E,O,B,"","\\diamondsuit",!0),w(E,O,B,"","\\Re",!0),w(E,O,B,"","\\heartsuit",!0),w(E,O,B,"","\\Im",!0),w(E,O,B,"","\\spadesuit",!0),w(E,O,B,"","\\S",!0),w(ie,O,B,"","\\S"),w(E,O,B,"","\\P",!0),w(ie,O,B,"","\\P"),w(E,O,B,"","\\dag"),w(ie,O,B,"","\\dag"),w(ie,O,B,"","\\textdagger"),w(E,O,B,"","\\ddag"),w(ie,O,B,"","\\ddag"),w(ie,O,B,"","\\textdaggerdbl"),w(E,O,ur,"","\\rmoustache",!0),w(E,O,Ur,"","\\lmoustache",!0),w(E,O,ur,"","\\rgroup",!0),w(E,O,Ur,"","\\lgroup",!0),w(E,O,xe,"","\\mp",!0),w(E,O,xe,"","\\ominus",!0),w(E,O,xe,"","\\uplus",!0),w(E,O,xe,"","\\sqcap",!0),w(E,O,xe,"","\\ast"),w(E,O,xe,"","\\sqcup",!0),w(E,O,xe,"","\\bigcirc",!0),w(E,O,xe,"","\\bullet",!0),w(E,O,xe,"","\\ddagger"),w(E,O,xe,"","\\wr",!0),w(E,O,xe,"","\\amalg"),w(E,O,xe,"&","\\And"),w(E,O,F,"","\\longleftarrow",!0),w(E,O,F,"","\\Leftarrow",!0),w(E,O,F,"","\\Longleftarrow",!0),w(E,O,F,"","\\longrightarrow",!0),w(E,O,F,"","\\Rightarrow",!0),w(E,O,F,"","\\Longrightarrow",!0),w(E,O,F,"","\\leftrightarrow",!0),w(E,O,F,"","\\longleftrightarrow",!0),w(E,O,F,"","\\Leftrightarrow",!0),w(E,O,F,"","\\Longleftrightarrow",!0),w(E,O,F,"","\\mapsto",!0),w(E,O,F,"","\\longmapsto",!0),w(E,O,F,"","\\nearrow",!0),w(E,O,F,"","\\hookleftarrow",!0),w(E,O,F,"","\\hookrightarrow",!0),w(E,O,F,"","\\searrow",!0),w(E,O,F,"","\\leftharpoonup",!0),w(E,O,F,"","\\rightharpoonup",!0),w(E,O,F,"","\\swarrow",!0),w(E,O,F,"","\\leftharpoondown",!0),w(E,O,F,"","\\rightharpoondown",!0),w(E,O,F,"","\\nwarrow",!0),w(E,O,F,"","\\rightleftharpoons",!0),w(E,$,F,"","\\nless",!0),w(E,$,F,"","\\@nleqslant"),w(E,$,F,"","\\@nleqq"),w(E,$,F,"","\\lneq",!0),w(E,$,F,"","\\lneqq",!0),w(E,$,F,"","\\@lvertneqq"),w(E,$,F,"","\\lnsim",!0),w(E,$,F,"","\\lnapprox",!0),w(E,$,F,"","\\nprec",!0),w(E,$,F,"","\\npreceq",!0),w(E,$,F,"","\\precnsim",!0),w(E,$,F,"","\\precnapprox",!0),w(E,$,F,"","\\nsim",!0),w(E,$,F,"","\\@nshortmid"),w(E,$,F,"","\\nmid",!0),w(E,$,F,"","\\nvdash",!0),w(E,$,F,"","\\nvDash",!0),w(E,$,F,"","\\ntriangleleft"),w(E,$,F,"","\\ntrianglelefteq",!0),w(E,$,F,"","\\subsetneq",!0),w(E,$,F,"","\\@varsubsetneq"),w(E,$,F,"","\\subsetneqq",!0),w(E,$,F,"","\\@varsubsetneqq"),w(E,$,F,"","\\ngtr",!0),w(E,$,F,"","\\@ngeqslant"),w(E,$,F,"","\\@ngeqq"),w(E,$,F,"","\\gneq",!0),w(E,$,F,"","\\gneqq",!0),w(E,$,F,"","\\@gvertneqq"),w(E,$,F,"","\\gnsim",!0),w(E,$,F,"","\\gnapprox",!0),w(E,$,F,"","\\nsucc",!0),w(E,$,F,"","\\nsucceq",!0),w(E,$,F,"","\\succnsim",!0),w(E,$,F,"","\\succnapprox",!0),w(E,$,F,"","\\ncong",!0),w(E,$,F,"","\\@nshortparallel"),w(E,$,F,"","\\nparallel",!0),w(E,$,F,"","\\nVDash",!0),w(E,$,F,"","\\ntriangleright"),w(E,$,F,"","\\ntrianglerighteq",!0),w(E,$,F,"","\\@nsupseteqq"),w(E,$,F,"","\\supsetneq",!0),w(E,$,F,"","\\@varsupsetneq"),w(E,$,F,"","\\supsetneqq",!0),w(E,$,F,"","\\@varsupsetneqq"),w(E,$,F,"","\\nVdash",!0),w(E,$,F,"","\\precneqq",!0),w(E,$,F,"","\\succneqq",!0),w(E,$,F,"","\\@nsubseteqq"),w(E,$,xe,"","\\unlhd"),w(E,$,xe,"","\\unrhd"),w(E,$,F,"","\\nleftarrow",!0),w(E,$,F,"","\\nrightarrow",!0),w(E,$,F,"","\\nLeftarrow",!0),w(E,$,F,"","\\nRightarrow",!0),w(E,$,F,"","\\nleftrightarrow",!0),w(E,$,F,"","\\nLeftrightarrow",!0),w(E,$,F,"","\\vartriangle"),w(E,$,B,"","\\hslash"),w(E,$,B,"","\\triangledown"),w(E,$,B,"","\\lozenge"),w(E,$,B,"","\\circledS"),w(E,$,B,"","\\circledR"),w(ie,$,B,"","\\circledR"),w(E,$,B,"","\\measuredangle",!0),w(E,$,B,"","\\nexists"),w(E,$,B,"","\\mho"),w(E,$,B,"","\\Finv",!0),w(E,$,B,"","\\Game",!0),w(E,$,B,"","\\backprime"),w(E,$,B,"","\\blacktriangle"),w(E,$,B,"","\\blacktriangledown"),w(E,$,B,"","\\blacksquare"),w(E,$,B,"","\\blacklozenge"),w(E,$,B,"","\\bigstar"),w(E,$,B,"","\\sphericalangle",!0),w(E,$,B,"","\\complement",!0),w(E,$,B,"","\\eth",!0),w(ie,O,B,"",""),w(E,$,B,"","\\diagup"),w(E,$,B,"","\\diagdown"),w(E,$,B,"","\\square"),w(E,$,B,"","\\Box"),w(E,$,B,"","\\Diamond"),w(E,$,B,"","\\yen",!0),w(ie,$,B,"","\\yen",!0),w(E,$,B,"","\\checkmark",!0),w(ie,$,B,"","\\checkmark"),w(E,$,B,"","\\beth",!0),w(E,$,B,"","\\daleth",!0),w(E,$,B,"","\\gimel",!0),w(E,$,B,"","\\digamma",!0),w(E,$,B,"","\\varkappa"),w(E,$,Ur,"","\\@ulcorner",!0),w(E,$,ur,"","\\@urcorner",!0),w(E,$,Ur,"","\\@llcorner",!0),w(E,$,ur,"","\\@lrcorner",!0),w(E,$,F,"","\\leqq",!0),w(E,$,F,"","\\leqslant",!0),w(E,$,F,"","\\eqslantless",!0),w(E,$,F,"","\\lesssim",!0),w(E,$,F,"","\\lessapprox",!0),w(E,$,F,"","\\approxeq",!0),w(E,$,xe,"","\\lessdot"),w(E,$,F,"","\\lll",!0),w(E,$,F,"","\\lessgtr",!0),w(E,$,F,"","\\lesseqgtr",!0),w(E,$,F,"","\\lesseqqgtr",!0),w(E,$,F,"","\\doteqdot"),w(E,$,F,"","\\risingdotseq",!0),w(E,$,F,"","\\fallingdotseq",!0),w(E,$,F,"","\\backsim",!0),w(E,$,F,"","\\backsimeq",!0),w(E,$,F,"","\\subseteqq",!0),w(E,$,F,"","\\Subset",!0),w(E,$,F,"","\\sqsubset",!0),w(E,$,F,"","\\preccurlyeq",!0),w(E,$,F,"","\\curlyeqprec",!0),w(E,$,F,"","\\precsim",!0),w(E,$,F,"","\\precapprox",!0),w(E,$,F,"","\\vartriangleleft"),w(E,$,F,"","\\trianglelefteq"),w(E,$,F,"","\\vDash",!0),w(E,$,F,"","\\Vvdash",!0),w(E,$,F,"","\\smallsmile"),w(E,$,F,"","\\smallfrown"),w(E,$,F,"","\\bumpeq",!0),w(E,$,F,"","\\Bumpeq",!0),w(E,$,F,"","\\geqq",!0),w(E,$,F,"","\\geqslant",!0),w(E,$,F,"","\\eqslantgtr",!0),w(E,$,F,"","\\gtrsim",!0),w(E,$,F,"","\\gtrapprox",!0),w(E,$,xe,"","\\gtrdot"),w(E,$,F,"","\\ggg",!0),w(E,$,F,"","\\gtrless",!0),w(E,$,F,"","\\gtreqless",!0),w(E,$,F,"","\\gtreqqless",!0),w(E,$,F,"","\\eqcirc",!0),w(E,$,F,"","\\circeq",!0),w(E,$,F,"","\\triangleq",!0),w(E,$,F,"","\\thicksim"),w(E,$,F,"","\\thickapprox"),w(E,$,F,"","\\supseteqq",!0),w(E,$,F,"","\\Supset",!0),w(E,$,F,"","\\sqsupset",!0),w(E,$,F,"","\\succcurlyeq",!0),w(E,$,F,"","\\curlyeqsucc",!0),w(E,$,F,"","\\succsim",!0),w(E,$,F,"","\\succapprox",!0),w(E,$,F,"","\\vartriangleright"),w(E,$,F,"","\\trianglerighteq"),w(E,$,F,"","\\Vdash",!0),w(E,$,F,"","\\shortmid"),w(E,$,F,"","\\shortparallel"),w(E,$,F,"","\\between",!0),w(E,$,F,"","\\pitchfork",!0),w(E,$,F,"","\\varpropto"),w(E,$,F,"","\\blacktriangleleft"),w(E,$,F,"","\\therefore",!0),w(E,$,F,"","\\backepsilon"),w(E,$,F,"","\\blacktriangleright"),w(E,$,F,"","\\because",!0),w(E,$,F,"","\\llless"),w(E,$,F,"","\\gggtr"),w(E,$,xe,"","\\lhd"),w(E,$,xe,"","\\rhd"),w(E,$,F,"","\\eqsim",!0),w(E,O,F,"","\\Join"),w(E,$,F,"","\\Doteq",!0),w(E,$,xe,"","\\dotplus",!0),w(E,$,xe,"","\\smallsetminus"),w(E,$,xe,"","\\Cap",!0),w(E,$,xe,"","\\Cup",!0),w(E,$,xe,"","\\doublebarwedge",!0),w(E,$,xe,"","\\boxminus",!0),w(E,$,xe,"","\\boxplus",!0),w(E,$,xe,"","\\divideontimes",!0),w(E,$,xe,"","\\ltimes",!0),w(E,$,xe,"","\\rtimes",!0),w(E,$,xe,"","\\leftthreetimes",!0),w(E,$,xe,"","\\rightthreetimes",!0),w(E,$,xe,"","\\curlywedge",!0),w(E,$,xe,"","\\curlyvee",!0),w(E,$,xe,"","\\circleddash",!0),w(E,$,xe,"","\\circledast",!0),w(E,$,xe,"","\\centerdot"),w(E,$,xe,"","\\intercal",!0),w(E,$,xe,"","\\doublecap"),w(E,$,xe,"","\\doublecup"),w(E,$,xe,"","\\boxtimes",!0),w(E,$,F,"","\\dashrightarrow",!0),w(E,$,F,"","\\dashleftarrow",!0),w(E,$,F,"","\\leftleftarrows",!0),w(E,$,F,"","\\leftrightarrows",!0),w(E,$,F,"","\\Lleftarrow",!0),w(E,$,F,"","\\twoheadleftarrow",!0),w(E,$,F,"","\\leftarrowtail",!0),w(E,$,F,"","\\looparrowleft",!0),w(E,$,F,"","\\leftrightharpoons",!0),w(E,$,F,"","\\curvearrowleft",!0),w(E,$,F,"","\\circlearrowleft",!0),w(E,$,F,"","\\Lsh",!0),w(E,$,F,"","\\upuparrows",!0),w(E,$,F,"","\\upharpoonleft",!0),w(E,$,F,"","\\downharpoonleft",!0),w(E,O,F,"","\\origof",!0),w(E,O,F,"","\\imageof",!0),w(E,$,F,"","\\multimap",!0),w(E,$,F,"","\\leftrightsquigarrow",!0),w(E,$,F,"","\\rightrightarrows",!0),w(E,$,F,"","\\rightleftarrows",!0),w(E,$,F,"","\\twoheadrightarrow",!0),w(E,$,F,"","\\rightarrowtail",!0),w(E,$,F,"","\\looparrowright",!0),w(E,$,F,"","\\curvearrowright",!0),w(E,$,F,"","\\circlearrowright",!0),w(E,$,F,"","\\Rsh",!0),w(E,$,F,"","\\downdownarrows",!0),w(E,$,F,"","\\upharpoonright",!0),w(E,$,F,"","\\downharpoonright",!0),w(E,$,F,"","\\rightsquigarrow",!0),w(E,$,F,"","\\leadsto"),w(E,$,F,"","\\Rrightarrow",!0),w(E,$,F,"","\\restriction"),w(E,O,B,"","`"),w(E,O,B,"$","\\$"),w(ie,O,B,"$","\\$"),w(ie,O,B,"$","\\textdollar"),w(E,O,B,"%","\\%"),w(ie,O,B,"%","\\%"),w(E,O,B,"_","\\_"),w(ie,O,B,"_","\\_"),w(ie,O,B,"_","\\textunderscore"),w(E,O,B,"","\\angle",!0),w(E,O,B,"","\\infty",!0),w(E,O,B,"","\\prime"),w(E,O,B,"","\\triangle"),w(E,O,B,"","\\Gamma",!0),w(E,O,B,"","\\Delta",!0),w(E,O,B,"","\\Theta",!0),w(E,O,B,"","\\Lambda",!0),w(E,O,B,"","\\Xi",!0),w(E,O,B,"","\\Pi",!0),w(E,O,B,"","\\Sigma",!0),w(E,O,B,"","\\Upsilon",!0),w(E,O,B,"","\\Phi",!0),w(E,O,B,"","\\Psi",!0),w(E,O,B,"","\\Omega",!0),w(E,O,B,"A",""),w(E,O,B,"B",""),w(E,O,B,"E",""),w(E,O,B,"Z",""),w(E,O,B,"H",""),w(E,O,B,"I",""),w(E,O,B,"K",""),w(E,O,B,"M",""),w(E,O,B,"N",""),w(E,O,B,"O",""),w(E,O,B,"P",""),w(E,O,B,"T",""),w(E,O,B,"X",""),w(E,O,B,"","\\neg",!0),w(E,O,B,"","\\lnot"),w(E,O,B,"","\\top"),w(E,O,B,"","\\bot"),w(E,O,B,"","\\emptyset"),w(E,$,B,"","\\varnothing"),w(E,O,Ne,"","\\alpha",!0),w(E,O,Ne,"","\\beta",!0),w(E,O,Ne,"","\\gamma",!0),w(E,O,Ne,"","\\delta",!0),w(E,O,Ne,"","\\epsilon",!0),w(E,O,Ne,"","\\zeta",!0),w(E,O,Ne,"","\\eta",!0),w(E,O,Ne,"","\\theta",!0),w(E,O,Ne,"","\\iota",!0),w(E,O,Ne,"","\\kappa",!0),w(E,O,Ne,"","\\lambda",!0),w(E,O,Ne,"","\\mu",!0),w(E,O,Ne,"","\\nu",!0),w(E,O,Ne,"","\\xi",!0),w(E,O,Ne,"","\\omicron",!0),w(E,O,Ne,"","\\pi",!0),w(E,O,Ne,"","\\rho",!0),w(E,O,Ne,"","\\sigma",!0),w(E,O,Ne,"","\\tau",!0),w(E,O,Ne,"","\\upsilon",!0),w(E,O,Ne,"","\\phi",!0),w(E,O,Ne,"","\\chi",!0),w(E,O,Ne,"","\\psi",!0),w(E,O,Ne,"","\\omega",!0),w(E,O,Ne,"","\\varepsilon",!0),w(E,O,Ne,"","\\vartheta",!0),w(E,O,Ne,"","\\varpi",!0),w(E,O,Ne,"","\\varrho",!0),w(E,O,Ne,"","\\varsigma",!0),w(E,O,Ne,"","\\varphi",!0),w(E,O,xe,"","*",!0),w(E,O,xe,"+","+"),w(E,O,xe,"","-",!0),w(E,O,xe,"","\\cdot",!0),w(E,O,xe,"","\\circ",!0),w(E,O,xe,"","\\div",!0),w(E,O,xe,"","\\pm",!0),w(E,O,xe,"","\\times",!0),w(E,O,xe,"","\\cap",!0),w(E,O,xe,"","\\cup",!0),w(E,O,xe,"","\\setminus",!0),w(E,O,xe,"","\\land"),w(E,O,xe,"","\\lor"),w(E,O,xe,"","\\wedge",!0),w(E,O,xe,"","\\vee",!0),w(E,O,B,"","\\surd"),w(E,O,Ur,"","\\langle",!0),w(E,O,Ur,"","\\lvert"),w(E,O,Ur,"","\\lVert"),w(E,O,ur,"?","?"),w(E,O,ur,"!","!"),w(E,O,ur,"","\\rangle",!0),w(E,O,ur,"","\\rvert"),w(E,O,ur,"","\\rVert"),w(E,O,F,"=","="),w(E,O,F,":",":"),w(E,O,F,"","\\approx",!0),w(E,O,F,"","\\cong",!0),w(E,O,F,"","\\ge"),w(E,O,F,"","\\geq",!0),w(E,O,F,"","\\gets"),w(E,O,F,">","\\gt",!0),w(E,O,F,"","\\in",!0),w(E,O,F,"","\\@not"),w(E,O,F,"","\\subset",!0),w(E,O,F,"","\\supset",!0),w(E,O,F,"","\\subseteq",!0),w(E,O,F,"","\\supseteq",!0),w(E,$,F,"","\\nsubseteq",!0),w(E,$,F,"","\\nsupseteq",!0),w(E,O,F,"","\\models"),w(E,O,F,"","\\leftarrow",!0),w(E,O,F,"","\\le"),w(E,O,F,"","\\leq",!0),w(E,O,F,"<","\\lt",!0),w(E,O,F,"","\\rightarrow",!0),w(E,O,F,"","\\to"),w(E,$,F,"","\\ngeq",!0),w(E,$,F,"","\\nleq",!0),w(E,O,Ds,"","\\ "),w(E,O,Ds,"","\\space"),w(E,O,Ds,"","\\nobreakspace"),w(ie,O,Ds,"","\\ "),w(ie,O,Ds,""," "),w(ie,O,Ds,"","\\space"),w(ie,O,Ds,"","\\nobreakspace"),w(E,O,Ds,null,"\\nobreak"),w(E,O,Ds,null,"\\allowbreak"),w(E,O,Ef,",",","),w(E,O,Ef,";",";"),w(E,$,xe,"","\\barwedge",!0),w(E,$,xe,"","\\veebar",!0),w(E,O,xe,"","\\odot",!0),w(E,O,xe,"","\\oplus",!0),w(E,O,xe,"","\\otimes",!0),w(E,O,B,"","\\partial",!0),w(E,O,xe,"","\\oslash",!0),w(E,$,xe,"","\\circledcirc",!0),w(E,$,xe,"","\\boxdot",!0),w(E,O,xe,"","\\bigtriangleup"),w(E,O,xe,"","\\bigtriangledown"),w(E,O,xe,"","\\dagger"),w(E,O,xe,"","\\diamond"),w(E,O,xe,"","\\star"),w(E,O,xe,"","\\triangleleft"),w(E,O,xe,"","\\triangleright"),w(E,O,Ur,"{","\\{"),w(ie,O,B,"{","\\{"),w(ie,O,B,"{","\\textbraceleft"),w(E,O,ur,"}","\\}"),w(ie,O,B,"}","\\}"),w(ie,O,B,"}","\\textbraceright"),w(E,O,Ur,"{","\\lbrace"),w(E,O,ur,"}","\\rbrace"),w(E,O,Ur,"[","\\lbrack",!0),w(ie,O,B,"[","\\lbrack",!0),w(E,O,ur,"]","\\rbrack",!0),w(ie,O,B,"]","\\rbrack",!0),w(E,O,Ur,"(","\\lparen",!0),w(E,O,ur,")","\\rparen",!0),w(ie,O,B,"<","\\textless",!0),w(ie,O,B,">","\\textgreater",!0),w(E,O,Ur,"","\\lfloor",!0),w(E,O,ur,"","\\rfloor",!0),w(E,O,Ur,"","\\lceil",!0),w(E,O,ur,"","\\rceil",!0),w(E,O,B,"\\","\\backslash"),w(E,O,B,"","|"),w(E,O,B,"","\\vert"),w(ie,O,B,"|","\\textbar",!0),w(E,O,B,"","\\|"),w(E,O,B,"","\\Vert"),w(ie,O,B,"","\\textbardbl"),w(ie,O,B,"~","\\textasciitilde"),w(ie,O,B,"\\","\\textbackslash"),w(ie,O,B,"^","\\textasciicircum"),w(E,O,F,"","\\uparrow",!0),w(E,O,F,"","\\Uparrow",!0),w(E,O,F,"","\\downarrow",!0),w(E,O,F,"","\\Downarrow",!0),w(E,O,F,"","\\updownarrow",!0),w(E,O,F,"","\\Updownarrow",!0),w(E,O,tn,"","\\coprod"),w(E,O,tn,"","\\bigvee"),w(E,O,tn,"","\\bigwedge"),w(E,O,tn,"","\\biguplus"),w(E,O,tn,"","\\bigcap"),w(E,O,tn,"","\\bigcup"),w(E,O,tn,"","\\int"),w(E,O,tn,"","\\intop"),w(E,O,tn,"","\\iint"),w(E,O,tn,"","\\iiint"),w(E,O,tn,"","\\prod"),w(E,O,tn,"","\\sum"),w(E,O,tn,"","\\bigotimes"),w(E,O,tn,"","\\bigoplus"),w(E,O,tn,"","\\bigodot"),w(E,O,tn,"","\\oint"),w(E,O,tn,"","\\oiint"),w(E,O,tn,"","\\oiiint"),w(E,O,tn,"","\\bigsqcup"),w(E,O,tn,"","\\smallint"),w(ie,O,du,"","\\textellipsis"),w(E,O,du,"","\\mathellipsis"),w(ie,O,du,"","\\ldots",!0),w(E,O,du,"","\\ldots",!0),w(E,O,du,"","\\@cdots",!0),w(E,O,du,"","\\ddots",!0),w(E,O,B,"","\\varvdots"),w(ie,O,B,"","\\varvdots"),w(E,O,At,"","\\acute"),w(E,O,At,"","\\grave"),w(E,O,At,"","\\ddot"),w(E,O,At,"~","\\tilde"),w(E,O,At,"","\\bar"),w(E,O,At,"","\\breve"),w(E,O,At,"","\\check"),w(E,O,At,"^","\\hat"),w(E,O,At,"","\\vec"),w(E,O,At,"","\\dot"),w(E,O,At,"","\\mathring"),w(E,O,Ne,"","\\@imath"),w(E,O,Ne,"","\\@jmath"),w(E,O,B,"",""),w(E,O,B,"",""),w(ie,O,B,"","\\i",!0),w(ie,O,B,"","\\j",!0),w(ie,O,B,"","\\ss",!0),w(ie,O,B,"","\\ae",!0),w(ie,O,B,"","\\oe",!0),w(ie,O,B,"","\\o",!0),w(ie,O,B,"","\\AE",!0),w(ie,O,B,"","\\OE",!0),w(ie,O,B,"","\\O",!0),w(ie,O,At,"","\\'"),w(ie,O,At,"","\\`"),w(ie,O,At,"","\\^"),w(ie,O,At,"","\\~"),w(ie,O,At,"","\\="),w(ie,O,At,"","\\u"),w(ie,O,At,"","\\."),w(ie,O,At,"","\\c"),w(ie,O,At,"","\\r"),w(ie,O,At,"","\\v"),w(ie,O,At,"",'\\"'),w(ie,O,At,"","\\H"),w(ie,O,At,"","\\textcircled");const $x={"--":!0,"---":!0,"``":!0,"''":!0};w(ie,O,B,"","--",!0),w(ie,O,B,"","\\textendash"),w(ie,O,B,"","---",!0),w(ie,O,B,"","\\textemdash"),w(ie,O,B,"","`",!0),w(ie,O,B,"","\\textquoteleft"),w(ie,O,B,"","'",!0),w(ie,O,B,"","\\textquoteright"),w(ie,O,B,"","``",!0),w(ie,O,B,"","\\textquotedblleft"),w(ie,O,B,"","''",!0),w(ie,O,B,"","\\textquotedblright"),w(E,O,B,"","\\degree",!0),w(ie,O,B,"","\\degree"),w(ie,O,B,"","\\textdegree",!0),w(E,O,B,"","\\pounds"),w(E,O,B,"","\\mathsterling",!0),w(ie,O,B,"","\\pounds"),w(ie,O,B,"","\\textsterling",!0),w(E,$,B,"","\\maltese"),w(ie,$,B,"","\\maltese");const Fx='0123456789/@."';for(let h=0;h<Fx.length;h++){const u=Fx.charAt(h);w(E,O,B,u,u)}const zx='0123456789!@*()-=+";:?/.,';for(let h=0;h<zx.length;h++){const u=zx.charAt(h);w(ie,O,B,u,u)}const _f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let h=0;h<_f.length;h++){const u=_f.charAt(h);w(E,O,Ne,u,u),w(ie,O,B,u,u)}w(E,$,B,"C",""),w(ie,$,B,"C",""),w(E,$,B,"H",""),w(ie,$,B,"H",""),w(E,$,B,"N",""),w(ie,$,B,"N",""),w(E,$,B,"P",""),w(ie,$,B,"P",""),w(E,$,B,"Q",""),w(ie,$,B,"Q",""),w(E,$,B,"R",""),w(ie,$,B,"R",""),w(E,$,B,"Z",""),w(ie,$,B,"Z",""),w(E,O,Ne,"h",""),w(ie,O,Ne,"h","");let Re="";for(let h=0;h<_f.length;h++){const u=_f.charAt(h);Re=String.fromCharCode(55349,56320+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,56372+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,56424+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,56580+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,56684+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,56736+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,56788+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,56840+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,56944+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),h<26&&(Re=String.fromCharCode(55349,56632+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,56476+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re))}Re="",w(E,O,Ne,"k",Re),w(ie,O,B,"k",Re);for(let h=0;h<10;h++){const u=h.toString();Re=String.fromCharCode(55349,57294+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,57314+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,57324+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re),Re=String.fromCharCode(55349,57334+h),w(E,O,Ne,u,Re),w(ie,O,B,u,Re)}const sv="";for(let h=0;h<sv.length;h++){const u=sv.charAt(h);w(E,O,Ne,u,u),w(ie,O,B,u,u)}const Tf=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Bx=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],PF=function(h,u){const f=h.charCodeAt(0),p=h.charCodeAt(1),v=(f-55296)*1024+(p-56320)+65536,S=u==="math"?0:1;if(119808<=v&&v<120484){const P=Math.floor((v-119808)/26);return[Tf[P][2],Tf[P][S]]}else if(120782<=v&&v<=120831){const P=Math.floor((v-120782)/10);return[Bx[P][2],Bx[P][S]]}else{if(v===120485||v===120486)return[Tf[0][2],Tf[0][S]];if(120486<v&&v<120782)return["",""];throw new s("Unsupported character: "+h)}};class ph{constructor(u){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=u,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(u){return this.classes.includes(u)}toNode(){const u=document.createDocumentFragment();for(let f=0;f<this.children.length;f++)u.appendChild(this.children[f].toNode());return u}toMarkup(){let u="";for(let f=0;f<this.children.length;f++)u+=this.children[f].toMarkup();return u}toText(){const u=f=>f.toText();return this.children.map(u).join("")}}const If=function(h,u,f){return Rt[f][h]&&Rt[f][h].replace&&(h=Rt[f][h].replace),{value:h,metrics:ev(h,u,f)}},Li=function(h,u,f,p,v){const S=If(h,u,f),P=S.metrics;h=S.value;let N;if(P){let j=P.italic;(f==="text"||p&&p.font==="mathit")&&(j=0),N=new di(h,P.height,P.depth,j,P.skew,P.width,v)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+h+"' in style '"+u+"' and mode '"+f+"'")),N=new di(h,0,0,0,0,0,v);if(p){N.maxFontSize=p.sizeMultiplier,p.style.isTight()&&N.classes.push("mtight");const j=p.getColor();j&&(N.style.color=j)}return N},OF=function(h,u,f,p){return p===void 0&&(p=[]),f.font==="boldsymbol"&&If(h,"Main-Bold",u).metrics?Li(h,"Main-Bold",u,f,p.concat(["mathbf"])):h==="\\"||Rt[u][h].font==="main"?Li(h,"Main-Regular",u,f,p):Li(h,"AMS-Regular",u,f,p.concat(["amsrm"]))},NF=function(h,u,f,p,v){return v!=="textord"&&If(h,"Math-BoldItalic",u).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},MF=function(h,u,f){const p=h.mode,v=h.text,S=["mord"],P=p==="math"||p==="text"&&u.font,N=P?u.font:u.fontFamily;let j="",z="";if(v.charCodeAt(0)===55349&&([j,z]=PF(v,p)),j.length>0)return Li(v,j,p,u,S.concat(z));if(N){let V,H;if(N==="boldsymbol"){const Y=NF(v,p,u,S,f);V=Y.fontName,H=[Y.fontClass]}else P?(V=qx[N].fontName,H=[N]):(V=Af(N,u.fontWeight,u.fontShape),H=[N,u.fontWeight,u.fontShape]);if(If(v,V,p).metrics)return Li(v,V,p,u,S.concat(H));if($x.hasOwnProperty(v)&&V.slice(0,10)==="Typewriter"){const Y=[];for(let re=0;re<v.length;re++)Y.push(Li(v[re],V,p,u,S.concat(H)));return Vx(Y)}}if(f==="mathord")return Li(v,"Math-Italic",p,u,S.concat(["mathnormal"]));if(f==="textord"){const V=Rt[p][v]&&Rt[p][v].font;if(V==="ams"){const H=Af("amsrm",u.fontWeight,u.fontShape);return Li(v,H,p,u,S.concat("amsrm",u.fontWeight,u.fontShape))}else if(V==="main"||!V){const H=Af("textrm",u.fontWeight,u.fontShape);return Li(v,H,p,u,S.concat(u.fontWeight,u.fontShape))}else{const H=Af(V,u.fontWeight,u.fontShape);return Li(v,H,p,u,S.concat(H,u.fontWeight,u.fontShape))}}else throw new Error("unexpected type: "+f+" in makeOrd")},DF=(h,u)=>{if(Pa(h.classes)!==Pa(u.classes)||h.skew!==u.skew||h.maxFontSize!==u.maxFontSize)return!1;if(h.classes.length===1){const f=h.classes[0];if(f==="mbin"||f==="mord")return!1}for(const f in h.style)if(h.style.hasOwnProperty(f)&&h.style[f]!==u.style[f])return!1;for(const f in u.style)if(u.style.hasOwnProperty(f)&&h.style[f]!==u.style[f])return!1;return!0},RF=h=>{for(let u=0;u<h.length-1;u++){const f=h[u],p=h[u+1];f instanceof di&&p instanceof di&&DF(f,p)&&(f.text+=p.text,f.height=Math.max(f.height,p.height),f.depth=Math.max(f.depth,p.depth),f.italic=p.italic,h.splice(u+1,1),u--)}return h},av=function(h){let u=0,f=0,p=0;for(let v=0;v<h.children.length;v++){const S=h.children[v];S.height>u&&(u=S.height),S.depth>f&&(f=S.depth),S.maxFontSize>p&&(p=S.maxFontSize)}h.height=u,h.depth=f,h.maxFontSize=p},Er=function(h,u,f,p){const v=new mh(h,u,f,p);return av(v),v},Ux=(h,u,f,p)=>new mh(h,u,f,p),jF=function(h,u,f){const p=Er([h],[],u);return p.height=Math.max(f||u.fontMetrics().defaultRuleThickness,u.minRuleThickness),p.style.borderBottomWidth=me(p.height),p.maxFontSize=1,p},LF=function(h,u,f,p){const v=new rv(h,u,f,p);return av(v),v},Vx=function(h){const u=new ph(h);return av(u),u},$F=function(h,u){return h instanceof ph?Er([],[h],u):h},FF=function(h){if(h.positionType==="individualShift"){const f=h.children,p=[f[0]],v=-f[0].shift-f[0].elem.depth;let S=v;for(let P=1;P<f.length;P++){const N=-f[P].shift-S-f[P].elem.depth,j=N-(f[P-1].elem.height+f[P-1].elem.depth);S=S+N,p.push({type:"kern",size:j}),p.push(f[P])}return{children:p,depth:v}}let u;if(h.positionType==="top"){let f=h.positionData;for(let p=0;p<h.children.length;p++){const v=h.children[p];f-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}u=f}else if(h.positionType==="bottom")u=-h.positionData;else{const f=h.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(h.positionType==="shift")u=-f.elem.depth-h.positionData;else if(h.positionType==="firstBaseline")u=-f.elem.depth;else throw new Error("Invalid positionType "+h.positionType+".")}return{children:h.children,depth:u}},zF=function(h,u){const{children:f,depth:p}=FF(h);let v=0;for(let re=0;re<f.length;re++){const ke=f[re];if(ke.type==="elem"){const Ae=ke.elem;v=Math.max(v,Ae.maxFontSize,Ae.height)}}v+=2;const S=Er(["pstrut"],[]);S.style.height=me(v);const P=[];let N=p,j=p,z=p;for(let re=0;re<f.length;re++){const ke=f[re];if(ke.type==="kern")z+=ke.size;else{const Ae=ke.elem,We=ke.wrapperClasses||[],Be=ke.wrapperStyle||{},Ge=Er(We,[S,Ae],void 0,Be);Ge.style.top=me(-v-z-Ae.depth),ke.marginLeft&&(Ge.style.marginLeft=ke.marginLeft),ke.marginRight&&(Ge.style.marginRight=ke.marginRight),P.push(Ge),z+=Ae.height+Ae.depth}N=Math.min(N,z),j=Math.max(j,z)}const V=Er(["vlist"],P);V.style.height=me(j);let H;if(N<0){const re=Er([],[]),ke=Er(["vlist"],[re]);ke.style.height=me(-N);const Ae=Er(["vlist-s"],[new di("")]);H=[Er(["vlist-r"],[V,Ae]),Er(["vlist-r"],[ke])]}else H=[Er(["vlist-r"],[V])];const Y=Er(["vlist-t"],H);return H.length===2&&Y.classes.push("vlist-t2"),Y.height=j,Y.depth=-N,Y},BF=(h,u)=>{const f=Er(["mspace"],[],u),p=Dt(h,u);return f.style.marginRight=me(p),f},Af=function(h,u,f){let p="";switch(h){case"amsrm":p="AMS";break;case"textrm":p="Main";break;case"textsf":p="SansSerif";break;case"texttt":p="Typewriter";break;default:p=h}let v;return u==="textbf"&&f==="textit"?v="BoldItalic":u==="textbf"?v="Bold":u==="textit"?v="Italic":v="Regular",p+"-"+v},qx={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Hx={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var W={fontMap:qx,makeSymbol:Li,mathsym:OF,makeSpan:Er,makeSvgSpan:Ux,makeLineSpan:jF,makeAnchor:LF,makeFragment:Vx,wrapFragment:$F,makeVList:zF,makeOrd:MF,makeGlue:BF,staticSvg:function(h,u){const[f,p,v]=Hx[h],S=new Oa(f),P=new Ms([S],{width:me(p),height:me(v),style:"width:"+me(p),viewBox:"0 0 "+1e3*p+" "+1e3*v,preserveAspectRatio:"xMinYMin"}),N=Ux(["overlay"],[P],u);return N.height=v,N.style.height=me(v),N.style.width=me(p),N},svgData:Hx,tryCombineChars:RF};const jt={number:3,unit:"mu"},Ho={number:4,unit:"mu"},Rs={number:5,unit:"mu"},UF={mord:{mop:jt,mbin:Ho,mrel:Rs,minner:jt},mop:{mord:jt,mop:jt,mrel:Rs,minner:jt},mbin:{mord:Ho,mop:Ho,mopen:Ho,minner:Ho},mrel:{mord:Rs,mop:Rs,mopen:Rs,minner:Rs},mopen:{},mclose:{mop:jt,mbin:Ho,mrel:Rs,minner:jt},mpunct:{mord:jt,mop:jt,mrel:Rs,mopen:jt,mclose:jt,mpunct:jt,minner:jt},minner:{mord:jt,mop:jt,mbin:Ho,mrel:Rs,mopen:jt,mpunct:jt,minner:jt}},VF={mord:{mop:jt},mop:{mord:jt,mop:jt},mbin:{},mrel:{},mopen:{},mclose:{mop:jt},mpunct:{},minner:{mop:jt}},Wx={},Cf={},Pf={};function be(h){let{type:u,names:f,props:p,handler:v,htmlBuilder:S,mathmlBuilder:P}=h;const N={type:u,numArgs:p.numArgs,argTypes:p.argTypes,allowedInArgument:!!p.allowedInArgument,allowedInText:!!p.allowedInText,allowedInMath:p.allowedInMath===void 0?!0:p.allowedInMath,numOptionalArgs:p.numOptionalArgs||0,infix:!!p.infix,primitive:!!p.primitive,handler:v};for(let j=0;j<f.length;++j)Wx[f[j]]=N;u&&(S&&(Cf[u]=S),P&&(Pf[u]=P))}function Wo(h){let{type:u,htmlBuilder:f,mathmlBuilder:p}=h;be({type:u,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:f,mathmlBuilder:p})}const Of=function(h){return h.type==="ordgroup"&&h.body.length===1?h.body[0]:h},Gt=function(h){return h.type==="ordgroup"?h.body:[h]},js=W.makeSpan,qF=["leftmost","mbin","mopen","mrel","mop","mpunct"],HF=["rightmost","mrel","mclose","mpunct"],WF={display:ee.DISPLAY,text:ee.TEXT,script:ee.SCRIPT,scriptscript:ee.SCRIPTSCRIPT},KF={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},un=function(h,u,f,p){p===void 0&&(p=[null,null]);const v=[];for(let z=0;z<h.length;z++){const V=Je(h[z],u);if(V instanceof ph){const H=V.children;v.push(...H)}else v.push(V)}if(W.tryCombineChars(v),!f)return v;let S=u;if(h.length===1){const z=h[0];z.type==="sizing"?S=u.havingSize(z.size):z.type==="styling"&&(S=u.havingStyle(WF[z.style]))}const P=js([p[0]||"leftmost"],[],u),N=js([p[1]||"rightmost"],[],u),j=f==="root";return ov(v,(z,V)=>{const H=V.classes[0],Y=z.classes[0];H==="mbin"&&HF.includes(Y)?V.classes[0]="mord":Y==="mbin"&&qF.includes(H)&&(z.classes[0]="mord")},{node:P},N,j),ov(v,(z,V)=>{const H=uv(V),Y=uv(z),re=H&&Y?z.hasClass("mtight")?VF[H][Y]:UF[H][Y]:null;if(re)return W.makeGlue(re,S)},{node:P},N,j),v},ov=function(h,u,f,p,v){p&&h.push(p);let S=0;for(;S<h.length;S++){const P=h[S],N=Kx(P);if(N){ov(N.children,u,f,null,v);continue}const j=!P.hasClass("mspace");if(j){const z=u(P,f.node);z&&(f.insertAfter?f.insertAfter(z):(h.unshift(z),S++))}j?f.node=P:v&&P.hasClass("newline")&&(f.node=js(["leftmost"])),f.insertAfter=(z=>V=>{h.splice(z+1,0,V),S++})(S)}p&&h.pop()},Kx=function(h){return h instanceof ph||h instanceof rv||h instanceof mh&&h.hasClass("enclosing")?h:null},lv=function(h,u){const f=Kx(h);if(f){const p=f.children;if(p.length){if(u==="right")return lv(p[p.length-1],"right");if(u==="left")return lv(p[0],"left")}}return h},uv=function(h,u){return h?(u&&(h=lv(h,u)),KF[h.classes[0]]||null):null},gh=function(h,u){const f=["nulldelimiter"].concat(h.baseSizingClasses());return js(u.concat(f))},Je=function(h,u,f){if(!h)return js();if(Cf[h.type]){let p=Cf[h.type](h,u);if(f&&u.size!==f.size){p=js(u.sizingClasses(f),[p],u);const v=u.sizeMultiplier/f.sizeMultiplier;p.height*=v,p.depth*=v}return p}else throw new s("Got group of unknown type: '"+h.type+"'")};function Nf(h,u){const f=js(["base"],h,u),p=js(["strut"]);return p.style.height=me(f.height+f.depth),f.depth&&(p.style.verticalAlign=me(-f.depth)),f.children.unshift(p),f}function cv(h,u){let f=null;h.length===1&&h[0].type==="tag"&&(f=h[0].tag,h=h[0].body);const p=un(h,u,"root");let v;p.length===2&&p[1].hasClass("tag")&&(v=p.pop());const S=[];let P=[];for(let z=0;z<p.length;z++)if(P.push(p[z]),p[z].hasClass("mbin")||p[z].hasClass("mrel")||p[z].hasClass("allowbreak")){let V=!1;for(;z<p.length-1&&p[z+1].hasClass("mspace")&&!p[z+1].hasClass("newline");)z++,P.push(p[z]),p[z].hasClass("nobreak")&&(V=!0);V||(S.push(Nf(P,u)),P=[])}else p[z].hasClass("newline")&&(P.pop(),P.length>0&&(S.push(Nf(P,u)),P=[]),S.push(p[z]));P.length>0&&S.push(Nf(P,u));let N;f?(N=Nf(un(f,u,!0)),N.classes=["tag"],S.push(N)):v&&S.push(v);const j=js(["katex-html"],S);if(j.setAttribute("aria-hidden","true"),N){const z=N.children[0];z.style.height=me(j.height+j.depth),j.depth&&(z.style.verticalAlign=me(-j.depth))}return j}function Gx(h){return new ph(h)}class Vr{constructor(u,f,p){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=u,this.attributes={},this.children=f||[],this.classes=p||[]}setAttribute(u,f){this.attributes[u]=f}getAttribute(u){return this.attributes[u]}toNode(){const u=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const f in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,f)&&u.setAttribute(f,this.attributes[f]);this.classes.length>0&&(u.className=Pa(this.classes));for(let f=0;f<this.children.length;f++)if(this.children[f]instanceof ts&&this.children[f+1]instanceof ts){let p=this.children[f].toText()+this.children[++f].toText();for(;this.children[f+1]instanceof ts;)p+=this.children[++f].toText();u.appendChild(new ts(p).toNode())}else u.appendChild(this.children[f].toNode());return u}toMarkup(){let u="<"+this.type;for(const f in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,f)&&(u+=" "+f+'="',u+=x.escape(this.attributes[f]),u+='"');this.classes.length>0&&(u+=' class ="'+x.escape(Pa(this.classes))+'"'),u+=">";for(let f=0;f<this.children.length;f++)u+=this.children[f].toMarkup();return u+="</"+this.type+">",u}toText(){return this.children.map(u=>u.toText()).join("")}}class ts{constructor(u){this.text=void 0,this.text=u}toNode(){return document.createTextNode(this.text)}toMarkup(){return x.escape(this.toText())}toText(){return this.text}}class GF{constructor(u){this.width=void 0,this.character=void 0,this.width=u,u>=.05555&&u<=.05556?this.character="":u>=.1666&&u<=.1667?this.character="":u>=.2222&&u<=.2223?this.character="":u>=.2777&&u<=.2778?this.character="":u>=-.05556&&u<=-.05555?this.character="":u>=-.1667&&u<=-.1666?this.character="":u>=-.2223&&u<=-.2222?this.character="":u>=-.2778&&u<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const u=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return u.setAttribute("width",me(this.width)),u}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+me(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var oe={MathNode:Vr,TextNode:ts,SpaceNode:GF,newDocumentFragment:Gx};const fi=function(h,u,f){return Rt[u][h]&&Rt[u][h].replace&&h.charCodeAt(0)!==55349&&!($x.hasOwnProperty(h)&&f&&(f.fontFamily&&f.fontFamily.slice(4,6)==="tt"||f.font&&f.font.slice(4,6)==="tt"))&&(h=Rt[u][h].replace),new oe.TextNode(h)},hv=function(h){return h.length===1?h[0]:new oe.MathNode("mrow",h)},dv=function(h,u){if(u.fontFamily==="texttt")return"monospace";if(u.fontFamily==="textsf")return u.fontShape==="textit"&&u.fontWeight==="textbf"?"sans-serif-bold-italic":u.fontShape==="textit"?"sans-serif-italic":u.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(u.fontShape==="textit"&&u.fontWeight==="textbf")return"bold-italic";if(u.fontShape==="textit")return"italic";if(u.fontWeight==="textbf")return"bold";const f=u.font;if(!f||f==="mathnormal")return null;const p=h.mode;if(f==="mathit")return"italic";if(f==="boldsymbol")return h.type==="textord"?"bold":"bold-italic";if(f==="mathbf")return"bold";if(f==="mathbb")return"double-struck";if(f==="mathsfit")return"sans-serif-italic";if(f==="mathfrak")return"fraktur";if(f==="mathscr"||f==="mathcal")return"script";if(f==="mathsf")return"sans-serif";if(f==="mathtt")return"monospace";let v=h.text;if(["\\imath","\\jmath"].includes(v))return null;Rt[p][v]&&Rt[p][v].replace&&(v=Rt[p][v].replace);const S=W.fontMap[f].fontName;return ev(v,S,p)?W.fontMap[f].variant:null};function fv(h){if(!h)return!1;if(h.type==="mi"&&h.children.length===1){const u=h.children[0];return u instanceof ts&&u.text==="."}else if(h.type==="mo"&&h.children.length===1&&h.getAttribute("separator")==="true"&&h.getAttribute("lspace")==="0em"&&h.getAttribute("rspace")==="0em"){const u=h.children[0];return u instanceof ts&&u.text===","}else return!1}const _r=function(h,u,f){if(h.length===1){const S=dt(h[0],u);return f&&S instanceof Vr&&S.type==="mo"&&(S.setAttribute("lspace","0em"),S.setAttribute("rspace","0em")),[S]}const p=[];let v;for(let S=0;S<h.length;S++){const P=dt(h[S],u);if(P instanceof Vr&&v instanceof Vr){if(P.type==="mtext"&&v.type==="mtext"&&P.getAttribute("mathvariant")===v.getAttribute("mathvariant")){v.children.push(...P.children);continue}else if(P.type==="mn"&&v.type==="mn"){v.children.push(...P.children);continue}else if(fv(P)&&v.type==="mn"){v.children.push(...P.children);continue}else if(P.type==="mn"&&fv(v))P.children=[...v.children,...P.children],p.pop();else if((P.type==="msup"||P.type==="msub")&&P.children.length>=1&&(v.type==="mn"||fv(v))){const N=P.children[0];N instanceof Vr&&N.type==="mn"&&(N.children=[...v.children,...N.children],p.pop())}else if(v.type==="mi"&&v.children.length===1){const N=v.children[0];if(N instanceof ts&&N.text===""&&(P.type==="mo"||P.type==="mi"||P.type==="mn")){const j=P.children[0];j instanceof ts&&j.text.length>0&&(j.text=j.text.slice(0,1)+""+j.text.slice(1),p.pop())}}}p.push(P),v=P}return p},Na=function(h,u,f){return hv(_r(h,u,f))},dt=function(h,u){if(!h)return new oe.MathNode("mrow");if(Pf[h.type])return Pf[h.type](h,u);throw new s("Got group of unknown type: '"+h.type+"'")};function Yx(h,u,f,p,v){const S=_r(h,f);let P;S.length===1&&S[0]instanceof Vr&&["mrow","mtable"].includes(S[0].type)?P=S[0]:P=new oe.MathNode("mrow",S);const N=new oe.MathNode("annotation",[new oe.TextNode(u)]);N.setAttribute("encoding","application/x-tex");const j=new oe.MathNode("semantics",[P,N]),z=new oe.MathNode("math",[j]);z.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),p&&z.setAttribute("display","block");const V=v?"katex":"katex-mathml";return W.makeSpan([V],[z])}const Xx=function(h){return new kF({style:h.displayMode?ee.DISPLAY:ee.TEXT,maxSize:h.maxSize,minRuleThickness:h.minRuleThickness})},Qx=function(h,u){if(u.displayMode){const f=["katex-display"];u.leqno&&f.push("leqno"),u.fleqn&&f.push("fleqn"),h=W.makeSpan(f,[h])}return h},YF=function(h,u,f){const p=Xx(f);let v;if(f.output==="mathml")return Yx(h,u,p,f.displayMode,!0);if(f.output==="html"){const S=cv(h,p);v=W.makeSpan(["katex"],[S])}else{const S=Yx(h,u,p,f.displayMode,!1),P=cv(h,p);v=W.makeSpan(["katex"],[S,P])}return Qx(v,f)},XF=function(h,u,f){const p=Xx(f),v=cv(h,p),S=W.makeSpan(["katex"],[v]);return Qx(S,f)},QF={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},JF=function(h){const u=new oe.MathNode("mo",[new oe.TextNode(QF[h.replace(/^\\/,"")])]);return u.setAttribute("stretchy","true"),u},ZF={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},ez=function(h){return h.type==="ordgroup"?h.body.length:1};var Ls={encloseSpan:function(h,u,f,p,v){let S;const P=h.height+h.depth+f+p;if(/fbox|color|angl/.test(u)){if(S=W.makeSpan(["stretchy",u],[],v),u==="fbox"){const N=v.color&&v.getColor();N&&(S.style.borderColor=N)}}else{const N=[];/^[bx]cancel$/.test(u)&&N.push(new iv({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(u)&&N.push(new iv({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const j=new Ms(N,{width:"100%",height:me(P)});S=W.makeSvgSpan([],[j],v)}return S.height=P,S.style.height=me(P),S},mathMLnode:JF,svgSpan:function(h,u){function f(){let P=4e5;const N=h.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(N)){const z=ez(h.base);let V,H,Y;if(z>5)N==="widehat"||N==="widecheck"?(V=420,P=2364,Y=.42,H=N+"4"):(V=312,P=2340,Y=.34,H="tilde4");else{const Ae=[1,1,2,2,3,3][z];N==="widehat"||N==="widecheck"?(P=[0,1062,2364,2364,2364][Ae],V=[0,239,300,360,420][Ae],Y=[0,.24,.3,.3,.36,.42][Ae],H=N+Ae):(P=[0,600,1033,2339,2340][Ae],V=[0,260,286,306,312][Ae],Y=[0,.26,.286,.3,.306,.34][Ae],H="tilde"+Ae)}const re=new Oa(H),ke=new Ms([re],{width:"100%",height:me(Y),viewBox:"0 0 "+P+" "+V,preserveAspectRatio:"none"});return{span:W.makeSvgSpan([],[ke],u),minWidth:0,height:Y}}else{const j=[],z=ZF[N],[V,H,Y]=z,re=Y/1e3,ke=V.length;let Ae,We;if(ke===1){const Be=z[3];Ae=["hide-tail"],We=[Be]}else if(ke===2)Ae=["halfarrow-left","halfarrow-right"],We=["xMinYMin","xMaxYMin"];else if(ke===3)Ae=["brace-left","brace-center","brace-right"],We=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+ke+" children.");for(let Be=0;Be<ke;Be++){const Ge=new Oa(V[Be]),rt=new Ms([Ge],{width:"400em",height:me(re),viewBox:"0 0 "+P+" "+Y,preserveAspectRatio:We[Be]+" slice"}),pt=W.makeSvgSpan([Ae[Be]],[rt],u);if(ke===1)return{span:pt,minWidth:H,height:re};pt.style.height=me(re),j.push(pt)}return{span:W.makeSpan(["stretchy"],j,u),minWidth:H,height:re}}}const{span:p,minWidth:v,height:S}=f();return p.height=S,p.style.height=me(S),v>0&&(p.style.minWidth=me(v)),p}};function Fe(h,u){if(!h||h.type!==u)throw new Error("Expected node of type "+u+", but got "+(h?"node of type "+h.type:String(h)));return h}function mv(h){const u=Mf(h);if(!u)throw new Error("Expected node of symbol group type, but got "+(h?"node of type "+h.type:String(h)));return u}function Mf(h){return h&&(h.type==="atom"||CF.hasOwnProperty(h.type))?h:null}const pv=(h,u)=>{let f,p,v;h&&h.type==="supsub"?(p=Fe(h.base,"accent"),f=p.base,h.base=f,v=IF(Je(h,u)),h.base=p):(p=Fe(h,"accent"),f=p.base);const S=Je(f,u.havingCrampedStyle()),P=p.isShifty&&x.isCharacterBox(f);let N=0;if(P){const Y=x.getBaseElem(f),re=Je(Y,u.havingCrampedStyle());N=Lx(re).skew}const j=p.label==="\\c";let z=j?S.height+S.depth:Math.min(S.height,u.fontMetrics().xHeight),V;if(p.isStretchy)V=Ls.svgSpan(p,u),V=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S},{type:"elem",elem:V,wrapperClasses:["svg-align"],wrapperStyle:N>0?{width:"calc(100% - "+me(2*N)+")",marginLeft:me(2*N)}:void 0}]},u);else{let Y,re;p.label==="\\vec"?(Y=W.staticSvg("vec",u),re=W.svgData.vec[1]):(Y=W.makeOrd({mode:p.mode,text:p.label},u,"textord"),Y=Lx(Y),Y.italic=0,re=Y.width,j&&(z+=Y.depth)),V=W.makeSpan(["accent-body"],[Y]);const ke=p.label==="\\textcircled";ke&&(V.classes.push("accent-full"),z=S.height);let Ae=N;ke||(Ae-=re/2),V.style.left=me(Ae),p.label==="\\textcircled"&&(V.style.top=".2em"),V=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S},{type:"kern",size:-z},{type:"elem",elem:V}]},u)}const H=W.makeSpan(["mord","accent"],[V],u);return v?(v.children[0]=H,v.height=Math.max(H.height,v.height),v.classes[0]="mord",v):H},Jx=(h,u)=>{const f=h.isStretchy?Ls.mathMLnode(h.label):new oe.MathNode("mo",[fi(h.label,h.mode)]),p=new oe.MathNode("mover",[dt(h.base,u),f]);return p.setAttribute("accent","true"),p},tz=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(h=>"\\"+h).join("|"));be({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(h,u)=>{const f=Of(u[0]),p=!tz.test(h.funcName),v=!p||h.funcName==="\\widehat"||h.funcName==="\\widetilde"||h.funcName==="\\widecheck";return{type:"accent",mode:h.parser.mode,label:h.funcName,isStretchy:p,isShifty:v,base:f}},htmlBuilder:pv,mathmlBuilder:Jx}),be({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(h,u)=>{const f=u[0];let p=h.parser.mode;return p==="math"&&(h.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+h.funcName+" works only in text mode"),p="text"),{type:"accent",mode:p,label:h.funcName,isStretchy:!1,isShifty:!0,base:f}},htmlBuilder:pv,mathmlBuilder:Jx}),be({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(h,u)=>{let{parser:f,funcName:p}=h;const v=u[0];return{type:"accentUnder",mode:f.mode,label:p,base:v}},htmlBuilder:(h,u)=>{const f=Je(h.base,u),p=Ls.svgSpan(h,u),v=h.label==="\\utilde"?.12:0,S=W.makeVList({positionType:"top",positionData:f.height,children:[{type:"elem",elem:p,wrapperClasses:["svg-align"]},{type:"kern",size:v},{type:"elem",elem:f}]},u);return W.makeSpan(["mord","accentunder"],[S],u)},mathmlBuilder:(h,u)=>{const f=Ls.mathMLnode(h.label),p=new oe.MathNode("munder",[dt(h.base,u),f]);return p.setAttribute("accentunder","true"),p}});const Df=h=>{const u=new oe.MathNode("mpadded",h?[h]:[]);return u.setAttribute("width","+0.6em"),u.setAttribute("lspace","0.3em"),u};be({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(h,u,f){let{parser:p,funcName:v}=h;return{type:"xArrow",mode:p.mode,label:v,body:u[0],below:f[0]}},htmlBuilder(h,u){const f=u.style;let p=u.havingStyle(f.sup());const v=W.wrapFragment(Je(h.body,p,u),u),S=h.label.slice(0,2)==="\\x"?"x":"cd";v.classes.push(S+"-arrow-pad");let P;h.below&&(p=u.havingStyle(f.sub()),P=W.wrapFragment(Je(h.below,p,u),u),P.classes.push(S+"-arrow-pad"));const N=Ls.svgSpan(h,u),j=-u.fontMetrics().axisHeight+.5*N.height;let z=-u.fontMetrics().axisHeight-.5*N.height-.111;(v.depth>.25||h.label==="\\xleftequilibrium")&&(z-=v.depth);let V;if(P){const H=-u.fontMetrics().axisHeight+P.height+.5*N.height+.111;V=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:z},{type:"elem",elem:N,shift:j},{type:"elem",elem:P,shift:H}]},u)}else V=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:z},{type:"elem",elem:N,shift:j}]},u);return V.children[0].children[0].children[1].classes.push("svg-align"),W.makeSpan(["mrel","x-arrow"],[V],u)},mathmlBuilder(h,u){const f=Ls.mathMLnode(h.label);f.setAttribute("minsize",h.label.charAt(0)==="x"?"1.75em":"3.0em");let p;if(h.body){const v=Df(dt(h.body,u));if(h.below){const S=Df(dt(h.below,u));p=new oe.MathNode("munderover",[f,S,v])}else p=new oe.MathNode("mover",[f,v])}else if(h.below){const v=Df(dt(h.below,u));p=new oe.MathNode("munder",[f,v])}else p=Df(),p=new oe.MathNode("mover",[f,p]);return p}});const nz=W.makeSpan;function Zx(h,u){const f=un(h.body,u,!0);return nz([h.mclass],f,u)}function e8(h,u){let f;const p=_r(h.body,u);return h.mclass==="minner"?f=new oe.MathNode("mpadded",p):h.mclass==="mord"?h.isCharacterBox?(f=p[0],f.type="mi"):f=new oe.MathNode("mi",p):(h.isCharacterBox?(f=p[0],f.type="mo"):f=new oe.MathNode("mo",p),h.mclass==="mbin"?(f.attributes.lspace="0.22em",f.attributes.rspace="0.22em"):h.mclass==="mpunct"?(f.attributes.lspace="0em",f.attributes.rspace="0.17em"):h.mclass==="mopen"||h.mclass==="mclose"?(f.attributes.lspace="0em",f.attributes.rspace="0em"):h.mclass==="minner"&&(f.attributes.lspace="0.0556em",f.attributes.width="+0.1111em")),f}be({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(h,u){let{parser:f,funcName:p}=h;const v=u[0];return{type:"mclass",mode:f.mode,mclass:"m"+p.slice(5),body:Gt(v),isCharacterBox:x.isCharacterBox(v)}},htmlBuilder:Zx,mathmlBuilder:e8});const Rf=h=>{const u=h.type==="ordgroup"&&h.body.length?h.body[0]:h;return u.type==="atom"&&(u.family==="bin"||u.family==="rel")?"m"+u.family:"mord"};be({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(h,u){let{parser:f}=h;return{type:"mclass",mode:f.mode,mclass:Rf(u[0]),body:Gt(u[1]),isCharacterBox:x.isCharacterBox(u[1])}}}),be({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(h,u){let{parser:f,funcName:p}=h;const v=u[1],S=u[0];let P;p!=="\\stackrel"?P=Rf(v):P="mrel";const N={type:"op",mode:v.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:p!=="\\stackrel",body:Gt(v)},j={type:"supsub",mode:S.mode,base:N,sup:p==="\\underset"?null:S,sub:p==="\\underset"?S:null};return{type:"mclass",mode:f.mode,mclass:P,body:[j],isCharacterBox:x.isCharacterBox(j)}},htmlBuilder:Zx,mathmlBuilder:e8}),be({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(h,u){let{parser:f}=h;return{type:"pmb",mode:f.mode,mclass:Rf(u[0]),body:Gt(u[0])}},htmlBuilder(h,u){const f=un(h.body,u,!0),p=W.makeSpan([h.mclass],f,u);return p.style.textShadow="0.02em 0.01em 0.04px",p},mathmlBuilder(h,u){const f=_r(h.body,u),p=new oe.MathNode("mstyle",f);return p.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),p}});const rz={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},t8=()=>({type:"styling",body:[],mode:"math",style:"display"}),n8=h=>h.type==="textord"&&h.text==="@",iz=(h,u)=>(h.type==="mathord"||h.type==="atom")&&h.text===u;function sz(h,u,f){const p=rz[h];switch(p){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return f.callFunction(p,[u[0]],[u[1]]);case"\\uparrow":case"\\downarrow":{const v=f.callFunction("\\\\cdleft",[u[0]],[]),S={type:"atom",text:p,mode:"math",family:"rel"},P=f.callFunction("\\Big",[S],[]),N=f.callFunction("\\\\cdright",[u[1]],[]),j={type:"ordgroup",mode:"math",body:[v,P,N]};return f.callFunction("\\\\cdparent",[j],[])}case"\\\\cdlongequal":return f.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const v={type:"textord",text:"\\Vert",mode:"math"};return f.callFunction("\\Big",[v],[])}default:return{type:"textord",text:" ",mode:"math"}}}function az(h){const u=[];for(h.gullet.beginGroup(),h.gullet.macros.set("\\cr","\\\\\\relax"),h.gullet.beginGroup();;){u.push(h.parseExpression(!1,"\\\\")),h.gullet.endGroup(),h.gullet.beginGroup();const S=h.fetch().text;if(S==="&"||S==="\\\\")h.consume();else if(S==="\\end"){u[u.length-1].length===0&&u.pop();break}else throw new s("Expected \\\\ or \\cr or \\end",h.nextToken)}let f=[];const p=[f];for(let S=0;S<u.length;S++){const P=u[S];let N=t8();for(let j=0;j<P.length;j++)if(!n8(P[j]))N.body.push(P[j]);else{f.push(N),j+=1;const z=mv(P[j]).text,V=new Array(2);if(V[0]={type:"ordgroup",mode:"math",body:[]},V[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(z)>-1))if("<>AV".indexOf(z)>-1)for(let re=0;re<2;re++){let ke=!0;for(let Ae=j+1;Ae<P.length;Ae++){if(iz(P[Ae],z)){ke=!1,j=Ae;break}if(n8(P[Ae]))throw new s("Missing a "+z+" character to complete a CD arrow.",P[Ae]);V[re].body.push(P[Ae])}if(ke)throw new s("Missing a "+z+" character to complete a CD arrow.",P[j])}else throw new s('Expected one of "<>AV=|." after @',P[j]);const Y={type:"styling",body:[sz(z,V,h)],mode:"math",style:"display"};f.push(Y),N=t8()}S%2===0?f.push(N):f.shift(),f=[],p.push(f)}h.gullet.endGroup(),h.gullet.endGroup();const v=new Array(p[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:p,arraystretch:1,addJot:!0,rowGaps:[null],cols:v,colSeparationType:"CD",hLinesBeforeRow:new Array(p.length+1).fill([])}}be({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(h,u){let{parser:f,funcName:p}=h;return{type:"cdlabel",mode:f.mode,side:p.slice(4),label:u[0]}},htmlBuilder(h,u){const f=u.havingStyle(u.style.sup()),p=W.wrapFragment(Je(h.label,f,u),u);return p.classes.push("cd-label-"+h.side),p.style.bottom=me(.8-p.depth),p.height=0,p.depth=0,p},mathmlBuilder(h,u){let f=new oe.MathNode("mrow",[dt(h.label,u)]);return f=new oe.MathNode("mpadded",[f]),f.setAttribute("width","0"),h.side==="left"&&f.setAttribute("lspace","-1width"),f.setAttribute("voffset","0.7em"),f=new oe.MathNode("mstyle",[f]),f.setAttribute("displaystyle","false"),f.setAttribute("scriptlevel","1"),f}}),be({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(h,u){let{parser:f}=h;return{type:"cdlabelparent",mode:f.mode,fragment:u[0]}},htmlBuilder(h,u){const f=W.wrapFragment(Je(h.fragment,u),u);return f.classes.push("cd-vert-arrow"),f},mathmlBuilder(h,u){return new oe.MathNode("mrow",[dt(h.fragment,u)])}}),be({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(h,u){let{parser:f}=h;const v=Fe(u[0],"ordgroup").body;let S="";for(let j=0;j<v.length;j++){const z=Fe(v[j],"textord");S+=z.text}let P=parseInt(S),N;if(isNaN(P))throw new s("\\@char has non-numeric argument "+S);if(P<0||P>=1114111)throw new s("\\@char with invalid code point "+S);return P<=65535?N=String.fromCharCode(P):(P-=65536,N=String.fromCharCode((P>>10)+55296,(P&1023)+56320)),{type:"textord",mode:f.mode,text:N}}});const r8=(h,u)=>{const f=un(h.body,u.withColor(h.color),!1);return W.makeFragment(f)},i8=(h,u)=>{const f=_r(h.body,u.withColor(h.color)),p=new oe.MathNode("mstyle",f);return p.setAttribute("mathcolor",h.color),p};be({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(h,u){let{parser:f}=h;const p=Fe(u[0],"color-token").color,v=u[1];return{type:"color",mode:f.mode,color:p,body:Gt(v)}},htmlBuilder:r8,mathmlBuilder:i8}),be({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(h,u){let{parser:f,breakOnTokenText:p}=h;const v=Fe(u[0],"color-token").color;f.gullet.macros.set("\\current@color",v);const S=f.parseExpression(!0,p);return{type:"color",mode:f.mode,color:v,body:S}},htmlBuilder:r8,mathmlBuilder:i8}),be({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(h,u,f){let{parser:p}=h;const v=p.gullet.future().text==="["?p.parseSizeGroup(!0):null,S=!p.settings.displayMode||!p.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:p.mode,newLine:S,size:v&&Fe(v,"size").value}},htmlBuilder(h,u){const f=W.makeSpan(["mspace"],[],u);return h.newLine&&(f.classes.push("newline"),h.size&&(f.style.marginTop=me(Dt(h.size,u)))),f},mathmlBuilder(h,u){const f=new oe.MathNode("mspace");return h.newLine&&(f.setAttribute("linebreak","newline"),h.size&&f.setAttribute("height",me(Dt(h.size,u)))),f}});const gv={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},s8=h=>{const u=h.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(u))throw new s("Expected a control sequence",h);return u},oz=h=>{let u=h.gullet.popToken();return u.text==="="&&(u=h.gullet.popToken(),u.text===" "&&(u=h.gullet.popToken())),u},a8=(h,u,f,p)=>{let v=h.gullet.macros.get(f.text);v==null&&(f.noexpand=!0,v={tokens:[f],numArgs:0,unexpandable:!h.gullet.isExpandable(f.text)}),h.gullet.macros.set(u,v,p)};be({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(h){let{parser:u,funcName:f}=h;u.consumeSpaces();const p=u.fetch();if(gv[p.text])return(f==="\\global"||f==="\\\\globallong")&&(p.text=gv[p.text]),Fe(u.parseFunction(),"internal");throw new s("Invalid token after macro prefix",p)}}),be({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(h){let{parser:u,funcName:f}=h,p=u.gullet.popToken();const v=p.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(v))throw new s("Expected a control sequence",p);let S=0,P;const N=[[]];for(;u.gullet.future().text!=="{";)if(p=u.gullet.popToken(),p.text==="#"){if(u.gullet.future().text==="{"){P=u.gullet.future(),N[S].push("{");break}if(p=u.gullet.popToken(),!/^[1-9]$/.test(p.text))throw new s('Invalid argument number "'+p.text+'"');if(parseInt(p.text)!==S+1)throw new s('Argument number "'+p.text+'" out of order');S++,N.push([])}else{if(p.text==="EOF")throw new s("Expected a macro definition");N[S].push(p.text)}let{tokens:j}=u.gullet.consumeArg();return P&&j.unshift(P),(f==="\\edef"||f==="\\xdef")&&(j=u.gullet.expandTokens(j),j.reverse()),u.gullet.macros.set(v,{tokens:j,numArgs:S,delimiters:N},f===gv[f]),{type:"internal",mode:u.mode}}}),be({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(h){let{parser:u,funcName:f}=h;const p=s8(u.gullet.popToken());u.gullet.consumeSpaces();const v=oz(u);return a8(u,p,v,f==="\\\\globallet"),{type:"internal",mode:u.mode}}}),be({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(h){let{parser:u,funcName:f}=h;const p=s8(u.gullet.popToken()),v=u.gullet.popToken(),S=u.gullet.popToken();return a8(u,p,S,f==="\\\\globalfuture"),u.gullet.pushToken(S),u.gullet.pushToken(v),{type:"internal",mode:u.mode}}});const yh=function(h,u,f){const p=Rt.math[h]&&Rt.math[h].replace,v=ev(p||h,u,f);if(!v)throw new Error("Unsupported symbol "+h+" and font size "+u+".");return v},yv=function(h,u,f,p){const v=f.havingBaseStyle(u),S=W.makeSpan(p.concat(v.sizingClasses(f)),[h],f),P=v.sizeMultiplier/f.sizeMultiplier;return S.height*=P,S.depth*=P,S.maxFontSize=v.sizeMultiplier,S},o8=function(h,u,f){const p=u.havingBaseStyle(f),v=(1-u.sizeMultiplier/p.sizeMultiplier)*u.fontMetrics().axisHeight;h.classes.push("delimcenter"),h.style.top=me(v),h.height-=v,h.depth+=v},lz=function(h,u,f,p,v,S){const P=W.makeSymbol(h,"Main-Regular",v,p),N=yv(P,u,p,S);return f&&o8(N,p,u),N},uz=function(h,u,f,p){return W.makeSymbol(h,"Size"+u+"-Regular",f,p)},l8=function(h,u,f,p,v,S){const P=uz(h,u,v,p),N=yv(W.makeSpan(["delimsizing","size"+u],[P],p),ee.TEXT,p,S);return f&&o8(N,p,ee.TEXT),N},vv=function(h,u,f){let p;return u==="Size1-Regular"?p="delim-size1":p="delim-size4",{type:"elem",elem:W.makeSpan(["delimsizinginner",p],[W.makeSpan([],[W.makeSymbol(h,u,f)])])}},wv=function(h,u,f){const p=xn["Size4-Regular"][h.charCodeAt(0)]?xn["Size4-Regular"][h.charCodeAt(0)][4]:xn["Size1-Regular"][h.charCodeAt(0)][4],v=new Oa("inner",ut(h,Math.round(1e3*u))),S=new Ms([v],{width:me(p),height:me(u),style:"width:"+me(p),viewBox:"0 0 "+1e3*p+" "+Math.round(1e3*u),preserveAspectRatio:"xMinYMin"}),P=W.makeSvgSpan([],[S],f);return P.height=u,P.style.height=me(u),P.style.width=me(p),{type:"elem",elem:P}},bv=.008,jf={type:"kern",size:-1*bv},cz=["|","\\lvert","\\rvert","\\vert"],hz=["\\|","\\lVert","\\rVert","\\Vert"],u8=function(h,u,f,p,v,S){let P,N,j,z,V="",H=0;P=j=z=h,N=null;let Y="Size1-Regular";h==="\\uparrow"?j=z="":h==="\\Uparrow"?j=z="":h==="\\downarrow"?P=j="":h==="\\Downarrow"?P=j="":h==="\\updownarrow"?(P="\\uparrow",j="",z="\\downarrow"):h==="\\Updownarrow"?(P="\\Uparrow",j="",z="\\Downarrow"):cz.includes(h)?(j="",V="vert",H=333):hz.includes(h)?(j="",V="doublevert",H=556):h==="["||h==="\\lbrack"?(P="",j="",z="",Y="Size4-Regular",V="lbrack",H=667):h==="]"||h==="\\rbrack"?(P="",j="",z="",Y="Size4-Regular",V="rbrack",H=667):h==="\\lfloor"||h===""?(j=P="",z="",Y="Size4-Regular",V="lfloor",H=667):h==="\\lceil"||h===""?(P="",j=z="",Y="Size4-Regular",V="lceil",H=667):h==="\\rfloor"||h===""?(j=P="",z="",Y="Size4-Regular",V="rfloor",H=667):h==="\\rceil"||h===""?(P="",j=z="",Y="Size4-Regular",V="rceil",H=667):h==="("||h==="\\lparen"?(P="",j="",z="",Y="Size4-Regular",V="lparen",H=875):h===")"||h==="\\rparen"?(P="",j="",z="",Y="Size4-Regular",V="rparen",H=875):h==="\\{"||h==="\\lbrace"?(P="",N="",z="",j="",Y="Size4-Regular"):h==="\\}"||h==="\\rbrace"?(P="",N="",z="",j="",Y="Size4-Regular"):h==="\\lgroup"||h===""?(P="",z="",j="",Y="Size4-Regular"):h==="\\rgroup"||h===""?(P="",z="",j="",Y="Size4-Regular"):h==="\\lmoustache"||h===""?(P="",z="",j="",Y="Size4-Regular"):(h==="\\rmoustache"||h==="")&&(P="",z="",j="",Y="Size4-Regular");const re=yh(P,Y,v),ke=re.height+re.depth,Ae=yh(j,Y,v),We=Ae.height+Ae.depth,Be=yh(z,Y,v),Ge=Be.height+Be.depth;let rt=0,pt=1;if(N!==null){const Vt=yh(N,Y,v);rt=Vt.height+Vt.depth,pt=2}const cr=ke+Ge+rt,cn=Math.max(0,Math.ceil((u-cr)/(pt*We))),mi=cr+cn*pt*We;let mu=p.fontMetrics().axisHeight;f&&(mu*=p.sizeMultiplier);const Ze=mi/2-mu,it=[];if(V.length>0){const Vt=mi-ke-Ge,Lt=Math.round(mi*1e3),pi=lr(V,Math.round(Vt*1e3)),Lz=new Oa(V,pi),Z8=(H/1e3).toFixed(3)+"em",ek=(Lt/1e3).toFixed(3)+"em",$z=new Ms([Lz],{width:Z8,height:ek,viewBox:"0 0 "+H+" "+Lt}),Bf=W.makeSvgSpan([],[$z],p);Bf.height=Lt/1e3,Bf.style.width=Z8,Bf.style.height=ek,it.push({type:"elem",elem:Bf})}else{if(it.push(vv(z,Y,v)),it.push(jf),N===null){const Vt=mi-ke-Ge+2*bv;it.push(wv(j,Vt,p))}else{const Vt=(mi-ke-Ge-rt)/2+2*bv;it.push(wv(j,Vt,p)),it.push(jf),it.push(vv(N,Y,v)),it.push(jf),it.push(wv(j,Vt,p))}it.push(jf),it.push(vv(P,Y,v))}const wt=p.havingBaseStyle(ee.TEXT),Ct=W.makeVList({positionType:"bottom",positionData:Ze,children:it},wt);return yv(W.makeSpan(["delimsizing","mult"],[Ct],wt),ee.TEXT,p,S)},xv=80,kv=.08,Sv=function(h,u,f,p,v){const S=Qn(h,p,f),P=new Oa(h,S),N=new Ms([P],{width:"400em",height:me(u),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});return W.makeSvgSpan(["hide-tail"],[N],v)},dz=function(h,u){const f=u.havingBaseSizing(),p=f8("\\surd",h*f.sizeMultiplier,d8,f);let v=f.sizeMultiplier;const S=Math.max(0,u.minRuleThickness-u.fontMetrics().sqrtRuleThickness);let P,N=0,j=0,z=0,V;return p.type==="small"?(z=1e3+1e3*S+xv,h<1?v=1:h<1.4&&(v=.7),N=(1+S+kv)/v,j=(1+S)/v,P=Sv("sqrtMain",N,z,S,u),P.style.minWidth="0.853em",V=.833/v):p.type==="large"?(z=(1e3+xv)*vh[p.size],j=(vh[p.size]+S)/v,N=(vh[p.size]+S+kv)/v,P=Sv("sqrtSize"+p.size,N,z,S,u),P.style.minWidth="1.02em",V=1/v):(N=h+S+kv,j=h+S,z=Math.floor(1e3*h+S)+xv,P=Sv("sqrtTall",N,z,S,u),P.style.minWidth="0.742em",V=1.056),P.height=j,P.style.height=me(N),{span:P,advanceWidth:V,ruleWidth:(u.fontMetrics().sqrtRuleThickness+S)*v}},c8=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],fz=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],h8=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],vh=[0,1.2,1.8,2.4,3],mz=function(h,u,f,p,v){if(h==="<"||h==="\\lt"||h===""?h="\\langle":(h===">"||h==="\\gt"||h==="")&&(h="\\rangle"),c8.includes(h)||h8.includes(h))return l8(h,u,!1,f,p,v);if(fz.includes(h))return u8(h,vh[u],!1,f,p,v);throw new s("Illegal delimiter: '"+h+"'")},pz=[{type:"small",style:ee.SCRIPTSCRIPT},{type:"small",style:ee.SCRIPT},{type:"small",style:ee.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],gz=[{type:"small",style:ee.SCRIPTSCRIPT},{type:"small",style:ee.SCRIPT},{type:"small",style:ee.TEXT},{type:"stack"}],d8=[{type:"small",style:ee.SCRIPTSCRIPT},{type:"small",style:ee.SCRIPT},{type:"small",style:ee.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],yz=function(h){if(h.type==="small")return"Main-Regular";if(h.type==="large")return"Size"+h.size+"-Regular";if(h.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+h.type+"' here.")},f8=function(h,u,f,p){const v=Math.min(2,3-p.style.size);for(let S=v;S<f.length&&f[S].type!=="stack";S++){const P=yh(h,yz(f[S]),"math");let N=P.height+P.depth;if(f[S].type==="small"){const j=p.havingBaseStyle(f[S].style);N*=j.sizeMultiplier}if(N>u)return f[S]}return f[f.length-1]},m8=function(h,u,f,p,v,S){h==="<"||h==="\\lt"||h===""?h="\\langle":(h===">"||h==="\\gt"||h==="")&&(h="\\rangle");let P;h8.includes(h)?P=pz:c8.includes(h)?P=d8:P=gz;const N=f8(h,u,P,p);return N.type==="small"?lz(h,N.style,f,p,v,S):N.type==="large"?l8(h,N.size,f,p,v,S):u8(h,u,f,p,v,S)};var $s={sqrtImage:dz,sizedDelim:mz,sizeToMaxHeight:vh,customSizedDelim:m8,leftRightDelim:function(h,u,f,p,v,S){const P=p.fontMetrics().axisHeight*p.sizeMultiplier,N=901,j=5/p.fontMetrics().ptPerEm,z=Math.max(u-P,f+P),V=Math.max(z/500*N,2*z-j);return m8(h,V,!0,p,v,S)}};const p8={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},vz=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Lf(h,u){const f=Mf(h);if(f&&vz.includes(f.text))return f;throw f?new s("Invalid delimiter '"+f.text+"' after '"+u.funcName+"'",h):new s("Invalid delimiter type '"+h.type+"'",h)}be({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(h,u)=>{const f=Lf(u[0],h);return{type:"delimsizing",mode:h.parser.mode,size:p8[h.funcName].size,mclass:p8[h.funcName].mclass,delim:f.text}},htmlBuilder:(h,u)=>h.delim==="."?W.makeSpan([h.mclass]):$s.sizedDelim(h.delim,h.size,u,h.mode,[h.mclass]),mathmlBuilder:h=>{const u=[];h.delim!=="."&&u.push(fi(h.delim,h.mode));const f=new oe.MathNode("mo",u);h.mclass==="mopen"||h.mclass==="mclose"?f.setAttribute("fence","true"):f.setAttribute("fence","false"),f.setAttribute("stretchy","true");const p=me($s.sizeToMaxHeight[h.size]);return f.setAttribute("minsize",p),f.setAttribute("maxsize",p),f}});function g8(h){if(!h.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}be({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(h,u)=>{const f=h.parser.gullet.macros.get("\\current@color");if(f&&typeof f!="string")throw new s("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:h.parser.mode,delim:Lf(u[0],h).text,color:f}}}),be({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(h,u)=>{const f=Lf(u[0],h),p=h.parser;++p.leftrightDepth;const v=p.parseExpression(!1);--p.leftrightDepth,p.expect("\\right",!1);const S=Fe(p.parseFunction(),"leftright-right");return{type:"leftright",mode:p.mode,body:v,left:f.text,right:S.delim,rightColor:S.color}},htmlBuilder:(h,u)=>{g8(h);const f=un(h.body,u,!0,["mopen","mclose"]);let p=0,v=0,S=!1;for(let j=0;j<f.length;j++)f[j].isMiddle?S=!0:(p=Math.max(f[j].height,p),v=Math.max(f[j].depth,v));p*=u.sizeMultiplier,v*=u.sizeMultiplier;let P;if(h.left==="."?P=gh(u,["mopen"]):P=$s.leftRightDelim(h.left,p,v,u,h.mode,["mopen"]),f.unshift(P),S)for(let j=1;j<f.length;j++){const V=f[j].isMiddle;V&&(f[j]=$s.leftRightDelim(V.delim,p,v,V.options,h.mode,[]))}let N;if(h.right===".")N=gh(u,["mclose"]);else{const j=h.rightColor?u.withColor(h.rightColor):u;N=$s.leftRightDelim(h.right,p,v,j,h.mode,["mclose"])}return f.push(N),W.makeSpan(["minner"],f,u)},mathmlBuilder:(h,u)=>{g8(h);const f=_r(h.body,u);if(h.left!=="."){const p=new oe.MathNode("mo",[fi(h.left,h.mode)]);p.setAttribute("fence","true"),f.unshift(p)}if(h.right!=="."){const p=new oe.MathNode("mo",[fi(h.right,h.mode)]);p.setAttribute("fence","true"),h.rightColor&&p.setAttribute("mathcolor",h.rightColor),f.push(p)}return hv(f)}}),be({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(h,u)=>{const f=Lf(u[0],h);if(!h.parser.leftrightDepth)throw new s("\\middle without preceding \\left",f);return{type:"middle",mode:h.parser.mode,delim:f.text}},htmlBuilder:(h,u)=>{let f;if(h.delim===".")f=gh(u,[]);else{f=$s.sizedDelim(h.delim,1,u,h.mode,[]);const p={delim:h.delim,options:u};f.isMiddle=p}return f},mathmlBuilder:(h,u)=>{const f=h.delim==="\\vert"||h.delim==="|"?fi("|","text"):fi(h.delim,h.mode),p=new oe.MathNode("mo",[f]);return p.setAttribute("fence","true"),p.setAttribute("lspace","0.05em"),p.setAttribute("rspace","0.05em"),p}});const Ev=(h,u)=>{const f=W.wrapFragment(Je(h.body,u),u),p=h.label.slice(1);let v=u.sizeMultiplier,S,P=0;const N=x.isCharacterBox(h.body);if(p==="sout")S=W.makeSpan(["stretchy","sout"]),S.height=u.fontMetrics().defaultRuleThickness/v,P=-.5*u.fontMetrics().xHeight;else if(p==="phase"){const z=Dt({number:.6,unit:"pt"},u),V=Dt({number:.35,unit:"ex"},u),H=u.havingBaseSizing();v=v/H.sizeMultiplier;const Y=f.height+f.depth+z+V;f.style.paddingLeft=me(Y/2+z);const re=Math.floor(1e3*Y*v),ke=Ke(re),Ae=new Ms([new Oa("phase",ke)],{width:"400em",height:me(re/1e3),viewBox:"0 0 400000 "+re,preserveAspectRatio:"xMinYMin slice"});S=W.makeSvgSpan(["hide-tail"],[Ae],u),S.style.height=me(Y),P=f.depth+z+V}else{/cancel/.test(p)?N||f.classes.push("cancel-pad"):p==="angl"?f.classes.push("anglpad"):f.classes.push("boxpad");let z=0,V=0,H=0;/box/.test(p)?(H=Math.max(u.fontMetrics().fboxrule,u.minRuleThickness),z=u.fontMetrics().fboxsep+(p==="colorbox"?0:H),V=z):p==="angl"?(H=Math.max(u.fontMetrics().defaultRuleThickness,u.minRuleThickness),z=4*H,V=Math.max(0,.25-f.depth)):(z=N?.2:0,V=z),S=Ls.encloseSpan(f,p,z,V,u),/fbox|boxed|fcolorbox/.test(p)?(S.style.borderStyle="solid",S.style.borderWidth=me(H)):p==="angl"&&H!==.049&&(S.style.borderTopWidth=me(H),S.style.borderRightWidth=me(H)),P=f.depth+V,h.backgroundColor&&(S.style.backgroundColor=h.backgroundColor,h.borderColor&&(S.style.borderColor=h.borderColor))}let j;if(h.backgroundColor)j=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:S,shift:P},{type:"elem",elem:f,shift:0}]},u);else{const z=/cancel|phase/.test(p)?["svg-align"]:[];j=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:0},{type:"elem",elem:S,shift:P,wrapperClasses:z}]},u)}return/cancel/.test(p)&&(j.height=f.height,j.depth=f.depth),/cancel/.test(p)&&!N?W.makeSpan(["mord","cancel-lap"],[j],u):W.makeSpan(["mord"],[j],u)},_v=(h,u)=>{let f=0;const p=new oe.MathNode(h.label.indexOf("colorbox")>-1?"mpadded":"menclose",[dt(h.body,u)]);switch(h.label){case"\\cancel":p.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":p.setAttribute("notation","downdiagonalstrike");break;case"\\phase":p.setAttribute("notation","phasorangle");break;case"\\sout":p.setAttribute("notation","horizontalstrike");break;case"\\fbox":p.setAttribute("notation","box");break;case"\\angl":p.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(f=u.fontMetrics().fboxsep*u.fontMetrics().ptPerEm,p.setAttribute("width","+"+2*f+"pt"),p.setAttribute("height","+"+2*f+"pt"),p.setAttribute("lspace",f+"pt"),p.setAttribute("voffset",f+"pt"),h.label==="\\fcolorbox"){const v=Math.max(u.fontMetrics().fboxrule,u.minRuleThickness);p.setAttribute("style","border: "+v+"em solid "+String(h.borderColor))}break;case"\\xcancel":p.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return h.backgroundColor&&p.setAttribute("mathbackground",h.backgroundColor),p};be({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(h,u,f){let{parser:p,funcName:v}=h;const S=Fe(u[0],"color-token").color,P=u[1];return{type:"enclose",mode:p.mode,label:v,backgroundColor:S,body:P}},htmlBuilder:Ev,mathmlBuilder:_v}),be({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(h,u,f){let{parser:p,funcName:v}=h;const S=Fe(u[0],"color-token").color,P=Fe(u[1],"color-token").color,N=u[2];return{type:"enclose",mode:p.mode,label:v,backgroundColor:P,borderColor:S,body:N}},htmlBuilder:Ev,mathmlBuilder:_v}),be({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(h,u){let{parser:f}=h;return{type:"enclose",mode:f.mode,label:"\\fbox",body:u[0]}}}),be({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(h,u){let{parser:f,funcName:p}=h;const v=u[0];return{type:"enclose",mode:f.mode,label:p,body:v}},htmlBuilder:Ev,mathmlBuilder:_v}),be({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(h,u){let{parser:f}=h;return{type:"enclose",mode:f.mode,label:"\\angl",body:u[0]}}});const y8={};function ns(h){let{type:u,names:f,props:p,handler:v,htmlBuilder:S,mathmlBuilder:P}=h;const N={type:u,numArgs:p.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:v};for(let j=0;j<f.length;++j)y8[f[j]]=N;S&&(Cf[u]=S),P&&(Pf[u]=P)}const v8={};function M(h,u){v8[h]=u}class Tr{constructor(u,f,p){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=u,this.start=f,this.end=p}static range(u,f){return f?!u||!u.loc||!f.loc||u.loc.lexer!==f.loc.lexer?null:new Tr(u.loc.lexer,u.loc.start,f.loc.end):u&&u.loc}}class qr{constructor(u,f){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=u,this.loc=f}range(u,f){return new qr(f,Tr.range(this,u))}}function w8(h){const u=[];h.consumeSpaces();let f=h.fetch().text;for(f==="\\relax"&&(h.consume(),h.consumeSpaces(),f=h.fetch().text);f==="\\hline"||f==="\\hdashline";)h.consume(),u.push(f==="\\hdashline"),h.consumeSpaces(),f=h.fetch().text;return u}const $f=h=>{if(!h.parser.settings.displayMode)throw new s("{"+h.envName+"} can be used only in display mode.")};function Tv(h){if(h.indexOf("ed")===-1)return h.indexOf("*")===-1}function Ma(h,u,f){let{hskipBeforeAndAfter:p,addJot:v,cols:S,arraystretch:P,colSeparationType:N,autoTag:j,singleRow:z,emptySingleRow:V,maxNumCols:H,leqno:Y}=u;if(h.gullet.beginGroup(),z||h.gullet.macros.set("\\cr","\\\\\\relax"),!P){const pt=h.gullet.expandMacroAsText("\\arraystretch");if(pt==null)P=1;else if(P=parseFloat(pt),!P||P<0)throw new s("Invalid \\arraystretch: "+pt)}h.gullet.beginGroup();let re=[];const ke=[re],Ae=[],We=[],Be=j!=null?[]:void 0;function Ge(){j&&h.gullet.macros.set("\\@eqnsw","1",!0)}function rt(){Be&&(h.gullet.macros.get("\\df@tag")?(Be.push(h.subparse([new qr("\\df@tag")])),h.gullet.macros.set("\\df@tag",void 0,!0)):Be.push(!!j&&h.gullet.macros.get("\\@eqnsw")==="1"))}for(Ge(),We.push(w8(h));;){let pt=h.parseExpression(!1,z?"\\end":"\\\\");h.gullet.endGroup(),h.gullet.beginGroup(),pt={type:"ordgroup",mode:h.mode,body:pt},f&&(pt={type:"styling",mode:h.mode,style:f,body:[pt]}),re.push(pt);const cr=h.fetch().text;if(cr==="&"){if(H&&re.length===H){if(z||N)throw new s("Too many tab characters: &",h.nextToken);h.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}h.consume()}else if(cr==="\\end"){rt(),re.length===1&&pt.type==="styling"&&pt.body[0].body.length===0&&(ke.length>1||!V)&&ke.pop(),We.length<ke.length+1&&We.push([]);break}else if(cr==="\\\\"){h.consume();let cn;h.gullet.future().text!==" "&&(cn=h.parseSizeGroup(!0)),Ae.push(cn?cn.value:null),rt(),We.push(w8(h)),re=[],ke.push(re),Ge()}else throw new s("Expected & or \\\\ or \\cr or \\end",h.nextToken)}return h.gullet.endGroup(),h.gullet.endGroup(),{type:"array",mode:h.mode,addJot:v,arraystretch:P,body:ke,cols:S,rowGaps:Ae,hskipBeforeAndAfter:p,hLinesBeforeRow:We,colSeparationType:N,tags:Be,leqno:Y}}function Iv(h){return h.slice(0,1)==="d"?"display":"text"}const rs=function(h,u){let f,p;const v=h.body.length,S=h.hLinesBeforeRow;let P=0,N=new Array(v);const j=[],z=Math.max(u.fontMetrics().arrayRuleWidth,u.minRuleThickness),V=1/u.fontMetrics().ptPerEm;let H=5*V;h.colSeparationType&&h.colSeparationType==="small"&&(H=.2778*(u.havingStyle(ee.SCRIPT).sizeMultiplier/u.sizeMultiplier));const Y=h.colSeparationType==="CD"?Dt({number:3,unit:"ex"},u):12*V,re=3*V,ke=h.arraystretch*Y,Ae=.7*ke,We=.3*ke;let Be=0;function Ge(Ze){for(let it=0;it<Ze.length;++it)it>0&&(Be+=.25),j.push({pos:Be,isDashed:Ze[it]})}for(Ge(S[0]),f=0;f<h.body.length;++f){const Ze=h.body[f];let it=Ae,wt=We;P<Ze.length&&(P=Ze.length);const Ct=new Array(Ze.length);for(p=0;p<Ze.length;++p){const pi=Je(Ze[p],u);wt<pi.depth&&(wt=pi.depth),it<pi.height&&(it=pi.height),Ct[p]=pi}const Vt=h.rowGaps[f];let Lt=0;Vt&&(Lt=Dt(Vt,u),Lt>0&&(Lt+=We,wt<Lt&&(wt=Lt),Lt=0)),h.addJot&&(wt+=re),Ct.height=it,Ct.depth=wt,Be+=it,Ct.pos=Be,Be+=wt+Lt,N[f]=Ct,Ge(S[f+1])}const rt=Be/2+u.fontMetrics().axisHeight,pt=h.cols||[],cr=[];let cn,mi;const mu=[];if(h.tags&&h.tags.some(Ze=>Ze))for(f=0;f<v;++f){const Ze=N[f],it=Ze.pos-rt,wt=h.tags[f];let Ct;wt===!0?Ct=W.makeSpan(["eqn-num"],[],u):wt===!1?Ct=W.makeSpan([],[],u):Ct=W.makeSpan([],un(wt,u,!0),u),Ct.depth=Ze.depth,Ct.height=Ze.height,mu.push({type:"elem",elem:Ct,shift:it})}for(p=0,mi=0;p<P||mi<pt.length;++p,++mi){let Ze=pt[mi]||{},it=!0;for(;Ze.type==="separator";){if(it||(cn=W.makeSpan(["arraycolsep"],[]),cn.style.width=me(u.fontMetrics().doubleRuleSep),cr.push(cn)),Ze.separator==="|"||Ze.separator===":"){const Vt=Ze.separator==="|"?"solid":"dashed",Lt=W.makeSpan(["vertical-separator"],[],u);Lt.style.height=me(Be),Lt.style.borderRightWidth=me(z),Lt.style.borderRightStyle=Vt,Lt.style.margin="0 "+me(-z/2);const pi=Be-rt;pi&&(Lt.style.verticalAlign=me(-pi)),cr.push(Lt)}else throw new s("Invalid separator type: "+Ze.separator);mi++,Ze=pt[mi]||{},it=!1}if(p>=P)continue;let wt;(p>0||h.hskipBeforeAndAfter)&&(wt=x.deflt(Ze.pregap,H),wt!==0&&(cn=W.makeSpan(["arraycolsep"],[]),cn.style.width=me(wt),cr.push(cn)));let Ct=[];for(f=0;f<v;++f){const Vt=N[f],Lt=Vt[p];if(!Lt)continue;const pi=Vt.pos-rt;Lt.depth=Vt.depth,Lt.height=Vt.height,Ct.push({type:"elem",elem:Lt,shift:pi})}Ct=W.makeVList({positionType:"individualShift",children:Ct},u),Ct=W.makeSpan(["col-align-"+(Ze.align||"c")],[Ct]),cr.push(Ct),(p<P-1||h.hskipBeforeAndAfter)&&(wt=x.deflt(Ze.postgap,H),wt!==0&&(cn=W.makeSpan(["arraycolsep"],[]),cn.style.width=me(wt),cr.push(cn)))}if(N=W.makeSpan(["mtable"],cr),j.length>0){const Ze=W.makeLineSpan("hline",u,z),it=W.makeLineSpan("hdashline",u,z),wt=[{type:"elem",elem:N,shift:0}];for(;j.length>0;){const Ct=j.pop(),Vt=Ct.pos-rt;Ct.isDashed?wt.push({type:"elem",elem:it,shift:Vt}):wt.push({type:"elem",elem:Ze,shift:Vt})}N=W.makeVList({positionType:"individualShift",children:wt},u)}if(mu.length===0)return W.makeSpan(["mord"],[N],u);{let Ze=W.makeVList({positionType:"individualShift",children:mu},u);return Ze=W.makeSpan(["tag"],[Ze],u),W.makeFragment([N,Ze])}},wz={c:"center ",l:"left ",r:"right "},is=function(h,u){const f=[],p=new oe.MathNode("mtd",[],["mtr-glue"]),v=new oe.MathNode("mtd",[],["mml-eqn-num"]);for(let H=0;H<h.body.length;H++){const Y=h.body[H],re=[];for(let ke=0;ke<Y.length;ke++)re.push(new oe.MathNode("mtd",[dt(Y[ke],u)]));h.tags&&h.tags[H]&&(re.unshift(p),re.push(p),h.leqno?re.unshift(v):re.push(v)),f.push(new oe.MathNode("mtr",re))}let S=new oe.MathNode("mtable",f);const P=h.arraystretch===.5?.1:.16+h.arraystretch-1+(h.addJot?.09:0);S.setAttribute("rowspacing",me(P));let N="",j="";if(h.cols&&h.cols.length>0){const H=h.cols;let Y="",re=!1,ke=0,Ae=H.length;H[0].type==="separator"&&(N+="top ",ke=1),H[H.length-1].type==="separator"&&(N+="bottom ",Ae-=1);for(let We=ke;We<Ae;We++)H[We].type==="align"?(j+=wz[H[We].align],re&&(Y+="none "),re=!0):H[We].type==="separator"&&re&&(Y+=H[We].separator==="|"?"solid ":"dashed ",re=!1);S.setAttribute("columnalign",j.trim()),/[sd]/.test(Y)&&S.setAttribute("columnlines",Y.trim())}if(h.colSeparationType==="align"){const H=h.cols||[];let Y="";for(let re=1;re<H.length;re++)Y+=re%2?"0em ":"1em ";S.setAttribute("columnspacing",Y.trim())}else h.colSeparationType==="alignat"||h.colSeparationType==="gather"?S.setAttribute("columnspacing","0em"):h.colSeparationType==="small"?S.setAttribute("columnspacing","0.2778em"):h.colSeparationType==="CD"?S.setAttribute("columnspacing","0.5em"):S.setAttribute("columnspacing","1em");let z="";const V=h.hLinesBeforeRow;N+=V[0].length>0?"left ":"",N+=V[V.length-1].length>0?"right ":"";for(let H=1;H<V.length-1;H++)z+=V[H].length===0?"none ":V[H][0]?"dashed ":"solid ";return/[sd]/.test(z)&&S.setAttribute("rowlines",z.trim()),N!==""&&(S=new oe.MathNode("menclose",[S]),S.setAttribute("notation",N.trim())),h.arraystretch&&h.arraystretch<1&&(S=new oe.MathNode("mstyle",[S]),S.setAttribute("scriptlevel","1")),S},b8=function(h,u){h.envName.indexOf("ed")===-1&&$f(h);const f=[],p=h.envName.indexOf("at")>-1?"alignat":"align",v=h.envName==="split",S=Ma(h.parser,{cols:f,addJot:!0,autoTag:v?void 0:Tv(h.envName),emptySingleRow:!0,colSeparationType:p,maxNumCols:v?2:void 0,leqno:h.parser.settings.leqno},"display");let P,N=0;const j={type:"ordgroup",mode:h.mode,body:[]};if(u[0]&&u[0].type==="ordgroup"){let V="";for(let H=0;H<u[0].body.length;H++){const Y=Fe(u[0].body[H],"textord");V+=Y.text}P=Number(V),N=P*2}const z=!N;S.body.forEach(function(V){for(let H=1;H<V.length;H+=2){const Y=Fe(V[H],"styling");Fe(Y.body[0],"ordgroup").body.unshift(j)}if(z)N<V.length&&(N=V.length);else{const H=V.length/2;if(P<H)throw new s("Too many math in a row: "+("expected "+P+", but got "+H),V[0])}});for(let V=0;V<N;++V){let H="r",Y=0;V%2===1?H="l":V>0&&z&&(Y=1),f[V]={type:"align",align:H,pregap:Y,postgap:0}}return S.colSeparationType=z?"align":"alignat",S};ns({type:"array",names:["array","darray"],props:{numArgs:1},handler(h,u){const v=(Mf(u[0])?[u[0]]:Fe(u[0],"ordgroup").body).map(function(P){const j=mv(P).text;if("lcr".indexOf(j)!==-1)return{type:"align",align:j};if(j==="|")return{type:"separator",separator:"|"};if(j===":")return{type:"separator",separator:":"};throw new s("Unknown column alignment: "+j,P)}),S={cols:v,hskipBeforeAndAfter:!0,maxNumCols:v.length};return Ma(h.parser,S,Iv(h.envName))},htmlBuilder:rs,mathmlBuilder:is}),ns({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(h){const u={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[h.envName.replace("*","")];let f="c";const p={hskipBeforeAndAfter:!1,cols:[{type:"align",align:f}]};if(h.envName.charAt(h.envName.length-1)==="*"){const P=h.parser;if(P.consumeSpaces(),P.fetch().text==="["){if(P.consume(),P.consumeSpaces(),f=P.fetch().text,"lcr".indexOf(f)===-1)throw new s("Expected l or c or r",P.nextToken);P.consume(),P.consumeSpaces(),P.expect("]"),P.consume(),p.cols=[{type:"align",align:f}]}}const v=Ma(h.parser,p,Iv(h.envName)),S=Math.max(0,...v.body.map(P=>P.length));return v.cols=new Array(S).fill({type:"align",align:f}),u?{type:"leftright",mode:h.mode,body:[v],left:u[0],right:u[1],rightColor:void 0}:v},htmlBuilder:rs,mathmlBuilder:is}),ns({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(h){const u={arraystretch:.5},f=Ma(h.parser,u,"script");return f.colSeparationType="small",f},htmlBuilder:rs,mathmlBuilder:is}),ns({type:"array",names:["subarray"],props:{numArgs:1},handler(h,u){const v=(Mf(u[0])?[u[0]]:Fe(u[0],"ordgroup").body).map(function(P){const j=mv(P).text;if("lc".indexOf(j)!==-1)return{type:"align",align:j};throw new s("Unknown column alignment: "+j,P)});if(v.length>1)throw new s("{subarray} can contain only one column");let S={cols:v,hskipBeforeAndAfter:!1,arraystretch:.5};if(S=Ma(h.parser,S,"script"),S.body.length>0&&S.body[0].length>1)throw new s("{subarray} can contain only one column");return S},htmlBuilder:rs,mathmlBuilder:is}),ns({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(h){const u={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},f=Ma(h.parser,u,Iv(h.envName));return{type:"leftright",mode:h.mode,body:[f],left:h.envName.indexOf("r")>-1?".":"\\{",right:h.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:rs,mathmlBuilder:is}),ns({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:b8,htmlBuilder:rs,mathmlBuilder:is}),ns({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(h){["gather","gather*"].includes(h.envName)&&$f(h);const u={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Tv(h.envName),emptySingleRow:!0,leqno:h.parser.settings.leqno};return Ma(h.parser,u,"display")},htmlBuilder:rs,mathmlBuilder:is}),ns({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:b8,htmlBuilder:rs,mathmlBuilder:is}),ns({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(h){$f(h);const u={autoTag:Tv(h.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:h.parser.settings.leqno};return Ma(h.parser,u,"display")},htmlBuilder:rs,mathmlBuilder:is}),ns({type:"array",names:["CD"],props:{numArgs:0},handler(h){return $f(h),az(h.parser)},htmlBuilder:rs,mathmlBuilder:is}),M("\\nonumber","\\gdef\\@eqnsw{0}"),M("\\notag","\\nonumber"),be({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(h,u){throw new s(h.funcName+" valid only within array environment")}});var x8=y8;be({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(h,u){let{parser:f,funcName:p}=h;const v=u[0];if(v.type!=="ordgroup")throw new s("Invalid environment name",v);let S="";for(let P=0;P<v.body.length;++P)S+=Fe(v.body[P],"textord").text;if(p==="\\begin"){if(!x8.hasOwnProperty(S))throw new s("No such environment: "+S,v);const P=x8[S],{args:N,optArgs:j}=f.parseArguments("\\begin{"+S+"}",P),z={mode:f.mode,envName:S,parser:f},V=P.handler(z,N,j);f.expect("\\end",!1);const H=f.nextToken,Y=Fe(f.parseFunction(),"environment");if(Y.name!==S)throw new s("Mismatch: \\begin{"+S+"} matched by \\end{"+Y.name+"}",H);return V}return{type:"environment",mode:f.mode,name:S,nameGroup:v}}});const k8=(h,u)=>{const f=h.font,p=u.withFont(f);return Je(h.body,p)},S8=(h,u)=>{const f=h.font,p=u.withFont(f);return dt(h.body,p)},E8={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};be({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(h,u)=>{let{parser:f,funcName:p}=h;const v=Of(u[0]);let S=p;return S in E8&&(S=E8[S]),{type:"font",mode:f.mode,font:S.slice(1),body:v}},htmlBuilder:k8,mathmlBuilder:S8}),be({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(h,u)=>{let{parser:f}=h;const p=u[0],v=x.isCharacterBox(p);return{type:"mclass",mode:f.mode,mclass:Rf(p),body:[{type:"font",mode:f.mode,font:"boldsymbol",body:p}],isCharacterBox:v}}}),be({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(h,u)=>{let{parser:f,funcName:p,breakOnTokenText:v}=h;const{mode:S}=f,P=f.parseExpression(!0,v),N="math"+p.slice(1);return{type:"font",mode:S,font:N,body:{type:"ordgroup",mode:f.mode,body:P}}},htmlBuilder:k8,mathmlBuilder:S8});const _8=(h,u)=>{let f=u;return h==="display"?f=f.id>=ee.SCRIPT.id?f.text():ee.DISPLAY:h==="text"&&f.size===ee.DISPLAY.size?f=ee.TEXT:h==="script"?f=ee.SCRIPT:h==="scriptscript"&&(f=ee.SCRIPTSCRIPT),f},Av=(h,u)=>{const f=_8(h.size,u.style),p=f.fracNum(),v=f.fracDen();let S;S=u.havingStyle(p);const P=Je(h.numer,S,u);if(h.continued){const Ge=8.5/u.fontMetrics().ptPerEm,rt=3.5/u.fontMetrics().ptPerEm;P.height=P.height<Ge?Ge:P.height,P.depth=P.depth<rt?rt:P.depth}S=u.havingStyle(v);const N=Je(h.denom,S,u);let j,z,V;h.hasBarLine?(h.barSize?(z=Dt(h.barSize,u),j=W.makeLineSpan("frac-line",u,z)):j=W.makeLineSpan("frac-line",u),z=j.height,V=j.height):(j=null,z=0,V=u.fontMetrics().defaultRuleThickness);let H,Y,re;f.size===ee.DISPLAY.size||h.size==="display"?(H=u.fontMetrics().num1,z>0?Y=3*V:Y=7*V,re=u.fontMetrics().denom1):(z>0?(H=u.fontMetrics().num2,Y=V):(H=u.fontMetrics().num3,Y=3*V),re=u.fontMetrics().denom2);let ke;if(j){const Ge=u.fontMetrics().axisHeight;H-P.depth-(Ge+.5*z)<Y&&(H+=Y-(H-P.depth-(Ge+.5*z))),Ge-.5*z-(N.height-re)<Y&&(re+=Y-(Ge-.5*z-(N.height-re)));const rt=-(Ge-.5*z);ke=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:N,shift:re},{type:"elem",elem:j,shift:rt},{type:"elem",elem:P,shift:-H}]},u)}else{const Ge=H-P.depth-(N.height-re);Ge<Y&&(H+=.5*(Y-Ge),re+=.5*(Y-Ge)),ke=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:N,shift:re},{type:"elem",elem:P,shift:-H}]},u)}S=u.havingStyle(f),ke.height*=S.sizeMultiplier/u.sizeMultiplier,ke.depth*=S.sizeMultiplier/u.sizeMultiplier;let Ae;f.size===ee.DISPLAY.size?Ae=u.fontMetrics().delim1:f.size===ee.SCRIPTSCRIPT.size?Ae=u.havingStyle(ee.SCRIPT).fontMetrics().delim2:Ae=u.fontMetrics().delim2;let We,Be;return h.leftDelim==null?We=gh(u,["mopen"]):We=$s.customSizedDelim(h.leftDelim,Ae,!0,u.havingStyle(f),h.mode,["mopen"]),h.continued?Be=W.makeSpan([]):h.rightDelim==null?Be=gh(u,["mclose"]):Be=$s.customSizedDelim(h.rightDelim,Ae,!0,u.havingStyle(f),h.mode,["mclose"]),W.makeSpan(["mord"].concat(S.sizingClasses(u)),[We,W.makeSpan(["mfrac"],[ke]),Be],u)},Cv=(h,u)=>{let f=new oe.MathNode("mfrac",[dt(h.numer,u),dt(h.denom,u)]);if(!h.hasBarLine)f.setAttribute("linethickness","0px");else if(h.barSize){const v=Dt(h.barSize,u);f.setAttribute("linethickness",me(v))}const p=_8(h.size,u.style);if(p.size!==u.style.size){f=new oe.MathNode("mstyle",[f]);const v=p.size===ee.DISPLAY.size?"true":"false";f.setAttribute("displaystyle",v),f.setAttribute("scriptlevel","0")}if(h.leftDelim!=null||h.rightDelim!=null){const v=[];if(h.leftDelim!=null){const S=new oe.MathNode("mo",[new oe.TextNode(h.leftDelim.replace("\\",""))]);S.setAttribute("fence","true"),v.push(S)}if(v.push(f),h.rightDelim!=null){const S=new oe.MathNode("mo",[new oe.TextNode(h.rightDelim.replace("\\",""))]);S.setAttribute("fence","true"),v.push(S)}return hv(v)}return f};be({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(h,u)=>{let{parser:f,funcName:p}=h;const v=u[0],S=u[1];let P,N=null,j=null,z="auto";switch(p){case"\\dfrac":case"\\frac":case"\\tfrac":P=!0;break;case"\\\\atopfrac":P=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":P=!1,N="(",j=")";break;case"\\\\bracefrac":P=!1,N="\\{",j="\\}";break;case"\\\\brackfrac":P=!1,N="[",j="]";break;default:throw new Error("Unrecognized genfrac command")}switch(p){case"\\dfrac":case"\\dbinom":z="display";break;case"\\tfrac":case"\\tbinom":z="text";break}return{type:"genfrac",mode:f.mode,continued:!1,numer:v,denom:S,hasBarLine:P,leftDelim:N,rightDelim:j,size:z,barSize:null}},htmlBuilder:Av,mathmlBuilder:Cv}),be({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(h,u)=>{let{parser:f,funcName:p}=h;const v=u[0],S=u[1];return{type:"genfrac",mode:f.mode,continued:!0,numer:v,denom:S,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),be({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(h){let{parser:u,funcName:f,token:p}=h,v;switch(f){case"\\over":v="\\frac";break;case"\\choose":v="\\binom";break;case"\\atop":v="\\\\atopfrac";break;case"\\brace":v="\\\\bracefrac";break;case"\\brack":v="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:u.mode,replaceWith:v,token:p}}});const T8=["display","text","script","scriptscript"],I8=function(h){let u=null;return h.length>0&&(u=h,u=u==="."?null:u),u};be({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(h,u){let{parser:f}=h;const p=u[4],v=u[5],S=Of(u[0]),P=S.type==="atom"&&S.family==="open"?I8(S.text):null,N=Of(u[1]),j=N.type==="atom"&&N.family==="close"?I8(N.text):null,z=Fe(u[2],"size");let V,H=null;z.isBlank?V=!0:(H=z.value,V=H.number>0);let Y="auto",re=u[3];if(re.type==="ordgroup"){if(re.body.length>0){const ke=Fe(re.body[0],"textord");Y=T8[Number(ke.text)]}}else re=Fe(re,"textord"),Y=T8[Number(re.text)];return{type:"genfrac",mode:f.mode,numer:p,denom:v,continued:!1,hasBarLine:V,barSize:H,leftDelim:P,rightDelim:j,size:Y}},htmlBuilder:Av,mathmlBuilder:Cv}),be({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(h,u){let{parser:f,funcName:p,token:v}=h;return{type:"infix",mode:f.mode,replaceWith:"\\\\abovefrac",size:Fe(u[0],"size").value,token:v}}}),be({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(h,u)=>{let{parser:f,funcName:p}=h;const v=u[0],S=b(Fe(u[1],"infix").size),P=u[2],N=S.number>0;return{type:"genfrac",mode:f.mode,numer:v,denom:P,continued:!1,hasBarLine:N,barSize:S,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Av,mathmlBuilder:Cv});const A8=(h,u)=>{const f=u.style;let p,v;h.type==="supsub"?(p=h.sup?Je(h.sup,u.havingStyle(f.sup()),u):Je(h.sub,u.havingStyle(f.sub()),u),v=Fe(h.base,"horizBrace")):v=Fe(h,"horizBrace");const S=Je(v.base,u.havingBaseStyle(ee.DISPLAY)),P=Ls.svgSpan(v,u);let N;if(v.isOver?(N=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S},{type:"kern",size:.1},{type:"elem",elem:P}]},u),N.children[0].children[0].children[1].classes.push("svg-align")):(N=W.makeVList({positionType:"bottom",positionData:S.depth+.1+P.height,children:[{type:"elem",elem:P},{type:"kern",size:.1},{type:"elem",elem:S}]},u),N.children[0].children[0].children[0].classes.push("svg-align")),p){const j=W.makeSpan(["mord",v.isOver?"mover":"munder"],[N],u);v.isOver?N=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:j},{type:"kern",size:.2},{type:"elem",elem:p}]},u):N=W.makeVList({positionType:"bottom",positionData:j.depth+.2+p.height+p.depth,children:[{type:"elem",elem:p},{type:"kern",size:.2},{type:"elem",elem:j}]},u)}return W.makeSpan(["mord",v.isOver?"mover":"munder"],[N],u)};be({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(h,u){let{parser:f,funcName:p}=h;return{type:"horizBrace",mode:f.mode,label:p,isOver:/^\\over/.test(p),base:u[0]}},htmlBuilder:A8,mathmlBuilder:(h,u)=>{const f=Ls.mathMLnode(h.label);return new oe.MathNode(h.isOver?"mover":"munder",[dt(h.base,u),f])}}),be({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(h,u)=>{let{parser:f}=h;const p=u[1],v=Fe(u[0],"url").url;return f.settings.isTrusted({command:"\\href",url:v})?{type:"href",mode:f.mode,href:v,body:Gt(p)}:f.formatUnsupportedCmd("\\href")},htmlBuilder:(h,u)=>{const f=un(h.body,u,!1);return W.makeAnchor(h.href,[],f,u)},mathmlBuilder:(h,u)=>{let f=Na(h.body,u);return f instanceof Vr||(f=new Vr("mrow",[f])),f.setAttribute("href",h.href),f}}),be({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(h,u)=>{let{parser:f}=h;const p=Fe(u[0],"url").url;if(!f.settings.isTrusted({command:"\\url",url:p}))return f.formatUnsupportedCmd("\\url");const v=[];for(let P=0;P<p.length;P++){let N=p[P];N==="~"&&(N="\\textasciitilde"),v.push({type:"textord",mode:"text",text:N})}const S={type:"text",mode:f.mode,font:"\\texttt",body:v};return{type:"href",mode:f.mode,href:p,body:Gt(S)}}}),be({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(h,u){let{parser:f}=h;return{type:"hbox",mode:f.mode,body:Gt(u[0])}},htmlBuilder(h,u){const f=un(h.body,u,!1);return W.makeFragment(f)},mathmlBuilder(h,u){return new oe.MathNode("mrow",_r(h.body,u))}}),be({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(h,u)=>{let{parser:f,funcName:p,token:v}=h;const S=Fe(u[0],"raw").string,P=u[1];f.settings.strict&&f.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let N;const j={};switch(p){case"\\htmlClass":j.class=S,N={command:"\\htmlClass",class:S};break;case"\\htmlId":j.id=S,N={command:"\\htmlId",id:S};break;case"\\htmlStyle":j.style=S,N={command:"\\htmlStyle",style:S};break;case"\\htmlData":{const z=S.split(",");for(let V=0;V<z.length;V++){const H=z[V].split("=");if(H.length!==2)throw new s("Error parsing key-value for \\htmlData");j["data-"+H[0].trim()]=H[1].trim()}N={command:"\\htmlData",attributes:j};break}default:throw new Error("Unrecognized html command")}return f.settings.isTrusted(N)?{type:"html",mode:f.mode,attributes:j,body:Gt(P)}:f.formatUnsupportedCmd(p)},htmlBuilder:(h,u)=>{const f=un(h.body,u,!1),p=["enclosing"];h.attributes.class&&p.push(...h.attributes.class.trim().split(/\s+/));const v=W.makeSpan(p,f,u);for(const S in h.attributes)S!=="class"&&h.attributes.hasOwnProperty(S)&&v.setAttribute(S,h.attributes[S]);return v},mathmlBuilder:(h,u)=>Na(h.body,u)}),be({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(h,u)=>{let{parser:f}=h;return{type:"htmlmathml",mode:f.mode,html:Gt(u[0]),mathml:Gt(u[1])}},htmlBuilder:(h,u)=>{const f=un(h.html,u,!1);return W.makeFragment(f)},mathmlBuilder:(h,u)=>Na(h.mathml,u)});const Pv=function(h){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(h))return{number:+h,unit:"bp"};{const u=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(h);if(!u)throw new s("Invalid size: '"+h+"' in \\includegraphics");const f={number:+(u[1]+u[2]),unit:u[3]};if(!Mx(f))throw new s("Invalid unit: '"+f.unit+"' in \\includegraphics.");return f}};be({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(h,u,f)=>{let{parser:p}=h,v={number:0,unit:"em"},S={number:.9,unit:"em"},P={number:0,unit:"em"},N="";if(f[0]){const V=Fe(f[0],"raw").string.split(",");for(let H=0;H<V.length;H++){const Y=V[H].split("=");if(Y.length===2){const re=Y[1].trim();switch(Y[0].trim()){case"alt":N=re;break;case"width":v=Pv(re);break;case"height":S=Pv(re);break;case"totalheight":P=Pv(re);break;default:throw new s("Invalid key: '"+Y[0]+"' in \\includegraphics.")}}}}const j=Fe(u[0],"url").url;return N===""&&(N=j,N=N.replace(/^.*[\\/]/,""),N=N.substring(0,N.lastIndexOf("."))),p.settings.isTrusted({command:"\\includegraphics",url:j})?{type:"includegraphics",mode:p.mode,alt:N,width:v,height:S,totalheight:P,src:j}:p.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(h,u)=>{const f=Dt(h.height,u);let p=0;h.totalheight.number>0&&(p=Dt(h.totalheight,u)-f);let v=0;h.width.number>0&&(v=Dt(h.width,u));const S={height:me(f+p)};v>0&&(S.width=me(v)),p>0&&(S.verticalAlign=me(-p));const P=new _F(h.src,h.alt,S);return P.height=f,P.depth=p,P},mathmlBuilder:(h,u)=>{const f=new oe.MathNode("mglyph",[]);f.setAttribute("alt",h.alt);const p=Dt(h.height,u);let v=0;if(h.totalheight.number>0&&(v=Dt(h.totalheight,u)-p,f.setAttribute("valign",me(-v))),f.setAttribute("height",me(p+v)),h.width.number>0){const S=Dt(h.width,u);f.setAttribute("width",me(S))}return f.setAttribute("src",h.src),f}}),be({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(h,u){let{parser:f,funcName:p}=h;const v=Fe(u[0],"size");if(f.settings.strict){const S=p[1]==="m",P=v.value.unit==="mu";S?(P||f.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" supports only mu units, "+("not "+v.value.unit+" units")),f.mode!=="math"&&f.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" works only in math mode")):P&&f.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" doesn't support mu units")}return{type:"kern",mode:f.mode,dimension:v.value}},htmlBuilder(h,u){return W.makeGlue(h.dimension,u)},mathmlBuilder(h,u){const f=Dt(h.dimension,u);return new oe.SpaceNode(f)}}),be({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(h,u)=>{let{parser:f,funcName:p}=h;const v=u[0];return{type:"lap",mode:f.mode,alignment:p.slice(5),body:v}},htmlBuilder:(h,u)=>{let f;h.alignment==="clap"?(f=W.makeSpan([],[Je(h.body,u)]),f=W.makeSpan(["inner"],[f],u)):f=W.makeSpan(["inner"],[Je(h.body,u)]);const p=W.makeSpan(["fix"],[]);let v=W.makeSpan([h.alignment],[f,p],u);const S=W.makeSpan(["strut"]);return S.style.height=me(v.height+v.depth),v.depth&&(S.style.verticalAlign=me(-v.depth)),v.children.unshift(S),v=W.makeSpan(["thinbox"],[v],u),W.makeSpan(["mord","vbox"],[v],u)},mathmlBuilder:(h,u)=>{const f=new oe.MathNode("mpadded",[dt(h.body,u)]);if(h.alignment!=="rlap"){const p=h.alignment==="llap"?"-1":"-0.5";f.setAttribute("lspace",p+"width")}return f.setAttribute("width","0px"),f}}),be({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(h,u){let{funcName:f,parser:p}=h;const v=p.mode;p.switchMode("math");const S=f==="\\("?"\\)":"$",P=p.parseExpression(!1,S);return p.expect(S),p.switchMode(v),{type:"styling",mode:p.mode,style:"text",body:P}}}),be({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(h,u){throw new s("Mismatched "+h.funcName)}});const C8=(h,u)=>{switch(u.style.size){case ee.DISPLAY.size:return h.display;case ee.TEXT.size:return h.text;case ee.SCRIPT.size:return h.script;case ee.SCRIPTSCRIPT.size:return h.scriptscript;default:return h.text}};be({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(h,u)=>{let{parser:f}=h;return{type:"mathchoice",mode:f.mode,display:Gt(u[0]),text:Gt(u[1]),script:Gt(u[2]),scriptscript:Gt(u[3])}},htmlBuilder:(h,u)=>{const f=C8(h,u),p=un(f,u,!1);return W.makeFragment(p)},mathmlBuilder:(h,u)=>{const f=C8(h,u);return Na(f,u)}});const P8=(h,u,f,p,v,S,P)=>{h=W.makeSpan([],[h]);const N=f&&x.isCharacterBox(f);let j,z;if(u){const Y=Je(u,p.havingStyle(v.sup()),p);z={elem:Y,kern:Math.max(p.fontMetrics().bigOpSpacing1,p.fontMetrics().bigOpSpacing3-Y.depth)}}if(f){const Y=Je(f,p.havingStyle(v.sub()),p);j={elem:Y,kern:Math.max(p.fontMetrics().bigOpSpacing2,p.fontMetrics().bigOpSpacing4-Y.height)}}let V;if(z&&j){const Y=p.fontMetrics().bigOpSpacing5+j.elem.height+j.elem.depth+j.kern+h.depth+P;V=W.makeVList({positionType:"bottom",positionData:Y,children:[{type:"kern",size:p.fontMetrics().bigOpSpacing5},{type:"elem",elem:j.elem,marginLeft:me(-S)},{type:"kern",size:j.kern},{type:"elem",elem:h},{type:"kern",size:z.kern},{type:"elem",elem:z.elem,marginLeft:me(S)},{type:"kern",size:p.fontMetrics().bigOpSpacing5}]},p)}else if(j){const Y=h.height-P;V=W.makeVList({positionType:"top",positionData:Y,children:[{type:"kern",size:p.fontMetrics().bigOpSpacing5},{type:"elem",elem:j.elem,marginLeft:me(-S)},{type:"kern",size:j.kern},{type:"elem",elem:h}]},p)}else if(z){const Y=h.depth+P;V=W.makeVList({positionType:"bottom",positionData:Y,children:[{type:"elem",elem:h},{type:"kern",size:z.kern},{type:"elem",elem:z.elem,marginLeft:me(S)},{type:"kern",size:p.fontMetrics().bigOpSpacing5}]},p)}else return h;const H=[V];if(j&&S!==0&&!N){const Y=W.makeSpan(["mspace"],[],p);Y.style.marginRight=me(S),H.unshift(Y)}return W.makeSpan(["mop","op-limits"],H,p)},O8=["\\smallint"],fu=(h,u)=>{let f,p,v=!1,S;h.type==="supsub"?(f=h.sup,p=h.sub,S=Fe(h.base,"op"),v=!0):S=Fe(h,"op");const P=u.style;let N=!1;P.size===ee.DISPLAY.size&&S.symbol&&!O8.includes(S.name)&&(N=!0);let j;if(S.symbol){const H=N?"Size2-Regular":"Size1-Regular";let Y="";if((S.name==="\\oiint"||S.name==="\\oiiint")&&(Y=S.name.slice(1),S.name=Y==="oiint"?"\\iint":"\\iiint"),j=W.makeSymbol(S.name,H,"math",u,["mop","op-symbol",N?"large-op":"small-op"]),Y.length>0){const re=j.italic,ke=W.staticSvg(Y+"Size"+(N?"2":"1"),u);j=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:0},{type:"elem",elem:ke,shift:N?.08:0}]},u),S.name="\\"+Y,j.classes.unshift("mop"),j.italic=re}}else if(S.body){const H=un(S.body,u,!0);H.length===1&&H[0]instanceof di?(j=H[0],j.classes[0]="mop"):j=W.makeSpan(["mop"],H,u)}else{const H=[];for(let Y=1;Y<S.name.length;Y++)H.push(W.mathsym(S.name[Y],S.mode,u));j=W.makeSpan(["mop"],H,u)}let z=0,V=0;return(j instanceof di||S.name==="\\oiint"||S.name==="\\oiiint")&&!S.suppressBaseShift&&(z=(j.height-j.depth)/2-u.fontMetrics().axisHeight,V=j.italic),v?P8(j,f,p,u,P,V,z):(z&&(j.style.position="relative",j.style.top=me(z)),j)},wh=(h,u)=>{let f;if(h.symbol)f=new Vr("mo",[fi(h.name,h.mode)]),O8.includes(h.name)&&f.setAttribute("largeop","false");else if(h.body)f=new Vr("mo",_r(h.body,u));else{f=new Vr("mi",[new ts(h.name.slice(1))]);const p=new Vr("mo",[fi("","text")]);h.parentIsSupSub?f=new Vr("mrow",[f,p]):f=Gx([f,p])}return f},bz={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};be({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(h,u)=>{let{parser:f,funcName:p}=h,v=p;return v.length===1&&(v=bz[v]),{type:"op",mode:f.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:v}},htmlBuilder:fu,mathmlBuilder:wh}),be({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(h,u)=>{let{parser:f}=h;const p=u[0];return{type:"op",mode:f.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Gt(p)}},htmlBuilder:fu,mathmlBuilder:wh});const xz={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};be({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(h){let{parser:u,funcName:f}=h;return{type:"op",mode:u.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:f}},htmlBuilder:fu,mathmlBuilder:wh}),be({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(h){let{parser:u,funcName:f}=h;return{type:"op",mode:u.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:f}},htmlBuilder:fu,mathmlBuilder:wh}),be({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(h){let{parser:u,funcName:f}=h,p=f;return p.length===1&&(p=xz[p]),{type:"op",mode:u.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:p}},htmlBuilder:fu,mathmlBuilder:wh});const N8=(h,u)=>{let f,p,v=!1,S;h.type==="supsub"?(f=h.sup,p=h.sub,S=Fe(h.base,"operatorname"),v=!0):S=Fe(h,"operatorname");let P;if(S.body.length>0){const N=S.body.map(z=>{const V=z.text;return typeof V=="string"?{type:"textord",mode:z.mode,text:V}:z}),j=un(N,u.withFont("mathrm"),!0);for(let z=0;z<j.length;z++){const V=j[z];V instanceof di&&(V.text=V.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}P=W.makeSpan(["mop"],j,u)}else P=W.makeSpan(["mop"],[],u);return v?P8(P,f,p,u,u.style,0,0):P};be({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(h,u)=>{let{parser:f,funcName:p}=h;const v=u[0];return{type:"operatorname",mode:f.mode,body:Gt(v),alwaysHandleSupSub:p==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:N8,mathmlBuilder:(h,u)=>{let f=_r(h.body,u.withFont("mathrm")),p=!0;for(let P=0;P<f.length;P++){const N=f[P];if(!(N instanceof oe.SpaceNode))if(N instanceof oe.MathNode)switch(N.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const j=N.children[0];N.children.length===1&&j instanceof oe.TextNode?j.text=j.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):p=!1;break}default:p=!1}else p=!1}if(p){const P=f.map(N=>N.toText()).join("");f=[new oe.TextNode(P)]}const v=new oe.MathNode("mi",f);v.setAttribute("mathvariant","normal");const S=new oe.MathNode("mo",[fi("","text")]);return h.parentIsSupSub?new oe.MathNode("mrow",[v,S]):oe.newDocumentFragment([v,S])}}),M("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Wo({type:"ordgroup",htmlBuilder(h,u){return h.semisimple?W.makeFragment(un(h.body,u,!1)):W.makeSpan(["mord"],un(h.body,u,!0),u)},mathmlBuilder(h,u){return Na(h.body,u,!0)}}),be({type:"overline",names:["\\overline"],props:{numArgs:1},handler(h,u){let{parser:f}=h;const p=u[0];return{type:"overline",mode:f.mode,body:p}},htmlBuilder(h,u){const f=Je(h.body,u.havingCrampedStyle()),p=W.makeLineSpan("overline-line",u),v=u.fontMetrics().defaultRuleThickness,S=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f},{type:"kern",size:3*v},{type:"elem",elem:p},{type:"kern",size:v}]},u);return W.makeSpan(["mord","overline"],[S],u)},mathmlBuilder(h,u){const f=new oe.MathNode("mo",[new oe.TextNode("")]);f.setAttribute("stretchy","true");const p=new oe.MathNode("mover",[dt(h.body,u),f]);return p.setAttribute("accent","true"),p}}),be({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(h,u)=>{let{parser:f}=h;const p=u[0];return{type:"phantom",mode:f.mode,body:Gt(p)}},htmlBuilder:(h,u)=>{const f=un(h.body,u.withPhantom(),!1);return W.makeFragment(f)},mathmlBuilder:(h,u)=>{const f=_r(h.body,u);return new oe.MathNode("mphantom",f)}}),be({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(h,u)=>{let{parser:f}=h;const p=u[0];return{type:"hphantom",mode:f.mode,body:p}},htmlBuilder:(h,u)=>{let f=W.makeSpan([],[Je(h.body,u.withPhantom())]);if(f.height=0,f.depth=0,f.children)for(let p=0;p<f.children.length;p++)f.children[p].height=0,f.children[p].depth=0;return f=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f}]},u),W.makeSpan(["mord"],[f],u)},mathmlBuilder:(h,u)=>{const f=_r(Gt(h.body),u),p=new oe.MathNode("mphantom",f),v=new oe.MathNode("mpadded",[p]);return v.setAttribute("height","0px"),v.setAttribute("depth","0px"),v}}),be({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(h,u)=>{let{parser:f}=h;const p=u[0];return{type:"vphantom",mode:f.mode,body:p}},htmlBuilder:(h,u)=>{const f=W.makeSpan(["inner"],[Je(h.body,u.withPhantom())]),p=W.makeSpan(["fix"],[]);return W.makeSpan(["mord","rlap"],[f,p],u)},mathmlBuilder:(h,u)=>{const f=_r(Gt(h.body),u),p=new oe.MathNode("mphantom",f),v=new oe.MathNode("mpadded",[p]);return v.setAttribute("width","0px"),v}}),be({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(h,u){let{parser:f}=h;const p=Fe(u[0],"size").value,v=u[1];return{type:"raisebox",mode:f.mode,dy:p,body:v}},htmlBuilder(h,u){const f=Je(h.body,u),p=Dt(h.dy,u);return W.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:f}]},u)},mathmlBuilder(h,u){const f=new oe.MathNode("mpadded",[dt(h.body,u)]),p=h.dy.number+h.dy.unit;return f.setAttribute("voffset",p),f}}),be({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(h){let{parser:u}=h;return{type:"internal",mode:u.mode}}}),be({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(h,u,f){let{parser:p}=h;const v=f[0],S=Fe(u[0],"size"),P=Fe(u[1],"size");return{type:"rule",mode:p.mode,shift:v&&Fe(v,"size").value,width:S.value,height:P.value}},htmlBuilder(h,u){const f=W.makeSpan(["mord","rule"],[],u),p=Dt(h.width,u),v=Dt(h.height,u),S=h.shift?Dt(h.shift,u):0;return f.style.borderRightWidth=me(p),f.style.borderTopWidth=me(v),f.style.bottom=me(S),f.width=p,f.height=v+S,f.depth=-S,f.maxFontSize=v*1.125*u.sizeMultiplier,f},mathmlBuilder(h,u){const f=Dt(h.width,u),p=Dt(h.height,u),v=h.shift?Dt(h.shift,u):0,S=u.color&&u.getColor()||"black",P=new oe.MathNode("mspace");P.setAttribute("mathbackground",S),P.setAttribute("width",me(f)),P.setAttribute("height",me(p));const N=new oe.MathNode("mpadded",[P]);return v>=0?N.setAttribute("height",me(v)):(N.setAttribute("height",me(v)),N.setAttribute("depth",me(-v))),N.setAttribute("voffset",me(v)),N}});function M8(h,u,f){const p=un(h,u,!1),v=u.sizeMultiplier/f.sizeMultiplier;for(let S=0;S<p.length;S++){const P=p[S].classes.indexOf("sizing");P<0?Array.prototype.push.apply(p[S].classes,u.sizingClasses(f)):p[S].classes[P+1]==="reset-size"+u.size&&(p[S].classes[P+1]="reset-size"+f.size),p[S].height*=v,p[S].depth*=v}return W.makeFragment(p)}const D8=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];be({type:"sizing",names:D8,props:{numArgs:0,allowedInText:!0},handler:(h,u)=>{let{breakOnTokenText:f,funcName:p,parser:v}=h;const S=v.parseExpression(!1,f);return{type:"sizing",mode:v.mode,size:D8.indexOf(p)+1,body:S}},htmlBuilder:(h,u)=>{const f=u.havingSize(h.size);return M8(h.body,f,u)},mathmlBuilder:(h,u)=>{const f=u.havingSize(h.size),p=_r(h.body,f),v=new oe.MathNode("mstyle",p);return v.setAttribute("mathsize",me(f.sizeMultiplier)),v}}),be({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(h,u,f)=>{let{parser:p}=h,v=!1,S=!1;const P=f[0]&&Fe(f[0],"ordgroup");if(P){let j="";for(let z=0;z<P.body.length;++z)if(j=P.body[z].text,j==="t")v=!0;else if(j==="b")S=!0;else{v=!1,S=!1;break}}else v=!0,S=!0;const N=u[0];return{type:"smash",mode:p.mode,body:N,smashHeight:v,smashDepth:S}},htmlBuilder:(h,u)=>{const f=W.makeSpan([],[Je(h.body,u)]);if(!h.smashHeight&&!h.smashDepth)return f;if(h.smashHeight&&(f.height=0,f.children))for(let v=0;v<f.children.length;v++)f.children[v].height=0;if(h.smashDepth&&(f.depth=0,f.children))for(let v=0;v<f.children.length;v++)f.children[v].depth=0;const p=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f}]},u);return W.makeSpan(["mord"],[p],u)},mathmlBuilder:(h,u)=>{const f=new oe.MathNode("mpadded",[dt(h.body,u)]);return h.smashHeight&&f.setAttribute("height","0px"),h.smashDepth&&f.setAttribute("depth","0px"),f}}),be({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(h,u,f){let{parser:p}=h;const v=f[0],S=u[0];return{type:"sqrt",mode:p.mode,body:S,index:v}},htmlBuilder(h,u){let f=Je(h.body,u.havingCrampedStyle());f.height===0&&(f.height=u.fontMetrics().xHeight),f=W.wrapFragment(f,u);const v=u.fontMetrics().defaultRuleThickness;let S=v;u.style.id<ee.TEXT.id&&(S=u.fontMetrics().xHeight);let P=v+S/4;const N=f.height+f.depth+P+v,{span:j,ruleWidth:z,advanceWidth:V}=$s.sqrtImage(N,u),H=j.height-z;H>f.height+f.depth+P&&(P=(P+H-f.height-f.depth)/2);const Y=j.height-f.height-P-z;f.style.paddingLeft=me(V);const re=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f,wrapperClasses:["svg-align"]},{type:"kern",size:-(f.height+Y)},{type:"elem",elem:j},{type:"kern",size:z}]},u);if(h.index){const ke=u.havingStyle(ee.SCRIPTSCRIPT),Ae=Je(h.index,ke,u),We=.6*(re.height-re.depth),Be=W.makeVList({positionType:"shift",positionData:-We,children:[{type:"elem",elem:Ae}]},u),Ge=W.makeSpan(["root"],[Be]);return W.makeSpan(["mord","sqrt"],[Ge,re],u)}else return W.makeSpan(["mord","sqrt"],[re],u)},mathmlBuilder(h,u){const{body:f,index:p}=h;return p?new oe.MathNode("mroot",[dt(f,u),dt(p,u)]):new oe.MathNode("msqrt",[dt(f,u)])}});const R8={display:ee.DISPLAY,text:ee.TEXT,script:ee.SCRIPT,scriptscript:ee.SCRIPTSCRIPT};be({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(h,u){let{breakOnTokenText:f,funcName:p,parser:v}=h;const S=v.parseExpression(!0,f),P=p.slice(1,p.length-5);return{type:"styling",mode:v.mode,style:P,body:S}},htmlBuilder(h,u){const f=R8[h.style],p=u.havingStyle(f).withFont("");return M8(h.body,p,u)},mathmlBuilder(h,u){const f=R8[h.style],p=u.havingStyle(f),v=_r(h.body,p),S=new oe.MathNode("mstyle",v),N={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[h.style];return S.setAttribute("scriptlevel",N[0]),S.setAttribute("displaystyle",N[1]),S}});const kz=function(h,u){const f=h.base;return f?f.type==="op"?f.limits&&(u.style.size===ee.DISPLAY.size||f.alwaysHandleSupSub)?fu:null:f.type==="operatorname"?f.alwaysHandleSupSub&&(u.style.size===ee.DISPLAY.size||f.limits)?N8:null:f.type==="accent"?x.isCharacterBox(f.base)?pv:null:f.type==="horizBrace"&&!h.sub===f.isOver?A8:null:null};Wo({type:"supsub",htmlBuilder(h,u){const f=kz(h,u);if(f)return f(h,u);const{base:p,sup:v,sub:S}=h,P=Je(p,u);let N,j;const z=u.fontMetrics();let V=0,H=0;const Y=p&&x.isCharacterBox(p);if(v){const rt=u.havingStyle(u.style.sup());N=Je(v,rt,u),Y||(V=P.height-rt.fontMetrics().supDrop*rt.sizeMultiplier/u.sizeMultiplier)}if(S){const rt=u.havingStyle(u.style.sub());j=Je(S,rt,u),Y||(H=P.depth+rt.fontMetrics().subDrop*rt.sizeMultiplier/u.sizeMultiplier)}let re;u.style===ee.DISPLAY?re=z.sup1:u.style.cramped?re=z.sup3:re=z.sup2;const ke=u.sizeMultiplier,Ae=me(.5/z.ptPerEm/ke);let We=null;if(j){const rt=h.base&&h.base.type==="op"&&h.base.name&&(h.base.name==="\\oiint"||h.base.name==="\\oiiint");(P instanceof di||rt)&&(We=me(-P.italic))}let Be;if(N&&j){V=Math.max(V,re,N.depth+.25*z.xHeight),H=Math.max(H,z.sub2);const pt=4*z.defaultRuleThickness;if(V-N.depth-(j.height-H)<pt){H=pt-(V-N.depth)+j.height;const cn=.8*z.xHeight-(V-N.depth);cn>0&&(V+=cn,H-=cn)}const cr=[{type:"elem",elem:j,shift:H,marginRight:Ae,marginLeft:We},{type:"elem",elem:N,shift:-V,marginRight:Ae}];Be=W.makeVList({positionType:"individualShift",children:cr},u)}else if(j){H=Math.max(H,z.sub1,j.height-.8*z.xHeight);const rt=[{type:"elem",elem:j,marginLeft:We,marginRight:Ae}];Be=W.makeVList({positionType:"shift",positionData:H,children:rt},u)}else if(N)V=Math.max(V,re,N.depth+.25*z.xHeight),Be=W.makeVList({positionType:"shift",positionData:-V,children:[{type:"elem",elem:N,marginRight:Ae}]},u);else throw new Error("supsub must have either sup or sub.");const Ge=uv(P,"right")||"mord";return W.makeSpan([Ge],[P,W.makeSpan(["msupsub"],[Be])],u)},mathmlBuilder(h,u){let f=!1,p,v;h.base&&h.base.type==="horizBrace"&&(v=!!h.sup,v===h.base.isOver&&(f=!0,p=h.base.isOver)),h.base&&(h.base.type==="op"||h.base.type==="operatorname")&&(h.base.parentIsSupSub=!0);const S=[dt(h.base,u)];h.sub&&S.push(dt(h.sub,u)),h.sup&&S.push(dt(h.sup,u));let P;if(f)P=p?"mover":"munder";else if(h.sub)if(h.sup){const N=h.base;N&&N.type==="op"&&N.limits&&u.style===ee.DISPLAY||N&&N.type==="operatorname"&&N.alwaysHandleSupSub&&(u.style===ee.DISPLAY||N.limits)?P="munderover":P="msubsup"}else{const N=h.base;N&&N.type==="op"&&N.limits&&(u.style===ee.DISPLAY||N.alwaysHandleSupSub)||N&&N.type==="operatorname"&&N.alwaysHandleSupSub&&(N.limits||u.style===ee.DISPLAY)?P="munder":P="msub"}else{const N=h.base;N&&N.type==="op"&&N.limits&&(u.style===ee.DISPLAY||N.alwaysHandleSupSub)||N&&N.type==="operatorname"&&N.alwaysHandleSupSub&&(N.limits||u.style===ee.DISPLAY)?P="mover":P="msup"}return new oe.MathNode(P,S)}}),Wo({type:"atom",htmlBuilder(h,u){return W.mathsym(h.text,h.mode,u,["m"+h.family])},mathmlBuilder(h,u){const f=new oe.MathNode("mo",[fi(h.text,h.mode)]);if(h.family==="bin"){const p=dv(h,u);p==="bold-italic"&&f.setAttribute("mathvariant",p)}else h.family==="punct"?f.setAttribute("separator","true"):(h.family==="open"||h.family==="close")&&f.setAttribute("stretchy","false");return f}});const j8={mi:"italic",mn:"normal",mtext:"normal"};Wo({type:"mathord",htmlBuilder(h,u){return W.makeOrd(h,u,"mathord")},mathmlBuilder(h,u){const f=new oe.MathNode("mi",[fi(h.text,h.mode,u)]),p=dv(h,u)||"italic";return p!==j8[f.type]&&f.setAttribute("mathvariant",p),f}}),Wo({type:"textord",htmlBuilder(h,u){return W.makeOrd(h,u,"textord")},mathmlBuilder(h,u){const f=fi(h.text,h.mode,u),p=dv(h,u)||"normal";let v;return h.mode==="text"?v=new oe.MathNode("mtext",[f]):/[0-9]/.test(h.text)?v=new oe.MathNode("mn",[f]):h.text==="\\prime"?v=new oe.MathNode("mo",[f]):v=new oe.MathNode("mi",[f]),p!==j8[v.type]&&v.setAttribute("mathvariant",p),v}});const Ov={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Nv={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Wo({type:"spacing",htmlBuilder(h,u){if(Nv.hasOwnProperty(h.text)){const f=Nv[h.text].className||"";if(h.mode==="text"){const p=W.makeOrd(h,u,"textord");return p.classes.push(f),p}else return W.makeSpan(["mspace",f],[W.mathsym(h.text,h.mode,u)],u)}else{if(Ov.hasOwnProperty(h.text))return W.makeSpan(["mspace",Ov[h.text]],[],u);throw new s('Unknown type of space "'+h.text+'"')}},mathmlBuilder(h,u){let f;if(Nv.hasOwnProperty(h.text))f=new oe.MathNode("mtext",[new oe.TextNode("")]);else{if(Ov.hasOwnProperty(h.text))return new oe.MathNode("mspace");throw new s('Unknown type of space "'+h.text+'"')}return f}});const L8=()=>{const h=new oe.MathNode("mtd",[]);return h.setAttribute("width","50%"),h};Wo({type:"tag",mathmlBuilder(h,u){const f=new oe.MathNode("mtable",[new oe.MathNode("mtr",[L8(),new oe.MathNode("mtd",[Na(h.body,u)]),L8(),new oe.MathNode("mtd",[Na(h.tag,u)])])]);return f.setAttribute("width","100%"),f}});const $8={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},F8={"\\textbf":"textbf","\\textmd":"textmd"},Sz={"\\textit":"textit","\\textup":"textup"},z8=(h,u)=>{const f=h.font;if(f){if($8[f])return u.withTextFontFamily($8[f]);if(F8[f])return u.withTextFontWeight(F8[f]);if(f==="\\emph")return u.fontShape==="textit"?u.withTextFontShape("textup"):u.withTextFontShape("textit")}else return u;return u.withTextFontShape(Sz[f])};be({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(h,u){let{parser:f,funcName:p}=h;const v=u[0];return{type:"text",mode:f.mode,body:Gt(v),font:p}},htmlBuilder(h,u){const f=z8(h,u),p=un(h.body,f,!0);return W.makeSpan(["mord","text"],p,f)},mathmlBuilder(h,u){const f=z8(h,u);return Na(h.body,f)}}),be({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(h,u){let{parser:f}=h;return{type:"underline",mode:f.mode,body:u[0]}},htmlBuilder(h,u){const f=Je(h.body,u),p=W.makeLineSpan("underline-line",u),v=u.fontMetrics().defaultRuleThickness,S=W.makeVList({positionType:"top",positionData:f.height,children:[{type:"kern",size:v},{type:"elem",elem:p},{type:"kern",size:3*v},{type:"elem",elem:f}]},u);return W.makeSpan(["mord","underline"],[S],u)},mathmlBuilder(h,u){const f=new oe.MathNode("mo",[new oe.TextNode("")]);f.setAttribute("stretchy","true");const p=new oe.MathNode("munder",[dt(h.body,u),f]);return p.setAttribute("accentunder","true"),p}}),be({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(h,u){let{parser:f}=h;return{type:"vcenter",mode:f.mode,body:u[0]}},htmlBuilder(h,u){const f=Je(h.body,u),p=u.fontMetrics().axisHeight,v=.5*(f.height-p-(f.depth+p));return W.makeVList({positionType:"shift",positionData:v,children:[{type:"elem",elem:f}]},u)},mathmlBuilder(h,u){return new oe.MathNode("mpadded",[dt(h.body,u)],["vcenter"])}}),be({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(h,u,f){throw new s("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(h,u){const f=B8(h),p=[],v=u.havingStyle(u.style.text());for(let S=0;S<f.length;S++){let P=f[S];P==="~"&&(P="\\textasciitilde"),p.push(W.makeSymbol(P,"Typewriter-Regular",h.mode,v,["mord","texttt"]))}return W.makeSpan(["mord","text"].concat(v.sizingClasses(u)),W.tryCombineChars(p),v)},mathmlBuilder(h,u){const f=new oe.TextNode(B8(h)),p=new oe.MathNode("mtext",[f]);return p.setAttribute("mathvariant","monospace"),p}});const B8=h=>h.body.replace(/ /g,h.star?"":"");var Da=Wx;const U8=`[ \r
	]`,Ez="\\\\[a-zA-Z@]+",_z="\\\\[^\uD800-\uDFFF]",Tz="("+Ez+")"+U8+"*",Iz=`\\\\(
|[ \r	]+
?)[ \r	]*`,Mv="[-]",Az=new RegExp(Mv+"+$"),Cz="("+U8+"+)|"+(Iz+"|")+"([!-\\[\\]---]"+(Mv+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Mv+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Tz)+("|"+_z+")");class V8{constructor(u,f){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=u,this.settings=f,this.tokenRegex=new RegExp(Cz,"g"),this.catcodes={"%":14,"~":13}}setCatcode(u,f){this.catcodes[u]=f}lex(){const u=this.input,f=this.tokenRegex.lastIndex;if(f===u.length)return new qr("EOF",new Tr(this,f,f));const p=this.tokenRegex.exec(u);if(p===null||p.index!==f)throw new s("Unexpected character: '"+u[f]+"'",new qr(u[f],new Tr(this,f,f+1)));const v=p[6]||p[3]||(p[2]?"\\ ":" ");if(this.catcodes[v]===14){const S=u.indexOf(`
`,this.tokenRegex.lastIndex);return S===-1?(this.tokenRegex.lastIndex=u.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=S+1,this.lex()}return new qr(v,new Tr(this,f,this.tokenRegex.lastIndex))}}class Pz{constructor(u,f){u===void 0&&(u={}),f===void 0&&(f={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=f,this.builtins=u,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new s("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const u=this.undefStack.pop();for(const f in u)u.hasOwnProperty(f)&&(u[f]==null?delete this.current[f]:this.current[f]=u[f])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(u){return this.current.hasOwnProperty(u)||this.builtins.hasOwnProperty(u)}get(u){return this.current.hasOwnProperty(u)?this.current[u]:this.builtins[u]}set(u,f,p){if(p===void 0&&(p=!1),p){for(let v=0;v<this.undefStack.length;v++)delete this.undefStack[v][u];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][u]=f)}else{const v=this.undefStack[this.undefStack.length-1];v&&!v.hasOwnProperty(u)&&(v[u]=this.current[u])}f==null?delete this.current[u]:this.current[u]=f}}var Oz=v8;M("\\noexpand",function(h){const u=h.popToken();return h.isExpandable(u.text)&&(u.noexpand=!0,u.treatAsRelax=!0),{tokens:[u],numArgs:0}}),M("\\expandafter",function(h){const u=h.popToken();return h.expandOnce(!0),{tokens:[u],numArgs:0}}),M("\\@firstoftwo",function(h){return{tokens:h.consumeArgs(2)[0],numArgs:0}}),M("\\@secondoftwo",function(h){return{tokens:h.consumeArgs(2)[1],numArgs:0}}),M("\\@ifnextchar",function(h){const u=h.consumeArgs(3);h.consumeSpaces();const f=h.future();return u[0].length===1&&u[0][0].text===f.text?{tokens:u[1],numArgs:0}:{tokens:u[2],numArgs:0}}),M("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),M("\\TextOrMath",function(h){const u=h.consumeArgs(2);return h.mode==="text"?{tokens:u[0],numArgs:0}:{tokens:u[1],numArgs:0}});const q8={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};M("\\char",function(h){let u=h.popToken(),f,p="";if(u.text==="'")f=8,u=h.popToken();else if(u.text==='"')f=16,u=h.popToken();else if(u.text==="`")if(u=h.popToken(),u.text[0]==="\\")p=u.text.charCodeAt(1);else{if(u.text==="EOF")throw new s("\\char` missing argument");p=u.text.charCodeAt(0)}else f=10;if(f){if(p=q8[u.text],p==null||p>=f)throw new s("Invalid base-"+f+" digit "+u.text);let v;for(;(v=q8[h.future().text])!=null&&v<f;)p*=f,p+=v,h.popToken()}return"\\@char{"+p+"}"});const Dv=(h,u,f,p)=>{let v=h.consumeArg().tokens;if(v.length!==1)throw new s("\\newcommand's first argument must be a macro name");const S=v[0].text,P=h.isDefined(S);if(P&&!u)throw new s("\\newcommand{"+S+"} attempting to redefine "+(S+"; use \\renewcommand"));if(!P&&!f)throw new s("\\renewcommand{"+S+"} when command "+S+" does not yet exist; use \\newcommand");let N=0;if(v=h.consumeArg().tokens,v.length===1&&v[0].text==="["){let j="",z=h.expandNextToken();for(;z.text!=="]"&&z.text!=="EOF";)j+=z.text,z=h.expandNextToken();if(!j.match(/^\s*[0-9]+\s*$/))throw new s("Invalid number of arguments: "+j);N=parseInt(j),v=h.consumeArg().tokens}return P&&p||h.macros.set(S,{tokens:v,numArgs:N}),""};M("\\newcommand",h=>Dv(h,!1,!0,!1)),M("\\renewcommand",h=>Dv(h,!0,!1,!1)),M("\\providecommand",h=>Dv(h,!0,!0,!0)),M("\\message",h=>{const u=h.consumeArgs(1)[0];return console.log(u.reverse().map(f=>f.text).join("")),""}),M("\\errmessage",h=>{const u=h.consumeArgs(1)[0];return console.error(u.reverse().map(f=>f.text).join("")),""}),M("\\show",h=>{const u=h.popToken(),f=u.text;return console.log(u,h.macros.get(f),Da[f],Rt.math[f],Rt.text[f]),""}),M("\\bgroup","{"),M("\\egroup","}"),M("~","\\nobreakspace"),M("\\lq","`"),M("\\rq","'"),M("\\aa","\\r a"),M("\\AA","\\r A"),M("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),M("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),M("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),M("","\\mathscr{B}"),M("","\\mathscr{E}"),M("","\\mathscr{F}"),M("","\\mathscr{H}"),M("","\\mathscr{I}"),M("","\\mathscr{L}"),M("","\\mathscr{M}"),M("","\\mathscr{R}"),M("","\\mathfrak{C}"),M("","\\mathfrak{H}"),M("","\\mathfrak{Z}"),M("\\Bbbk","\\Bbb{k}"),M("","\\cdotp"),M("\\llap","\\mathllap{\\textrm{#1}}"),M("\\rlap","\\mathrlap{\\textrm{#1}}"),M("\\clap","\\mathclap{\\textrm{#1}}"),M("\\mathstrut","\\vphantom{(}"),M("\\underbar","\\underline{\\text{#1}}"),M("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),M("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),M("\\ne","\\neq"),M("","\\neq"),M("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),M("","\\notin"),M("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),M("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),M("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),M("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),M("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),M("","\\perp"),M("","\\mathclose{!\\mkern-0.8mu!}"),M("","\\notni"),M("","\\ulcorner"),M("","\\urcorner"),M("","\\llcorner"),M("","\\lrcorner"),M("","\\copyright"),M("","\\textregistered"),M("","\\textregistered"),M("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),M("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),M("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),M("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),M("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),M("","\\vdots"),M("\\varGamma","\\mathit{\\Gamma}"),M("\\varDelta","\\mathit{\\Delta}"),M("\\varTheta","\\mathit{\\Theta}"),M("\\varLambda","\\mathit{\\Lambda}"),M("\\varXi","\\mathit{\\Xi}"),M("\\varPi","\\mathit{\\Pi}"),M("\\varSigma","\\mathit{\\Sigma}"),M("\\varUpsilon","\\mathit{\\Upsilon}"),M("\\varPhi","\\mathit{\\Phi}"),M("\\varPsi","\\mathit{\\Psi}"),M("\\varOmega","\\mathit{\\Omega}"),M("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),M("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),M("\\boxed","\\fbox{$\\displaystyle{#1}$}"),M("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),M("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),M("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),M("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),M("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const H8={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};M("\\dots",function(h){let u="\\dotso";const f=h.expandAfterFuture().text;return f in H8?u=H8[f]:(f.slice(0,4)==="\\not"||f in Rt.math&&["bin","rel"].includes(Rt.math[f].group))&&(u="\\dotsb"),u});const Rv={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};M("\\dotso",function(h){return h.future().text in Rv?"\\ldots\\,":"\\ldots"}),M("\\dotsc",function(h){const u=h.future().text;return u in Rv&&u!==","?"\\ldots\\,":"\\ldots"}),M("\\cdots",function(h){return h.future().text in Rv?"\\@cdots\\,":"\\@cdots"}),M("\\dotsb","\\cdots"),M("\\dotsm","\\cdots"),M("\\dotsi","\\!\\cdots"),M("\\dotsx","\\ldots\\,"),M("\\DOTSI","\\relax"),M("\\DOTSB","\\relax"),M("\\DOTSX","\\relax"),M("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),M("\\,","\\tmspace+{3mu}{.1667em}"),M("\\thinspace","\\,"),M("\\>","\\mskip{4mu}"),M("\\:","\\tmspace+{4mu}{.2222em}"),M("\\medspace","\\:"),M("\\;","\\tmspace+{5mu}{.2777em}"),M("\\thickspace","\\;"),M("\\!","\\tmspace-{3mu}{.1667em}"),M("\\negthinspace","\\!"),M("\\negmedspace","\\tmspace-{4mu}{.2222em}"),M("\\negthickspace","\\tmspace-{5mu}{.277em}"),M("\\enspace","\\kern.5em "),M("\\enskip","\\hskip.5em\\relax"),M("\\quad","\\hskip1em\\relax"),M("\\qquad","\\hskip2em\\relax"),M("\\tag","\\@ifstar\\tag@literal\\tag@paren"),M("\\tag@paren","\\tag@literal{({#1})}"),M("\\tag@literal",h=>{if(h.macros.get("\\df@tag"))throw new s("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),M("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),M("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),M("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),M("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),M("\\newline","\\\\\\relax"),M("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const W8=me(xn["Main-Regular"][84][1]-.7*xn["Main-Regular"][65][1]);M("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+W8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),M("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+W8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),M("\\hspace","\\@ifstar\\@hspacer\\@hspace"),M("\\@hspace","\\hskip #1\\relax"),M("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),M("\\ordinarycolon",":"),M("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),M("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),M("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),M("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),M("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),M("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),M("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),M("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),M("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),M("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),M("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),M("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),M("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),M("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),M("","\\dblcolon"),M("","\\eqcolon"),M("","\\coloneqq"),M("","\\eqqcolon"),M("","\\Coloneqq"),M("\\ratio","\\vcentcolon"),M("\\coloncolon","\\dblcolon"),M("\\colonequals","\\coloneqq"),M("\\coloncolonequals","\\Coloneqq"),M("\\equalscolon","\\eqqcolon"),M("\\equalscoloncolon","\\Eqqcolon"),M("\\colonminus","\\coloneq"),M("\\coloncolonminus","\\Coloneq"),M("\\minuscolon","\\eqcolon"),M("\\minuscoloncolon","\\Eqcolon"),M("\\coloncolonapprox","\\Colonapprox"),M("\\coloncolonsim","\\Colonsim"),M("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),M("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),M("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),M("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),M("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),M("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),M("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),M("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),M("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),M("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),M("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),M("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),M("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),M("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),M("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),M("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),M("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),M("\\nleqq","\\html@mathml{\\@nleqq}{}"),M("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),M("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),M("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),M("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),M("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),M("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),M("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),M("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),M("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),M("\\imath","\\html@mathml{\\@imath}{}"),M("\\jmath","\\html@mathml{\\@jmath}{}"),M("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),M("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),M("","\\llbracket"),M("","\\rrbracket"),M("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),M("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),M("","\\lBrace"),M("","\\rBrace"),M("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),M("","\\minuso"),M("\\darr","\\downarrow"),M("\\dArr","\\Downarrow"),M("\\Darr","\\Downarrow"),M("\\lang","\\langle"),M("\\rang","\\rangle"),M("\\uarr","\\uparrow"),M("\\uArr","\\Uparrow"),M("\\Uarr","\\Uparrow"),M("\\N","\\mathbb{N}"),M("\\R","\\mathbb{R}"),M("\\Z","\\mathbb{Z}"),M("\\alef","\\aleph"),M("\\alefsym","\\aleph"),M("\\Alpha","\\mathrm{A}"),M("\\Beta","\\mathrm{B}"),M("\\bull","\\bullet"),M("\\Chi","\\mathrm{X}"),M("\\clubs","\\clubsuit"),M("\\cnums","\\mathbb{C}"),M("\\Complex","\\mathbb{C}"),M("\\Dagger","\\ddagger"),M("\\diamonds","\\diamondsuit"),M("\\empty","\\emptyset"),M("\\Epsilon","\\mathrm{E}"),M("\\Eta","\\mathrm{H}"),M("\\exist","\\exists"),M("\\harr","\\leftrightarrow"),M("\\hArr","\\Leftrightarrow"),M("\\Harr","\\Leftrightarrow"),M("\\hearts","\\heartsuit"),M("\\image","\\Im"),M("\\infin","\\infty"),M("\\Iota","\\mathrm{I}"),M("\\isin","\\in"),M("\\Kappa","\\mathrm{K}"),M("\\larr","\\leftarrow"),M("\\lArr","\\Leftarrow"),M("\\Larr","\\Leftarrow"),M("\\lrarr","\\leftrightarrow"),M("\\lrArr","\\Leftrightarrow"),M("\\Lrarr","\\Leftrightarrow"),M("\\Mu","\\mathrm{M}"),M("\\natnums","\\mathbb{N}"),M("\\Nu","\\mathrm{N}"),M("\\Omicron","\\mathrm{O}"),M("\\plusmn","\\pm"),M("\\rarr","\\rightarrow"),M("\\rArr","\\Rightarrow"),M("\\Rarr","\\Rightarrow"),M("\\real","\\Re"),M("\\reals","\\mathbb{R}"),M("\\Reals","\\mathbb{R}"),M("\\Rho","\\mathrm{P}"),M("\\sdot","\\cdot"),M("\\sect","\\S"),M("\\spades","\\spadesuit"),M("\\sub","\\subset"),M("\\sube","\\subseteq"),M("\\supe","\\supseteq"),M("\\Tau","\\mathrm{T}"),M("\\thetasym","\\vartheta"),M("\\weierp","\\wp"),M("\\Zeta","\\mathrm{Z}"),M("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),M("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),M("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),M("\\bra","\\mathinner{\\langle{#1}|}"),M("\\ket","\\mathinner{|{#1}\\rangle}"),M("\\braket","\\mathinner{\\langle{#1}\\rangle}"),M("\\Bra","\\left\\langle#1\\right|"),M("\\Ket","\\left|#1\\right\\rangle");const K8=h=>u=>{const f=u.consumeArg().tokens,p=u.consumeArg().tokens,v=u.consumeArg().tokens,S=u.consumeArg().tokens,P=u.macros.get("|"),N=u.macros.get("\\|");u.macros.beginGroup();const j=H=>Y=>{h&&(Y.macros.set("|",P),v.length&&Y.macros.set("\\|",N));let re=H;return!H&&v.length&&Y.future().text==="|"&&(Y.popToken(),re=!0),{tokens:re?v:p,numArgs:0}};u.macros.set("|",j(!1)),v.length&&u.macros.set("\\|",j(!0));const z=u.consumeArg().tokens,V=u.expandTokens([...S,...z,...f]);return u.macros.endGroup(),{tokens:V.reverse(),numArgs:0}};M("\\bra@ket",K8(!1)),M("\\bra@set",K8(!0)),M("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),M("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),M("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),M("\\angln","{\\angl n}"),M("\\blue","\\textcolor{##6495ed}{#1}"),M("\\orange","\\textcolor{##ffa500}{#1}"),M("\\pink","\\textcolor{##ff00af}{#1}"),M("\\red","\\textcolor{##df0030}{#1}"),M("\\green","\\textcolor{##28ae7b}{#1}"),M("\\gray","\\textcolor{gray}{#1}"),M("\\purple","\\textcolor{##9d38bd}{#1}"),M("\\blueA","\\textcolor{##ccfaff}{#1}"),M("\\blueB","\\textcolor{##80f6ff}{#1}"),M("\\blueC","\\textcolor{##63d9ea}{#1}"),M("\\blueD","\\textcolor{##11accd}{#1}"),M("\\blueE","\\textcolor{##0c7f99}{#1}"),M("\\tealA","\\textcolor{##94fff5}{#1}"),M("\\tealB","\\textcolor{##26edd5}{#1}"),M("\\tealC","\\textcolor{##01d1c1}{#1}"),M("\\tealD","\\textcolor{##01a995}{#1}"),M("\\tealE","\\textcolor{##208170}{#1}"),M("\\greenA","\\textcolor{##b6ffb0}{#1}"),M("\\greenB","\\textcolor{##8af281}{#1}"),M("\\greenC","\\textcolor{##74cf70}{#1}"),M("\\greenD","\\textcolor{##1fab54}{#1}"),M("\\greenE","\\textcolor{##0d923f}{#1}"),M("\\goldA","\\textcolor{##ffd0a9}{#1}"),M("\\goldB","\\textcolor{##ffbb71}{#1}"),M("\\goldC","\\textcolor{##ff9c39}{#1}"),M("\\goldD","\\textcolor{##e07d10}{#1}"),M("\\goldE","\\textcolor{##a75a05}{#1}"),M("\\redA","\\textcolor{##fca9a9}{#1}"),M("\\redB","\\textcolor{##ff8482}{#1}"),M("\\redC","\\textcolor{##f9685d}{#1}"),M("\\redD","\\textcolor{##e84d39}{#1}"),M("\\redE","\\textcolor{##bc2612}{#1}"),M("\\maroonA","\\textcolor{##ffbde0}{#1}"),M("\\maroonB","\\textcolor{##ff92c6}{#1}"),M("\\maroonC","\\textcolor{##ed5fa6}{#1}"),M("\\maroonD","\\textcolor{##ca337c}{#1}"),M("\\maroonE","\\textcolor{##9e034e}{#1}"),M("\\purpleA","\\textcolor{##ddd7ff}{#1}"),M("\\purpleB","\\textcolor{##c6b9fc}{#1}"),M("\\purpleC","\\textcolor{##aa87ff}{#1}"),M("\\purpleD","\\textcolor{##7854ab}{#1}"),M("\\purpleE","\\textcolor{##543b78}{#1}"),M("\\mintA","\\textcolor{##f5f9e8}{#1}"),M("\\mintB","\\textcolor{##edf2df}{#1}"),M("\\mintC","\\textcolor{##e0e5cc}{#1}"),M("\\grayA","\\textcolor{##f6f7f7}{#1}"),M("\\grayB","\\textcolor{##f0f1f2}{#1}"),M("\\grayC","\\textcolor{##e3e5e6}{#1}"),M("\\grayD","\\textcolor{##d6d8da}{#1}"),M("\\grayE","\\textcolor{##babec2}{#1}"),M("\\grayF","\\textcolor{##888d93}{#1}"),M("\\grayG","\\textcolor{##626569}{#1}"),M("\\grayH","\\textcolor{##3b3e40}{#1}"),M("\\grayI","\\textcolor{##21242c}{#1}"),M("\\kaBlue","\\textcolor{##314453}{#1}"),M("\\kaGreen","\\textcolor{##71B307}{#1}");const G8={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Nz{constructor(u,f,p){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=f,this.expansionCount=0,this.feed(u),this.macros=new Pz(Oz,f.macros),this.mode=p,this.stack=[]}feed(u){this.lexer=new V8(u,this.settings)}switchMode(u){this.mode=u}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(u){this.stack.push(u)}pushTokens(u){this.stack.push(...u)}scanArgument(u){let f,p,v;if(u){if(this.consumeSpaces(),this.future().text!=="[")return null;f=this.popToken(),{tokens:v,end:p}=this.consumeArg(["]"])}else({tokens:v,start:f,end:p}=this.consumeArg());return this.pushToken(new qr("EOF",p.loc)),this.pushTokens(v),new qr("",Tr.range(f,p))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(u){const f=[],p=u&&u.length>0;p||this.consumeSpaces();const v=this.future();let S,P=0,N=0;do{if(S=this.popToken(),f.push(S),S.text==="{")++P;else if(S.text==="}"){if(--P,P===-1)throw new s("Extra }",S)}else if(S.text==="EOF")throw new s("Unexpected end of input in a macro argument, expected '"+(u&&p?u[N]:"}")+"'",S);if(u&&p)if((P===0||P===1&&u[N]==="{")&&S.text===u[N]){if(++N,N===u.length){f.splice(-N,N);break}}else N=0}while(P!==0||p);return v.text==="{"&&f[f.length-1].text==="}"&&(f.pop(),f.shift()),f.reverse(),{tokens:f,start:v,end:S}}consumeArgs(u,f){if(f){if(f.length!==u+1)throw new s("The length of delimiters doesn't match the number of args!");const v=f[0];for(let S=0;S<v.length;S++){const P=this.popToken();if(v[S]!==P.text)throw new s("Use of the macro doesn't match its definition",P)}}const p=[];for(let v=0;v<u;v++)p.push(this.consumeArg(f&&f[v+1]).tokens);return p}countExpansion(u){if(this.expansionCount+=u,this.expansionCount>this.settings.maxExpand)throw new s("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(u){const f=this.popToken(),p=f.text,v=f.noexpand?null:this._getExpansion(p);if(v==null||u&&v.unexpandable){if(u&&v==null&&p[0]==="\\"&&!this.isDefined(p))throw new s("Undefined control sequence: "+p);return this.pushToken(f),!1}this.countExpansion(1);let S=v.tokens;const P=this.consumeArgs(v.numArgs,v.delimiters);if(v.numArgs){S=S.slice();for(let N=S.length-1;N>=0;--N){let j=S[N];if(j.text==="#"){if(N===0)throw new s("Incomplete placeholder at end of macro body",j);if(j=S[--N],j.text==="#")S.splice(N+1,1);else if(/^[1-9]$/.test(j.text))S.splice(N,2,...P[+j.text-1]);else throw new s("Not a valid argument number",j)}}}return this.pushTokens(S),S.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const u=this.stack.pop();return u.treatAsRelax&&(u.text="\\relax"),u}throw new Error}expandMacro(u){return this.macros.has(u)?this.expandTokens([new qr(u)]):void 0}expandTokens(u){const f=[],p=this.stack.length;for(this.pushTokens(u);this.stack.length>p;)if(this.expandOnce(!0)===!1){const v=this.stack.pop();v.treatAsRelax&&(v.noexpand=!1,v.treatAsRelax=!1),f.push(v)}return this.countExpansion(f.length),f}expandMacroAsText(u){const f=this.expandMacro(u);return f&&f.map(p=>p.text).join("")}_getExpansion(u){const f=this.macros.get(u);if(f==null)return f;if(u.length===1){const v=this.lexer.catcodes[u];if(v!=null&&v!==13)return}const p=typeof f=="function"?f(this):f;if(typeof p=="string"){let v=0;if(p.indexOf("#")!==-1){const z=p.replace(/##/g,"");for(;z.indexOf("#"+(v+1))!==-1;)++v}const S=new V8(p,this.settings),P=[];let N=S.lex();for(;N.text!=="EOF";)P.push(N),N=S.lex();return P.reverse(),{tokens:P,numArgs:v}}return p}isDefined(u){return this.macros.has(u)||Da.hasOwnProperty(u)||Rt.math.hasOwnProperty(u)||Rt.text.hasOwnProperty(u)||G8.hasOwnProperty(u)}isExpandable(u){const f=this.macros.get(u);return f!=null?typeof f=="string"||typeof f=="function"||!f.unexpandable:Da.hasOwnProperty(u)&&!Da[u].primitive}}const Y8=/^[]/,Ff=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),jv={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},X8={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class zf{constructor(u,f){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Nz(u,f,this.mode),this.settings=f,this.leftrightDepth=0}expect(u,f){if(f===void 0&&(f=!0),this.fetch().text!==u)throw new s("Expected '"+u+"', got '"+this.fetch().text+"'",this.fetch());f&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(u){this.mode=u,this.gullet.switchMode(u)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const u=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),u}finally{this.gullet.endGroups()}}subparse(u){const f=this.nextToken;this.consume(),this.gullet.pushToken(new qr("}")),this.gullet.pushTokens(u);const p=this.parseExpression(!1);return this.expect("}"),this.nextToken=f,p}parseExpression(u,f){const p=[];for(;;){this.mode==="math"&&this.consumeSpaces();const v=this.fetch();if(zf.endOfExpression.indexOf(v.text)!==-1||f&&v.text===f||u&&Da[v.text]&&Da[v.text].infix)break;const S=this.parseAtom(f);if(S){if(S.type==="internal")continue}else break;p.push(S)}return this.mode==="text"&&this.formLigatures(p),this.handleInfixNodes(p)}handleInfixNodes(u){let f=-1,p;for(let v=0;v<u.length;v++)if(u[v].type==="infix"){if(f!==-1)throw new s("only one infix operator per group",u[v].token);f=v,p=u[v].replaceWith}if(f!==-1&&p){let v,S;const P=u.slice(0,f),N=u.slice(f+1);P.length===1&&P[0].type==="ordgroup"?v=P[0]:v={type:"ordgroup",mode:this.mode,body:P},N.length===1&&N[0].type==="ordgroup"?S=N[0]:S={type:"ordgroup",mode:this.mode,body:N};let j;return p==="\\\\abovefrac"?j=this.callFunction(p,[v,u[f],S],[]):j=this.callFunction(p,[v,S],[]),[j]}else return u}handleSupSubscript(u){const f=this.fetch(),p=f.text;this.consume(),this.consumeSpaces();let v;do{var S;v=this.parseGroup(u)}while(((S=v)==null?void 0:S.type)==="internal");if(!v)throw new s("Expected group after '"+p+"'",f);return v}formatUnsupportedCmd(u){const f=[];for(let S=0;S<u.length;S++)f.push({type:"textord",mode:"text",text:u[S]});const p={type:"text",mode:this.mode,body:f};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[p]}}parseAtom(u){const f=this.parseGroup("atom",u);if((f==null?void 0:f.type)==="internal"||this.mode==="text")return f;let p,v;for(;;){this.consumeSpaces();const S=this.fetch();if(S.text==="\\limits"||S.text==="\\nolimits"){if(f&&f.type==="op"){const P=S.text==="\\limits";f.limits=P,f.alwaysHandleSupSub=!0}else if(f&&f.type==="operatorname")f.alwaysHandleSupSub&&(f.limits=S.text==="\\limits");else throw new s("Limit controls must follow a math operator",S);this.consume()}else if(S.text==="^"){if(p)throw new s("Double superscript",S);p=this.handleSupSubscript("superscript")}else if(S.text==="_"){if(v)throw new s("Double subscript",S);v=this.handleSupSubscript("subscript")}else if(S.text==="'"){if(p)throw new s("Double superscript",S);const P={type:"textord",mode:this.mode,text:"\\prime"},N=[P];for(this.consume();this.fetch().text==="'";)N.push(P),this.consume();this.fetch().text==="^"&&N.push(this.handleSupSubscript("superscript")),p={type:"ordgroup",mode:this.mode,body:N}}else if(Ff[S.text]){const P=Y8.test(S.text),N=[];for(N.push(new qr(Ff[S.text])),this.consume();;){const z=this.fetch().text;if(!Ff[z]||Y8.test(z)!==P)break;N.unshift(new qr(Ff[z])),this.consume()}const j=this.subparse(N);P?v={type:"ordgroup",mode:"math",body:j}:p={type:"ordgroup",mode:"math",body:j}}else break}return p||v?{type:"supsub",mode:this.mode,base:f,sup:p,sub:v}:f}parseFunction(u,f){const p=this.fetch(),v=p.text,S=Da[v];if(!S)return null;if(this.consume(),f&&f!=="atom"&&!S.allowedInArgument)throw new s("Got function '"+v+"' with no arguments"+(f?" as "+f:""),p);if(this.mode==="text"&&!S.allowedInText)throw new s("Can't use function '"+v+"' in text mode",p);if(this.mode==="math"&&S.allowedInMath===!1)throw new s("Can't use function '"+v+"' in math mode",p);const{args:P,optArgs:N}=this.parseArguments(v,S);return this.callFunction(v,P,N,p,u)}callFunction(u,f,p,v,S){const P={funcName:u,parser:this,token:v,breakOnTokenText:S},N=Da[u];if(N&&N.handler)return N.handler(P,f,p);throw new s("No function handler for "+u)}parseArguments(u,f){const p=f.numArgs+f.numOptionalArgs;if(p===0)return{args:[],optArgs:[]};const v=[],S=[];for(let P=0;P<p;P++){let N=f.argTypes&&f.argTypes[P];const j=P<f.numOptionalArgs;(f.primitive&&N==null||f.type==="sqrt"&&P===1&&S[0]==null)&&(N="primitive");const z=this.parseGroupOfType("argument to '"+u+"'",N,j);if(j)S.push(z);else if(z!=null)v.push(z);else throw new s("Null argument, please report this as a bug")}return{args:v,optArgs:S}}parseGroupOfType(u,f,p){switch(f){case"color":return this.parseColorGroup(p);case"size":return this.parseSizeGroup(p);case"url":return this.parseUrlGroup(p);case"math":case"text":return this.parseArgumentGroup(p,f);case"hbox":{const v=this.parseArgumentGroup(p,"text");return v!=null?{type:"styling",mode:v.mode,body:[v],style:"text"}:null}case"raw":{const v=this.parseStringGroup("raw",p);return v!=null?{type:"raw",mode:"text",string:v.text}:null}case"primitive":{if(p)throw new s("A primitive argument cannot be optional");const v=this.parseGroup(u);if(v==null)throw new s("Expected group as "+u,this.fetch());return v}case"original":case null:case void 0:return this.parseArgumentGroup(p);default:throw new s("Unknown group type as "+u,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(u,f){const p=this.gullet.scanArgument(f);if(p==null)return null;let v="",S;for(;(S=this.fetch()).text!=="EOF";)v+=S.text,this.consume();return this.consume(),p.text=v,p}parseRegexGroup(u,f){const p=this.fetch();let v=p,S="",P;for(;(P=this.fetch()).text!=="EOF"&&u.test(S+P.text);)v=P,S+=v.text,this.consume();if(S==="")throw new s("Invalid "+f+": '"+p.text+"'",p);return p.range(v,S)}parseColorGroup(u){const f=this.parseStringGroup("color",u);if(f==null)return null;const p=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(f.text);if(!p)throw new s("Invalid color: '"+f.text+"'",f);let v=p[0];return/^[0-9a-f]{6}$/i.test(v)&&(v="#"+v),{type:"color-token",mode:this.mode,color:v}}parseSizeGroup(u){let f,p=!1;if(this.gullet.consumeSpaces(),!u&&this.gullet.future().text!=="{"?f=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):f=this.parseStringGroup("size",u),!f)return null;!u&&f.text.length===0&&(f.text="0pt",p=!0);const v=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(f.text);if(!v)throw new s("Invalid size: '"+f.text+"'",f);const S={number:+(v[1]+v[2]),unit:v[3]};if(!Mx(S))throw new s("Invalid unit: '"+S.unit+"'",f);return{type:"size",mode:this.mode,value:S,isBlank:p}}parseUrlGroup(u){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const f=this.parseStringGroup("url",u);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),f==null)return null;const p=f.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:p}}parseArgumentGroup(u,f){const p=this.gullet.scanArgument(u);if(p==null)return null;const v=this.mode;f&&this.switchMode(f),this.gullet.beginGroup();const S=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const P={type:"ordgroup",mode:this.mode,loc:p.loc,body:S};return f&&this.switchMode(v),P}parseGroup(u,f){const p=this.fetch(),v=p.text;let S;if(v==="{"||v==="\\begingroup"){this.consume();const P=v==="{"?"}":"\\endgroup";this.gullet.beginGroup();const N=this.parseExpression(!1,P),j=this.fetch();this.expect(P),this.gullet.endGroup(),S={type:"ordgroup",mode:this.mode,loc:Tr.range(p,j),body:N,semisimple:v==="\\begingroup"||void 0}}else if(S=this.parseFunction(f,u)||this.parseSymbol(),S==null&&v[0]==="\\"&&!G8.hasOwnProperty(v)){if(this.settings.throwOnError)throw new s("Undefined control sequence: "+v,p);S=this.formatUnsupportedCmd(v),this.consume()}return S}formLigatures(u){let f=u.length-1;for(let p=0;p<f;++p){const v=u[p],S=v.text;S==="-"&&u[p+1].text==="-"&&(p+1<f&&u[p+2].text==="-"?(u.splice(p,3,{type:"textord",mode:"text",loc:Tr.range(v,u[p+2]),text:"---"}),f-=2):(u.splice(p,2,{type:"textord",mode:"text",loc:Tr.range(v,u[p+1]),text:"--"}),f-=1)),(S==="'"||S==="`")&&u[p+1].text===S&&(u.splice(p,2,{type:"textord",mode:"text",loc:Tr.range(v,u[p+1]),text:S+S}),f-=1)}}parseSymbol(){const u=this.fetch();let f=u.text;if(/^\\verb[^a-zA-Z]/.test(f)){this.consume();let S=f.slice(5);const P=S.charAt(0)==="*";if(P&&(S=S.slice(1)),S.length<2||S.charAt(0)!==S.slice(-1))throw new s(`\\verb assertion failed --
                    please report what input caused this bug`);return S=S.slice(1,-1),{type:"verb",mode:"text",body:S,star:P}}X8.hasOwnProperty(f[0])&&!Rt[this.mode][f[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+f[0]+'" used in math mode',u),f=X8[f[0]]+f.slice(1));const p=Az.exec(f);p&&(f=f.substring(0,p.index),f==="i"?f="":f==="j"&&(f=""));let v;if(Rt[this.mode][f]){this.settings.strict&&this.mode==="math"&&sv.indexOf(f)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+f[0]+'" used in math mode',u);const S=Rt[this.mode][f].group,P=Tr.range(u);let N;if(AF.hasOwnProperty(S)){const j=S;N={type:"atom",mode:this.mode,family:j,loc:P,text:f}}else N={type:S,mode:this.mode,loc:P,text:f};v=N}else if(f.charCodeAt(0)>=128)this.settings.strict&&(jn(f.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+f[0]+'" used in math mode',u):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+f[0]+'"'+(" ("+f.charCodeAt(0)+")"),u)),v={type:"textord",mode:"text",loc:Tr.range(u),text:f};else return null;if(this.consume(),p)for(let S=0;S<p[0].length;S++){const P=p[0][S];if(!jv[P])throw new s("Unknown accent ' "+P+"'",u);const N=jv[P][this.mode]||jv[P].text;if(!N)throw new s("Accent "+P+" unsupported in "+this.mode+" mode",u);v={type:"accent",mode:this.mode,loc:Tr.range(u),label:N,isStretchy:!1,isShifty:!0,base:v}}return v}}zf.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Lv=function(h,u){if(!(typeof h=="string"||h instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const f=new zf(h,u);delete f.gullet.macros.current["\\df@tag"];let p=f.parse();if(delete f.gullet.macros.current["\\current@color"],delete f.gullet.macros.current["\\color"],f.gullet.macros.get("\\df@tag")){if(!u.displayMode)throw new s("\\tag works only in display equations");p=[{type:"tag",mode:"text",body:p,tag:f.subparse([new qr("\\df@tag")])}]}return p};let Q8=function(h,u,f){u.textContent="";const p=$v(h,f).toNode();u.appendChild(p)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Q8=function(){throw new s("KaTeX doesn't work in quirks mode.")});const Mz=function(h,u){return $v(h,u).toMarkup()},Dz=function(h,u){const f=new C(u);return Lv(h,f)},J8=function(h,u,f){if(f.throwOnError||!(h instanceof s))throw h;const p=W.makeSpan(["katex-error"],[new di(u)]);return p.setAttribute("title",h.toString()),p.setAttribute("style","color:"+f.errorColor),p},$v=function(h,u){const f=new C(u);try{const p=Lv(h,f);return YF(p,h,f)}catch(p){return J8(p,h,f)}};var Rz={version:"0.16.25",render:Q8,renderToString:Mz,ParseError:s,SETTINGS_SCHEMA:_,__parse:Dz,__renderToDomTree:$v,__renderToHTMLTree:function(h,u){const f=new C(u);try{const p=Lv(h,f);return XF(p,h,f)}catch(p){return J8(p,h,f)}},__setFontMetrics:wF,__defineSymbol:w,__defineFunction:be,__defineMacro:M,__domTree:{Span:mh,Anchor:rv,SymbolNode:di,SvgNode:Ms,PathNode:Oa,LineNode:iv}},jz=Rz;return r=r.default,r}()})}(B4)),B4.exports}(function(t,e){(function(n,r){r(e,I,Ete(),_te())})(ZT,function(n,r,i,s){Object.defineProperty(n,"__esModule",{value:!0});function a(x,_){for(var A in _)Object.defineProperty(x,A,{enumerable:!0,get:_[A]})}a(n,{BlockMath:()=>b,InlineMath:()=>k}),r=c(r),i=o(i),s=o(s);function o(x){return x&&x.__esModule?x:{default:x}}function l(x){if(typeof WeakMap!="function")return null;var _=new WeakMap,A=new WeakMap;return(l=function(C){return C?A:_})(x)}function c(x,_){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var A=l(_);if(A&&A.has(x))return A.get(x);var C={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in x)if(R!=="default"&&Object.prototype.hasOwnProperty.call(x,R)){var L=D?Object.getOwnPropertyDescriptor(x,R):null;L&&(L.get||L.set)?Object.defineProperty(C,R,L):C[R]=x[R]}return C.default=x,A&&A.set(x,C),C}const d=(x,{displayMode:_})=>{const A=({children:C,errorColor:D,math:R,renderError:L})=>{const U=R??C,{html:G,error:Z}=(0,r.useMemo)(()=>{try{return{html:s.default.renderToString(U,{displayMode:_,errorColor:D,throwOnError:!!L}),error:void 0}}catch(J){if(J instanceof s.default.ParseError||J instanceof TypeError)return{error:J};throw J}},[U,D,L]);return Z?L?L(Z):r.default.createElement(x,{html:`${Z.message}`}):r.default.createElement(x,{html:G})};return A.propTypes={children:i.default.string,errorColor:i.default.string,math:i.default.string,renderError:i.default.func},A},m={html:i.default.string.isRequired},g=({html:x})=>r.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:x}});g.propTypes=m;const y=({html:x})=>r.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:x}});y.propTypes=m;const b=d(g,{displayMode:!0}),k=d(y,{displayMode:!1})})})(nb,nb.exports);var xE=nb.exports;const rn=({children:t,block:e})=>{const n=Array.isArray(t)?t.join(""):t;return e?T.jsx(xE.BlockMath,{math:n}):T.jsx(xE.InlineMath,{math:n})};function kE(t){const e={blockquote:"blockquote",em:"em",h1:"h1",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...t.components};return T.jsxs(T.Fragment,{children:[T.jsx(e.h1,{children:"Vektor dalam Matematika: Fondasi Geometri dan Aljabar"}),`
`,T.jsxs(e.p,{children:["Dalam matematika, ",T.jsx(e.strong,{children:"vektor"})," adalah objek fundamental yang memiliki dua properti utama: ",T.jsxs(e.strong,{children:["besar (",T.jsx(e.em,{children:"magnitude"}),")"]})," dan ",T.jsxs(e.strong,{children:["arah (",T.jsx(e.em,{children:"direction"}),")"]}),". Vektor menjadi jembatan antara aljabar dan geometri, memungkinkan kita untuk mendeskripsikan posisi, perpindahan, dan hubungan spasial menggunakan angka."]}),`
`,T.jsx(e.hr,{}),`
`,T.jsx(e.h3,{children:"1. Representasi Vektor "}),`
`,T.jsx(e.p,{children:"Vektor dapat direpresentasikan dalam dua cara utama:"}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Geometris:"})," Sebagai ",T.jsx(e.strong,{children:"anak panah"})," dalam ruang. Panjang panah menunjukkan besarnya, dan arah panah menunjukkan arahnya."]}),`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Analitis:"})," Sebagai ",T.jsx(e.strong,{children:"kumpulan angka terurut"})," yang disebut komponen. Dalam ruang 2D, sebuah vektor ditulis sebagai ",T.jsx(rn,{children:"\\vec{v} = \\langle x, y \\rangle"}),", dan dalam ruang 3D sebagai ",T.jsx(rn,{children:"\\vec{v} = \\langle x, y, z \\rangle"}),"."]}),`
`]}),`
`,T.jsxs(e.p,{children:["Sebagai contoh, vektor ",T.jsx(rn,{children:"\\vec{a} = \\langle 3, 4 \\rangle"})," berarti bergerak 3 satuan ke kanan (sumbu-x) dan 4 satuan ke atas (sumbu-y)."]}),`
`,T.jsx(e.hr,{}),`
`,T.jsx(e.h3,{children:"2. Operasi Dasar Vektor "}),`
`,T.jsx(e.p,{children:"Keindahan vektor terletak pada bagaimana kita bisa memanipulasinya secara matematis."}),`
`,T.jsx(e.h4,{children:"Penjumlahan dan Pengurangan"}),`
`,T.jsxs(e.p,{children:["Menjumlahkan dua vektor berarti mengikuti satu vektor lalu dilanjutkan dengan vektor lainnya. Secara geometris, ini dikenal sebagai ",T.jsx(e.strong,{children:"aturan segitiga"})," atau ",T.jsx(e.strong,{children:"jajar genjang"}),". Secara analitis, kita cukup menjumlahkan komponennya."]}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:["Jika ",T.jsx(rn,{children:"\\vec{a} = \\langle a_1, a_2 \\rangle"})," dan ",T.jsx(rn,{children:"\\vec{b} = \\langle b_1, b_2 \\rangle"}),", maka:",`
`,T.jsx(rn,{block:!0,children:"\\vec{a} + \\vec{b} = \\langle a_1 + b_1, a_2 + b_2 \\rangle"}),`
`]}),`
`]}),`
`,T.jsx(e.h4,{children:"Perkalian Skalar"}),`
`,T.jsx(e.p,{children:"Mengalikan vektor dengan sebuah angka (skalar) akan mengubah besarnya (memperpanjang atau memperpendek). Jika skalarnya negatif, arahnya akan berbalik 180 derajat."}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:["Jika ",T.jsx(rn,{children:"k"})," adalah skalar dan ",T.jsx(rn,{children:"\\vec{a} = \\langle a_1, a_2 \\rangle"}),", maka:",`
`,T.jsx(rn,{block:!0,children:"k\\vec{a} = \\langle ka_1, ka_2 \\rangle"}),`
`]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsx(e.h3,{children:"3. Perkalian Antar Vektor"}),`
`,T.jsx(e.p,{children:"Ada dua jenis perkalian utama antara dua vektor, masing-masing dengan tujuan yang berbeda."}),`
`,T.jsx(e.h4,{children:"Dot Product (Perkalian Titik)"}),`
`,T.jsxs(e.p,{children:[T.jsx(e.em,{children:"Dot product"})," menghasilkan sebuah ",T.jsx(e.strong,{children:"angka skalar"}),", bukan vektor. Fungsinya adalah untuk menemukan sudut antara dua vektor atau panjang proyeksi satu vektor ke vektor lain."]}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Rumus Geometris:"}),`
`,T.jsx(rn,{block:!0,children:"\\vec{a} \\cdot \\vec{b} = |\\vec{a}| |\\vec{b}| \\cos(\\theta)"}),`
`]}),`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Rumus Analitis:"}),`
`,T.jsx(rn,{block:!0,children:"\\vec{a} \\cdot \\vec{b} = a_1b_1 + a_2b_2"}),`
`]}),`
`]}),`
`,T.jsxs(e.blockquote,{children:[`
`,T.jsxs(e.p,{children:[T.jsx(e.strong,{children:"Fakta Penting:"})," Jika ",T.jsx(e.em,{children:"dot product"})," dari dua vektor (yang tidak nol) adalah 0, maka kedua vektor tersebut ",T.jsx(e.strong,{children:"tegak lurus"}),"."]}),`
`]}),`
`,T.jsx(e.h4,{children:"Cross Product (Perkalian Silang)"}),`
`,T.jsxs(e.p,{children:[T.jsx(e.em,{children:"Cross product"})," (hanya ada di ruang 3D) menghasilkan sebuah ",T.jsx(e.strong,{children:"vektor baru"})," yang tegak lurus terhadap kedua vektor aslinya. Arahnya ditentukan oleh ",T.jsx(e.strong,{children:"aturan tangan kanan"}),"."]}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Rumus Besar Vektor:"}),`
`,T.jsx(rn,{block:!0,children:"|\\vec{a} \\times \\vec{b}| = |\\vec{a}| |\\vec{b}| \\sin(\\theta)"}),`
`]}),`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Aplikasi:"})," Sangat penting dalam fisika untuk menghitung torsi, momentum sudut, dan gaya magnet."]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsx(e.h3,{children:"Kesimpulan"}),`
`,T.jsxs(e.p,{children:["Vektor adalah alat esensial dalam matematika. Mereka menyediakan bahasa untuk menggambarkan ruang, melakukan transformasi geometris (seperti rotasi dan skala), dan menjadi dasar dari cabang matematika yang lebih tinggi seperti ",T.jsx(e.strong,{children:"aljabar linear"}),". Tanpa vektor, deskripsi matematis dari dunia di sekitar kita akan jauh lebih rumit."]})]})}function Tte(t={}){const{wrapper:e}=t.components||{};return e?T.jsx(e,{...t,children:T.jsx(kE,{...t})}):kE(t)}function SE(t){const e={blockquote:"blockquote",em:"em",h1:"h1",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...t.components};return T.jsxs(T.Fragment,{children:[T.jsx(e.h1,{children:"Vektor dalam Fisika: Menggambarkan Dunia di Sekitar Kita"}),`
`,T.jsxs(e.p,{children:["Dalam fisika, ",T.jsx(e.strong,{children:"vektor"})," adalah bahasa yang digunakan untuk mendeskripsikan besaran yang tidak cukup hanya dengan angka, tetapi juga membutuhkan ",T.jsx(e.strong,{children:"arah"}),". Tanpa vektor, kita tidak bisa menjelaskan bagaimana gaya mendorong, benda bergerak, atau medan berinteraksi. Vektor mengubah hukum fisika dari sekadar rumus menjadi representasi dunia nyata yang dinamis."]}),`
`,T.jsx(e.hr,{}),`
`,T.jsx(e.h3,{children:"1. Kinematika: Ilmu Gerak "}),`
`,T.jsx(e.p,{children:"Gerak adalah inti dari fisika, dan hampir semua besaran utamanya adalah vektor."}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsxs(e.strong,{children:["Posisi (",T.jsx(rn,{children:"\\vec{r}"}),"):"]})," Lokasi sebuah objek relatif terhadap titik acuan (pusat koordinat)."]}),`
`,T.jsxs(e.li,{children:[T.jsxs(e.strong,{children:["Perpindahan (",T.jsx(rn,{children:"\\Delta\\vec{r}"}),"):"]})," Perubahan posisi. Ini adalah panah lurus dari titik awal ke titik akhir, tidak peduli jalan mana yang ditempuh."]}),`
`,T.jsxs(e.li,{children:[T.jsxs(e.strong,{children:["Kecepatan (",T.jsx(rn,{children:"\\vec{v}"}),"):"]})," Seberapa cepat dan ke arah mana benda bergerak. Kecepatan adalah laju perubahan posisi."]}),`
`,T.jsxs(e.li,{children:[T.jsxs(e.strong,{children:["Percepatan (",T.jsx(rn,{children:"\\vec{a}"}),"):"]})," Laju perubahan kecepatan. Benda berbelok (mengubah arah kecepatan) berarti benda itu mengalami percepatan, bahkan jika lajunya konstan."]}),`
`]}),`
`,T.jsxs(e.blockquote,{children:[`
`,T.jsxs(e.p,{children:[T.jsx(e.strong,{children:"Contoh:"})," Sebuah mobil yang melaju 60 km/jam di tikungan memiliki kecepatan yang terus berubah karena arahnya berubah, sehingga ia mengalami percepatan."]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsx(e.h3,{children:"2. Dinamika: Gaya dan Interaksi "}),`
`,T.jsx(e.p,{children:"Gaya adalah dorongan atau tarikan, dan arahnya sangatlah penting. Hukum Kedua Newton adalah hukum vektor yang fundamental."}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Hukum Kedua Newton:"}),`
`,T.jsx(rn,{block:!0,children:"\\sum \\vec{F} = m\\vec{a}"}),`
`,"Rumus ini menyatakan bahwa ",T.jsx(e.strong,{children:"arah total gaya (resultan)"})," yang bekerja pada suatu benda sama dengan ",T.jsx(e.strong,{children:"arah percepatannya"}),". Dengan memecah vektor gaya ke komponen x dan y, kita dapat menganalisis gerakan yang kompleks, seperti benda di bidang miring."]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsxs(e.h3,{children:["3. Usaha dan Energi: Peran ",T.jsx(e.em,{children:"Dot Product"})," "]}),`
`,T.jsxs(e.p,{children:["Tidak semua gaya yang diberikan menghasilkan kerja. Konsep ",T.jsx(e.strong,{children:"usaha (Work)"})," dalam fisika didefinisikan oleh ",T.jsx(e.em,{children:"dot product"})," antara vektor gaya dan vektor perpindahan."]}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsx(e.strong,{children:"Rumus Usaha:"}),`
`,T.jsx(rn,{block:!0,children:"W = \\vec{F} \\cdot \\vec{d} = |\\vec{F}| |\\vec{d}| \\cos(\\theta)"}),`
`,"Ini secara matematis menjelaskan mengapa hanya komponen gaya yang ",T.jsx(e.strong,{children:"searah"})," dengan perpindahan yang melakukan usaha. Jika Anda membawa tas sambil berjalan lurus, gaya tangan Anda ke atas (90 derajat dari arah gerak) tidak melakukan usaha."]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsx(e.h3,{children:"4. Medan Vektor: Gaya Tak Terlihat "}),`
`,T.jsxs(e.p,{children:["Beberapa gaya, seperti gravitasi dan elektromagnetisme, bekerja dari jarak jauh. Fisikawan menggambarkan pengaruh gaya ini menggunakan ",T.jsx(e.strong,{children:"medan vektor"}),", yaitu sebuah konsep di mana setiap titik dalam ruang memiliki sebuah vektor yang terhubung dengannya."]}),`
`,T.jsxs(e.ul,{children:[`
`,T.jsxs(e.li,{children:[T.jsxs(e.strong,{children:["Medan Gravitasi (",T.jsx(rn,{children:"\\vec{g}"}),"):"]})," Di setiap titik di sekitar Bumi, ada vektor yang menunjuk ke pusat Bumi, menunjukkan arah gaya gravitasi."]}),`
`,T.jsxs(e.li,{children:[T.jsxs(e.strong,{children:["Medan Listrik (",T.jsx(rn,{children:"\\vec{E}"}),"):"]})," Di sekitar muatan listrik, ada vektor yang menunjukkan arah gaya yang akan dialami oleh muatan positif lain jika diletakkan di sana."]}),`
`]}),`
`,T.jsx(e.hr,{}),`
`,T.jsx(e.h3,{children:"Kesimpulan"}),`
`,T.jsx(e.p,{children:"Dari gerak proyektil hingga orbit planet dan interaksi partikel subatom, vektor adalah alat yang tak tergantikan dalam fisika. Mereka memungkinkan para ilmuwan untuk membangun model matematis yang akurat dari hukum alam, mengubah konsep abstrak menjadi prediksi yang dapat diuji dan dipahami."})]})}function Ite(t={}){const{wrapper:e}=t.components||{};return e?T.jsx(e,{...t,children:T.jsx(SE,{...t})}):SE(t)}const Ate=()=>T.jsxs(T.Fragment,{children:[T.jsxs(wte,{children:[T.jsx(vm,{label:"Dasar-Dasar",children:T.jsx("div",{className:"content-section",children:T.jsx(bte,{})})}),T.jsx(vm,{label:"Aplikasi di AI",children:T.jsx("div",{className:"content-section",children:T.jsx(xte,{})})}),T.jsx(vm,{label:"Aplikasi di Fisika",children:T.jsx("div",{className:"content-section",children:T.jsx(Ite,{})})}),T.jsx(vm,{label:"Aplikasi di Matematika",children:T.jsx("div",{className:"content-section",children:T.jsx(Tte,{})})})]}),T.jsxs("div",{className:"video-section",children:[T.jsx("h2",{children:"Materi Video"}),T.jsx("p",{children:"Tonton video berikut untuk pemahaman yang lebih mendalam:"}),T.jsx("h4",{children:"1. Penjumlahan Vektor (Metode Poligon & Jajar Genjang)"}),T.jsx("div",{className:"video-container",children:T.jsx("iframe",{src:"https://www.youtube.com/embed/OJrffDuVXjM",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]}),Cte=(t,{vecA:e,vecB:n,resultant:r,selectedVector:i})=>{const s=I.useCallback(()=>t.current.getContext("2d"),[t]),a=I.useCallback(()=>({x:t.current.width/2,y:t.current.height/2}),[t]),o=I.useCallback(()=>{const d=t.current;if(!d)return;const m=s(),g=a();m.clearRect(0,0,d.width,d.height),m.strokeStyle="#e0e0e0",m.lineWidth=1;for(let y=0;y<=d.width;y+=25)m.beginPath(),m.moveTo(y,0),m.lineTo(y,d.height),m.stroke();for(let y=0;y<=d.height;y+=25)m.beginPath(),m.moveTo(0,y),m.lineTo(d.width,y),m.stroke();m.strokeStyle="#9e9e9e",m.lineWidth=2,m.beginPath(),m.moveTo(0,g.y),m.lineTo(d.width,g.y),m.stroke(),m.beginPath(),m.moveTo(g.x,0),m.lineTo(g.x,d.height),m.stroke()},[t,s,a]),l=I.useCallback((d,m,g,y)=>{const b=t.current;if(!b)return;const k=s(),x=a(),_=x.x+d,A=x.y-m,C=Math.min(b.width/600,1),D=Math.max(2,3*C),R=Math.max(12,Math.floor(16*C)),L=Math.max(8,Math.floor(10*C));k.beginPath(),k.moveTo(x.x,x.y),k.lineTo(_,A),k.strokeStyle=g,k.lineWidth=D,k.stroke();const U=Math.atan2(A-x.y,_-x.x);k.save(),k.translate(_,A),k.rotate(U),k.beginPath(),k.moveTo(0,0),k.lineTo(-L,L/2),k.lineTo(-L,-L/2),k.closePath(),k.fillStyle=g,k.fill(),k.restore(),k.font=`bold ${R}px Arial`,k.fillStyle=g,k.fillText(y,_+L,A)},[t,s,a]),c=I.useCallback(()=>{o();const[d,m,g,y]=[Number(e.x),Number(e.y),Number(n.x),Number(n.y)];l(d,m,i==="A"?"orange":"red","A"),l(g,y,i==="B"?"orange":"blue","B"),r&&r.x!==void 0&&r.y!==void 0&&l(r.x,r.y,"green","R")},[o,l,e,n,r,i]);return I.useEffect(()=>{const d=t.current;if(!d)return;const m=()=>{const y=d.parentElement;if(!y)return;const b=Math.min(y.clientWidth,window.innerWidth*.95),k=Math.min(window.innerHeight*.6,400);d.width=b,d.height=k,c()};m();const g=()=>{setTimeout(m,0)};return window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g)}},[t,c]),I.useEffect(()=>{c()},[e,n,r,i,c]),{clearCanvas:o,redrawCanvas:c}},Pte=t=>{const[e,n]=I.useState({x:50,y:100}),[r,i]=I.useState({x:150,y:-50}),[s,a]=I.useState(null),o=I.useCallback((_,A)=>Math.sqrt(_*_+A*A).toFixed(2),[]),l=I.useCallback(_=>{const A=t.current;if(!A)return{x:0,y:0};const C=A.getBoundingClientRect();return{x:_.clientX-C.left,y:_.clientY-C.top}},[t]);I.useCallback(_=>{const A=t.current;if(!A)return{x:0,y:0};const C=A.getBoundingClientRect();return{x:_.touches[0].clientX-C.left,y:_.touches[0].clientY-C.top}},[t]);const c=I.useCallback(_=>{if(!s)return;const A=l(_),C=t.current;if(!C)return;const D={x:C.width/2,y:C.height/2},R=A.x-D.x,L=-(A.y-D.y);s==="A"?n({x:Math.round(R),y:Math.round(L)}):s==="B"&&i({x:Math.round(R),y:Math.round(L)})},[s,l,t]),d=I.useCallback(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d)},[c]),m=I.useCallback(_=>{s&&(document.addEventListener("mousemove",c),document.addEventListener("mouseup",d),_.preventDefault())},[s,c,d]),g=I.useCallback(_=>{s&&(c(_.touches[0]),document.addEventListener("touchmove",y,{passive:!1}),document.addEventListener("touchend",b),_.preventDefault())},[s,c,y,b]),y=I.useCallback(_=>{s&&(c(_.touches[0]),_.preventDefault())},[s,c]),b=I.useCallback(()=>{document.removeEventListener("touchmove",y),document.removeEventListener("touchend",b)},[y,b]),k=I.useCallback((_,A,C)=>{_==="A"?n(D=>({...D,[A]:Number(C)})):_==="B"&&i(D=>({...D,[A]:Number(C)}))},[]),x=I.useCallback(()=>{const[_,A,C,D]=[Number(e.x),Number(e.y),Number(r.x),Number(r.y)],[R,L]=[_+C,A+D],U=o(R,L);return{resultant:{x:R,y:L},info:{a:`Vektor A: (${_}, ${A}), |A|: ${o(_,A)}`,b:`Vektor B: (${C}, ${D}), |B|: ${o(C,D)}`,r:`Resultan R: (${R}, ${L}), |R|: ${U}`}}},[e,r,o]);return{vecA:e,setVecA:n,vecB:r,setVecB:i,selectedVector:s,setSelectedVector:a,handleMouseDown:m,handleTouchStart:g,handleTouchMove:y,handleTouchEnd:b,handleVectorInputChange:k,calculateResultant:x,calculateMagnitude:o}},Ote=t=>{const[e,n]=I.useState([]);I.useEffect(()=>{if(!t){n([]);return}const s=Fu.collection("calculations").doc(t.uid).collection("history").orderBy("timestamp","desc").limit(5).onSnapshot(a=>{const o=a.docs.map(l=>({id:l.id,...l.data()}));n(o)});return()=>s()},[t]);const r=I.useCallback(async s=>{if(t)try{await Fu.collection("calculations").doc(t.uid).collection("history").add({...s,timestamp:va.firestore.FieldValue.serverTimestamp()})}catch(a){console.error("Gagal menyimpan riwayat:",a)}},[t]),i=I.useCallback(async()=>{if(!t)return;const s=Fu.collection("calculations").doc(t.uid).collection("history");try{const a=await s.get();if(a.empty)return;const o=Fu.batch();a.docs.forEach(l=>{o.delete(l.ref)}),await o.commit()}catch(a){console.error("Gagal menghapus riwayat:",a)}},[t]);return{history:e,addHistoryEntry:r,clearHistory:i}},Nte=({vecA:t,vecB:e,selectedVector:n,onVectorChange:r,onSelectVector:i})=>T.jsxs(T.Fragment,{children:[T.jsxs("fieldset",{children:[T.jsx("legend",{children:"Pilih Vektor Aktif"}),T.jsxs("label",{className:"radio-control",children:[T.jsx("input",{type:"radio",value:"A",name:"activeVector",checked:n==="A",onChange:()=>i("A")}),"Vektor A"]}),T.jsxs("label",{className:"radio-control",children:[T.jsx("input",{type:"radio",value:"B",name:"activeVector",checked:n==="B",onChange:()=>i("B")}),"Vektor B"]}),T.jsxs("label",{className:"radio-control",children:[T.jsx("input",{type:"radio",value:"None",name:"activeVector",checked:n===null,onChange:()=>i(null)}),"Tidak Ada (Nonaktifkan Drag)"]})]}),T.jsxs("div",{className:"vector-inputs",children:[T.jsxs("fieldset",{children:[T.jsx("legend",{children:"Vektor A (Merah)"}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{children:"X:"}),T.jsx("input",{type:"number",value:t.x,onChange:s=>r("A","x",s.target.value)})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{children:"Y:"}),T.jsx("input",{type:"number",value:t.y,onChange:s=>r("A","y",s.target.value)})]})]}),T.jsxs("fieldset",{children:[T.jsx("legend",{children:"Vektor B (Biru)"}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{children:"X:"}),T.jsx("input",{type:"number",value:e.x,onChange:s=>r("B","x",s.target.value)})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{children:"Y:"}),T.jsx("input",{type:"number",value:e.y,onChange:s=>r("B","y",s.target.value)})]})]})]})]}),Mte=({onAdd:t,onReset:e})=>T.jsxs("div",{className:"actions-simulasi",children:[T.jsx("button",{onClick:t,children:"Hitung Resultan (A + B)"}),T.jsx("button",{onClick:e,className:"secondary",children:"Reset Canvas"})]}),Dte=({info:t})=>T.jsxs("div",{className:"results-simulasi",children:[T.jsx("h3",{children:"Hasil Perhitungan"}),T.jsx("p",{children:t.a}),T.jsx("p",{children:t.b}),T.jsx("p",{children:T.jsx("strong",{children:t.r})})]}),Rte=({history:t,onClear:e})=>T.jsxs("div",{className:"history-simulasi",children:[T.jsxs("div",{className:"history-header",children:[T.jsx("h3",{children:"Riwayat Simulasi"}),T.jsx("button",{onClick:e,className:"clear-history-btn",children:"Clear"})]}),T.jsx("ul",{children:t.length>0?t.map(n=>T.jsxs("li",{children:[T.jsxs("span",{children:["A(",n.vecA.x,", ",n.vecA.y,") + B(",n.vecB.x,", ",n.vecB.y,")"]}),T.jsxs("strong",{children:["R(",n.vecR.x,", ",n.vecR.y,")"]})]},n.id)):T.jsx("li",{children:"Belum ada riwayat."})})]}),jte=()=>{const[t,e]=I.useState(null),[n,r]=I.useState({a:"-",b:"-",r:"-"}),i=I.useRef(null),{currentUser:s}=uu(),{history:a,addHistoryEntry:o,clearHistory:l}=Ote(s),{vecA:c,vecB:d,selectedVector:m,setSelectedVector:g,handleMouseDown:y,handleTouchStart:b,handleTouchMove:k,handleTouchEnd:x,handleVectorInputChange:_,calculateResultant:A}=Pte(i),{clearCanvas:C}=Cte(i,{vecA:c,vecB:d,resultant:t,selectedVector:m}),D=async()=>{const{resultant:R,info:L}=A();r(L),e(R),s&&o({vecA:c,vecB:d,vecR:R})};return T.jsxs("div",{className:"simulation-page-grid",children:[T.jsx("main",{className:"canvas-container-simulasi",children:T.jsx("canvas",{ref:i,onMouseDown:y,onTouchStart:b,onTouchMove:k,onTouchEnd:x})}),T.jsxs("aside",{className:"controls-container-simulasi",children:[T.jsx("h2",{children:"Panel Kontrol"}),T.jsx(Nte,{vecA:c,vecB:d,selectedVector:m,onVectorChange:_,onSelectVector:g}),T.jsx(Mte,{onAdd:D,onReset:()=>{C(),r({a:"-",b:"-",r:"-"}),e(null)}}),T.jsx(Dte,{info:n}),s&&T.jsx(Rte,{history:a,onClear:l})]})]})},Lte=[{question:"Jika Vektor A = (3, 4), berapakah magnitudo dari Vektor A?",options:["5","7","1","12"],answer:"5"},{question:"Besaran yang hanya memiliki nilai saja disebut...",options:["Vektor","Skalar","Resultan","Komponen"],answer:"Skalar"},{question:"Jika Vektor A = (2, 1) dan Vektor B = (1, 3), maka Vektor Resultan A + B adalah...",options:["(3, 3)","(3, 4)","(4, 3)","(1, -2)"],answer:"(3, 4)"},{question:"Vektor yang memiliki panjang satu satuan disebut...",options:["Vektor Nol","Vektor Satuan","Vektor Posisi","Vektor Basis"],answer:"Vektor Satuan"},{question:"Hasil dari perkalian titik (dot product) antara vektor A = (2, 3) dan B = (4, -1) adalah...",options:["5","8","11","10"],answer:"5"},{question:"Dua vektor dikatakan ortogonal (tegak lurus) jika hasil dot product-nya adalah...",options:["1","0","-1","Sama dengan magnitudonya"],answer:"0"},{question:"Jika vektor P = (6, -8), maka vektor satuan dari P adalah...",options:["(0.6, -0.8)","(6/10, 8/10)","(3, -4)","Tidak bisa ditentukan"],answer:"(0.6, -0.8)"}],$te=(t,e=5)=>[...t].sort(()=>.5-Math.random()).slice(0,e),Fte=()=>{const{currentUser:t}=uu(),[e,n]=I.useState([]),[r,i]=I.useState({}),[s,a]=I.useState(null),[o,l]=I.useState(!1),c=()=>{n($te(Lte,5)),i({}),a(null),l(!1)};I.useEffect(()=>{c()},[]);const d=(g,y)=>{o||i(b=>({...b,[g]:y}))},m=async()=>{let g=0;e.forEach((b,k)=>{r[k]===b.answer&&g++});const y=g/e.length*100;if(a(g),l(!0),t)try{await Fu.collection("quiz_attempts").add({userId:t.uid,quizId:"vektor_dasar_1",score:y,correctAnswers:g,totalQuestions:e.length,timestamp:va.firestore.FieldValue.serverTimestamp()})}catch(b){console.error("Error saving quiz attempt: ",b)}};return t?T.jsxs("div",{className:"kuis-container",children:[T.jsx("h1",{children:"Kuis Pemahaman Vektor"}),o&&T.jsxs("div",{className:"quiz-results-summary",children:[T.jsx("h2",{children:"Hasil Kuis"}),T.jsxs("p",{children:["Skor Anda: ",T.jsx("strong",{children:s})," dari ",T.jsx("strong",{children:e.length})]}),T.jsx("button",{onClick:c,children:"Coba Lagi"})]}),e.length>0?T.jsx("div",{id:"quiz-form",children:e.map((g,y)=>(g.answer,r[y],T.jsxs("div",{className:"question",children:[T.jsx("p",{children:T.jsxs("strong",{children:[y+1,". ",g.question]})}),T.jsx("div",{className:"options",children:g.options.map(b=>{const k=r[y]===b;let x="";return o&&(b===g.answer?x="correct":k&&(x="incorrect")),T.jsxs("label",{className:`${x} ${k?"selected":""}`,children:[T.jsx("input",{type:"radio",name:`question${y}`,value:b,checked:k,disabled:o,onChange:()=>d(y,b)}),b]},b)})})]},y)))}):T.jsx("p",{children:"Memuat soal..."}),!o&&T.jsx("button",{id:"submit-quiz",onClick:m,disabled:Object.keys(r).length!==e.length,children:"Kumpulkan Jawaban"})]}):T.jsx("p",{children:"Login untuk memulai kuis dan menyimpan skormu!"})},zte=()=>{const{currentUser:t}=uu(),e=()=>{B6.signInWithPopup(uD)};return t?T.jsx(EC,{to:"/home"}):T.jsx("div",{className:"landing-page",children:T.jsxs("div",{className:"landing-content",children:[T.jsx("h1",{children:"Selamat Datang di EduVektor"}),T.jsx("p",{children:"Platform pembelajaran vektor interaktif Anda. Pelajari teori, visualisasikan konsep, dan uji pemahaman Anda, semuanya di satu tempat."}),T.jsx("button",{onClick:e,className:"login-button",children:"Masuk dengan Google"})]})})},Bte=()=>{const{currentUser:t}=uu();return t?T.jsx(_C,{}):T.jsx(EC,{to:"/"})},Ute=()=>{const t=I.useRef(null),[e,n]=I.useState({x:0,y:0}),[r,i]=I.useState(0),[s,a]=I.useState(0),[o,l]=I.useState(!1),[c,d]=I.useState(null),[m,g]=I.useState([]);I.useEffect(()=>{const q=t.current;q.getContext("2d");const fe=()=>{const ge=q.parentElement;if(!ge)return;const Te=Math.min(ge.clientWidth,window.innerWidth*.95),Ie=Math.min(window.innerHeight*.5,400);q.width=Te,q.height=Ie};return fe(),window.addEventListener("resize",fe),()=>{window.removeEventListener("resize",fe)}},[]);const y=()=>t.current.getContext("2d"),b=(q,fe,ge)=>{q.strokeStyle="#ccc",q.lineWidth=.5;for(let Te=0;Te<fe;Te+=20)q.beginPath(),q.moveTo(Te,0),q.lineTo(Te,ge),q.stroke();for(let Te=0;Te<ge;Te+=20)q.beginPath(),q.moveTo(0,Te),q.lineTo(fe,Te),q.stroke()},k=(q,fe,ge)=>{q.strokeStyle="#000",q.lineWidth=2,q.beginPath(),q.moveTo(0,ge),q.lineTo(fe,ge),q.moveTo(0,0),q.lineTo(0,ge),q.stroke()},x=(q,fe,ge,Te)=>{const Ie=Math.min(t.current.width/800,1),he=Math.max(2,3*Ie),we=Math.max(8,10*Ie);q.strokeStyle="#f00",q.lineWidth=he,q.beginPath(),q.moveTo(0,Te),q.lineTo(fe,Te-ge),q.stroke();const ee=Math.atan2(Te-(Te-ge),fe);q.beginPath(),q.moveTo(fe,Te-ge),q.lineTo(fe-we*Math.cos(ee-Math.PI/6),Te-ge-we*Math.sin(ee-Math.PI/6)),q.moveTo(fe,Te-ge),q.lineTo(fe-we*Math.cos(ee+Math.PI/6),Te-ge-we*Math.sin(ee+Math.PI/6)),q.stroke()},_=(q,fe,ge)=>{if(!fe)return;const Te=Math.min(t.current.width/800,1),Ie=Math.max(3,5*Te);q.fillStyle="#00f",q.beginPath(),q.arc(fe.x,ge-fe.y,Ie,0,2*Math.PI),q.fill()},A=(q,fe,ge)=>{const Te=Math.min(t.current.width/800,1),Ie=Math.max(1,2*Te);q.fillStyle="rgba(0, 0, 255, 0.5)",fe.forEach(he=>{q.beginPath(),q.arc(he.x,ge-he.y,Ie,0,2*Math.PI),q.fill()})},C=(q,fe)=>{const ge=Math.sqrt(q*q+fe*fe),Te=Math.atan2(fe,q)*(180/Math.PI);n({x:q.toFixed(1),y:fe.toFixed(1)}),i(ge.toFixed(1)),a(Te.toFixed(1))},D=q=>{const ge=t.current.getBoundingClientRect();return{x:q.touches[0].clientX-ge.left,y:q.touches[0].clientY-ge.top}},R=q=>{l(!0),d(null),q.preventDefault()},L=q=>{l(!0),d(null),q.preventDefault()},U=q=>{if(!o)return;const fe=t.current,ge=fe.getBoundingClientRect(),Te=q.clientX-ge.left,Ie=fe.height-(q.clientY-ge.top);C(Te,Ie)},G=q=>{if(!o)return;const fe=t.current;fe.getBoundingClientRect();const ge=D(q),Te=ge.x,Ie=fe.height-ge.y;C(Te,Ie),q.preventDefault()},Z=()=>{o&&(l(!1),ne())},J=()=>{o&&(l(!1),ne())};I.useEffect(()=>{const q=t.current,{width:fe,height:ge}=q;return q.addEventListener("mousedown",R),q.addEventListener("mousemove",U),q.addEventListener("mouseup",Z),q.addEventListener("mouseleave",()=>l(!1)),q.addEventListener("touchstart",L),q.addEventListener("touchmove",G,{passive:!1}),q.addEventListener("touchend",J),()=>{q.removeEventListener("mousedown",R),q.removeEventListener("mousemove",U),q.removeEventListener("mouseup",Z),q.removeEventListener("mouseleave",()=>l(!1)),q.removeEventListener("touchstart",L),q.removeEventListener("touchmove",G),q.removeEventListener("touchend",J)}},[o]),I.useEffect(()=>{const q=y(),{width:fe,height:ge}=t.current;q.clearRect(0,0,fe,ge),b(q,fe,ge),k(q,fe,ge),o&&x(q,parseFloat(e.x),parseFloat(e.y),ge),A(q,m,ge),_(q,c,ge)},[e,o,c,m]);const ne=()=>{let q=0;const fe=.5,ge=parseFloat(e.x)||0,Te=parseFloat(e.y)||0,Ie=[],he=()=>{const we=ge*q/10,ee=Te*q/10-fe*q*q;if(ee<0){g(Ue=>[...Ue,...Ie]),d(null);return}d({x:we,y:ee}),Ie.push({x:we,y:ee}),q+=1,requestAnimationFrame(he)};he()},le=()=>{n({x:0,y:0}),i(0),a(0),d(null),g([])};return T.jsxs("div",{className:"vector-projection-container",children:[T.jsx("canvas",{ref:t,style:{border:"1px solid black",width:"100%",height:"auto"}}),T.jsxs("div",{className:"info-panel",children:[T.jsx("h3",{children:"Informasi Vektor"}),T.jsxs("p",{children:["Komponen: V = (",e.x,", ",e.y,")"]}),T.jsxs("p",{children:["Magnitudo: ||V|| = ",r]}),T.jsxs("p",{children:["Sudut:  = ",s,""]}),T.jsx("button",{onClick:le,children:"Reset"})]})]})},Vte=()=>T.jsxs("div",{className:"proyektor-container",children:[T.jsx("h1",{children:"Proyektor Vektor"}),T.jsx("p",{children:"Tarik dan lepas pada kanvas untuk membuat vektor dan meluncurkan proyektil."}),T.jsx(Ute,{})]});function EE({label:t,color:e,onColorChange:n}){const r=o=>{const{name:l,value:c}=o.target,d=c===""?0:parseInt(c,10);n({...e,[l]:Math.max(0,Math.min(255,d))})},i=o=>{const l=o.target.value,c=parseInt(l.slice(1,3),16),d=parseInt(l.slice(3,5),16),m=parseInt(l.slice(5,7),16);n({r:c,g:d,b:m})},s=o=>o.toString(16).padStart(2,"0"),a=`#${s(e.r)}${s(e.g)}${s(e.b)}`;return T.jsxs("div",{className:"panel input-panel",children:[T.jsx("h3",{children:t}),T.jsxs("div",{className:"color-preview-container",children:[T.jsx("div",{className:"color-preview",style:{backgroundColor:`rgb(${e.r}, ${e.g}, ${e.b})`}}),T.jsx("input",{type:"color",value:a,onChange:i,className:"color-picker"})]}),T.jsxs("div",{className:"numeric-inputs",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{children:"R"}),T.jsx("input",{name:"r",type:"number",min:"0",max:"255",value:e.r,onChange:r})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{children:"G"}),T.jsx("input",{name:"g",type:"number",min:"0",max:"255",value:e.g,onChange:r})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{children:"B"}),T.jsx("input",{name:"b",type:"number",min:"0",max:"255",value:e.b,onChange:r})]})]})]})}function qte({scalar:t,interpolation:e,onAdd:n,onSubtract:r,onScale:i,onInterpolate:s,onScalarChange:a,onInterpolationChange:o}){return T.jsxs("div",{className:"panel operator-panel",children:[T.jsx("h3",{children:"Operator"}),T.jsxs("div",{className:"operator-buttons",children:[T.jsx("button",{onClick:n,children:"A + B"}),T.jsx("button",{onClick:r,children:"A - B"})]}),T.jsxs("div",{className:"operator-group",children:[T.jsx("h4",{children:"Perkalian Skalar (Vektor A)"}),T.jsxs("div",{className:"slider-container",children:[T.jsx("input",{type:"range",min:"0",max:"2",step:"0.05",value:t,onChange:l=>a(parseFloat(l.target.value))}),T.jsx("span",{children:t.toFixed(2)})]}),T.jsx("button",{onClick:i,children:"Terapkan Skalar ke A"})]}),T.jsxs("div",{className:"operator-group",children:[T.jsx("h4",{children:"Interpolasi (Antara A dan B)"}),T.jsxs("div",{className:"slider-container",children:[T.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e,onChange:l=>o(parseFloat(l.target.value))}),T.jsx("span",{children:e.toFixed(2)})]}),T.jsx("button",{onClick:s,children:"Terapkan Interpolasi"})]})]})}function Hte({color:t}){const e=t.r*.299+t.g*.587+t.b*.114>186?"#000":"#fff";return T.jsxs("div",{className:"panel result-panel",children:[T.jsx("h2",{children:"Hasil"}),T.jsx("div",{className:"color-preview-large",style:{backgroundColor:`rgb(${t.r}, ${t.g}, ${t.b})`},children:T.jsx("p",{className:"result-text",style:{color:e},children:`rgb(${t.r}, ${t.g}, ${t.b})`})})]})}const Ci=t=>Math.max(0,Math.min(255,Math.round(t))),Wte=(t,e)=>({r:Ci(t.r+e.r),g:Ci(t.g+e.g),b:Ci(t.b+e.b)}),Kte=(t,e)=>({r:Ci(t.r-e.r),g:Ci(t.g-e.g),b:Ci(t.b-e.b)}),Gte=(t,e)=>({r:Ci(t.r*e),g:Ci(t.g*e),b:Ci(t.b*e)}),Yte=(t,e,n)=>({r:Ci((1-n)*t.r+n*e.r),g:Ci((1-n)*t.g+n*e.g),b:Ci((1-n)*t.b+n*e.b)});function Xte(){const[t,e]=I.useState({r:255,g:0,b:0}),[n,r]=I.useState({r:0,g:0,b:255}),[i,s]=I.useState({r:255,g:0,b:255}),[a,o]=I.useState(1),[l,c]=I.useState(.5),d=I.useCallback(()=>{s(Wte(t,n))},[t,n]),m=I.useCallback(()=>{s(Kte(t,n))},[t,n]),g=I.useCallback(()=>{s(Gte(t,a))},[t,a]),y=I.useCallback(()=>{s(Yte(t,n,l))},[t,n,l]);return T.jsxs("div",{className:"page-container rgb-palette-container",children:[T.jsxs("div",{className:"rgb-palette-header",children:[T.jsx("h1",{children:"Palet Vektor RGB"}),T.jsx("p",{children:"Eksplorasi operasi vektor dasar (penjumlahan, pengurangan, perkalian skalar, dan interpolasi) dalam ruang warna RGB."})]}),T.jsxs("div",{className:"main-content-rgb",children:[T.jsx(EE,{label:"Vektor A",color:t,onColorChange:e}),T.jsx(qte,{scalar:a,interpolation:l,onAdd:d,onSubtract:m,onScale:g,onInterpolate:y,onScalarChange:o,onInterpolationChange:c}),T.jsx(EE,{label:"Vektor B",color:n,onColorChange:r})]}),T.jsx(Hte,{color:i})]})}const Qte=({attempts:t})=>{if(!t||t.length===0)return null;const e=Math.max(...t.map(i=>i.score)),n=t.reduce((i,s)=>i+s.score,0)/t.length,r=t.length;return T.jsxs("div",{className:"statistik-utama",children:[T.jsxs("div",{className:"stat-card",children:[T.jsx("h4",{children:"Skor Tertinggi"}),T.jsxs("p",{children:[e.toFixed(2),"%"]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("h4",{children:"Rata-rata Skor"}),T.jsxs("p",{children:[n.toFixed(2),"%"]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("h4",{children:"Jumlah Pengerjaan"}),T.jsx("p",{children:r})]})]})};function hD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hD(t))&&(r&&(r+=" "),r+=e);return r}var Jte=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function U6(t){if(typeof t!="string")return!1;var e=Jte;return e.includes(t)}var Zte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dD(t){if(typeof t!="string")return!1;var e=Zte;return e.includes(t)}function fD(t){return typeof t=="string"&&t.startsWith("data-")}function Cs(t){var e=Object.entries(t).filter(n=>{var[r]=n;return dD(r)||fD(r)});return Object.fromEntries(e)}function iy(t){if(t==null)return null;if(I.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Cs(e)}return typeof t=="object"&&!Array.isArray(t)?Cs(t):null}function si(t){var e=Object.entries(t).filter(n=>{var[r]=n;return dD(r)||fD(r)||U6(r)});return Object.fromEntries(e)}function ene(t){return t==null?null:I.isValidElement(t)?si(t.props):typeof t=="object"&&!Array.isArray(t)?si(t):null}var tne=["children","width","height","viewBox","className","style","title","desc"];function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(null,arguments)}function nne(t,e){if(t==null)return{};var n,r,i=rne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V6=I.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:c}=t,d=nne(t,tne),m=s||{width:r,height:i,x:0,y:0},g=mt("recharts-surface",a);return I.createElement("svg",rb({},si(d),{className:g,width:r,height:i,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),I.createElement("title",null,l),I.createElement("desc",null,c),n)}),ine=["children","className"];function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(null,arguments)}function sne(t,e){if(t==null)return{};var n,r,i=ane(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ane(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nh=I.forwardRef((t,e)=>{var{children:n,className:r}=t,i=sne(t,ine),s=mt("recharts-layer",r);return I.createElement("g",ib({className:s},si(i),{ref:e}),n)}),mD=I.createContext(null),one=()=>I.useContext(mD);function gt(t){return function(){return t}}const pD=Math.cos,og=Math.sin,Zi=Math.sqrt,lg=Math.PI,sy=2*lg,sb=Math.PI,ab=2*sb,Zo=1e-6,lne=ab-Zo;function gD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function une(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gD;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gD:une(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,d=a-e,m=o-n,g=d*d+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Zo)if(!(Math.abs(m*l-c*d)>Zo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,b=i-o,k=l*l+c*c,x=y*y+b*b,_=Math.sqrt(k),A=Math.sqrt(g),C=s*Math.tan((sb-Math.acos((k+g-x)/(2*_*A)))/2),D=C/A,R=C/_;Math.abs(D-1)>Zo&&this._append`L${e+D*d},${n+D*m}`,this._append`A${s},${s},0,0,${+(m*y>d*b)},${this._x1=e+R*l},${this._y1=n+R*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,m=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Zo||Math.abs(this._y1-d)>Zo)&&this._append`L${c},${d}`,r&&(g<0&&(g=g%ab+ab),g>lne?this._append`A${r},${r},0,1,${m},${e-o},${n-l}A${r},${r},0,1,${m},${this._x1=c},${this._y1=d}`:g>Zo&&this._append`A${r},${r},0,${+(g>=sb)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function q6(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cne(e)}function H6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yD(t){this._context=t}yD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ay(t){return new yD(t)}function vD(t){return t[0]}function wD(t){return t[1]}function bD(t,e){var n=gt(!0),r=null,i=ay,s=null,a=q6(o);t=typeof t=="function"?t:t===void 0?vD:gt(t),e=typeof e=="function"?e:e===void 0?wD:gt(e);function o(l){var c,d=(l=H6(l)).length,m,g=!1,y;for(r==null&&(s=i(y=a())),c=0;c<=d;++c)!(c<d&&n(m=l[c],c,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,c,l),+e(m,c,l));if(y)return s=null,y+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:gt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:gt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:gt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function wm(t,e,n){var r=null,i=gt(!0),s=null,a=ay,o=null,l=q6(c);t=typeof t=="function"?t:t===void 0?vD:gt(+t),e=typeof e=="function"?e:gt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wD:gt(+n);function c(m){var g,y,b,k=(m=H6(m)).length,x,_=!1,A,C=new Array(k),D=new Array(k);for(s==null&&(o=a(A=l())),g=0;g<=k;++g){if(!(g<k&&i(x=m[g],g,m))===_)if(_=!_)y=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=y;--b)o.point(C[b],D[b]);o.lineEnd(),o.areaEnd()}_&&(C[g]=+t(x,g,m),D[g]=+e(x,g,m),o.point(r?+r(x,g,m):C[g],n?+n(x,g,m):D[g]))}if(A)return o=null,A+""||null}function d(){return bD().defined(i).curve(a).context(s)}return c.x=function(m){return arguments.length?(t=typeof m=="function"?m:gt(+m),r=null,c):t},c.x0=function(m){return arguments.length?(t=typeof m=="function"?m:gt(+m),c):t},c.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:gt(+m),c):r},c.y=function(m){return arguments.length?(e=typeof m=="function"?m:gt(+m),n=null,c):e},c.y0=function(m){return arguments.length?(e=typeof m=="function"?m:gt(+m),c):e},c.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:gt(+m),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(m){return arguments.length?(i=typeof m=="function"?m:gt(!!m),c):i},c.curve=function(m){return arguments.length?(a=m,s!=null&&(o=a(s)),c):a},c.context=function(m){return arguments.length?(m==null?s=o=null:o=a(s=m),c):s},c}class xD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function hne(t){return new xD(t,!0)}function dne(t){return new xD(t,!1)}const W6={draw(t,e){const n=Zi(e/lg);t.moveTo(n,0),t.arc(0,0,n,0,sy)}},fne={draw(t,e){const n=Zi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},kD=Zi(1/3),mne=kD*2,pne={draw(t,e){const n=Zi(e/mne),r=n*kD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gne={draw(t,e){const n=Zi(e),r=-n/2;t.rect(r,r,n,n)}},yne=.8908130915292852,SD=og(lg/10)/og(7*lg/10),vne=og(sy/10)*SD,wne=-pD(sy/10)*SD,bne={draw(t,e){const n=Zi(e*yne),r=vne*n,i=wne*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=sy*s/5,o=pD(a),l=og(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},U4=Zi(3),xne={draw(t,e){const n=-Zi(e/(U4*3));t.moveTo(0,n*2),t.lineTo(-U4*n,-n),t.lineTo(U4*n,-n),t.closePath()}},gi=-.5,yi=Zi(3)/2,ob=1/Zi(12),kne=(ob/2+1)*3,Sne={draw(t,e){const n=Zi(e/kne),r=n/2,i=n*ob,s=r,a=n*ob+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(gi*r-yi*i,yi*r+gi*i),t.lineTo(gi*s-yi*a,yi*s+gi*a),t.lineTo(gi*o-yi*l,yi*o+gi*l),t.lineTo(gi*r+yi*i,gi*i-yi*r),t.lineTo(gi*s+yi*a,gi*a-yi*s),t.lineTo(gi*o+yi*l,gi*l-yi*o),t.closePath()}};function Ene(t,e){let n=null,r=q6(i);t=typeof t=="function"?t:gt(t||W6),e=typeof e=="function"?e:gt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:gt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:gt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function ug(){}function cg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ED(t){this._context=t}ED.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _ne(t){return new ED(t)}function _D(t){this._context=t}_D.prototype={areaStart:ug,areaEnd:ug,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tne(t){return new _D(t)}function TD(t){this._context=t}TD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ine(t){return new TD(t)}function ID(t){this._context=t}ID.prototype={areaStart:ug,areaEnd:ug,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ane(t){return new ID(t)}function _E(t){return t<0?-1:1}function TE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(_E(s)+_E(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function IE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function V4(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function hg(t){this._context=t}hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V4(this,this._t0,IE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,V4(this,IE(this,n=TE(this,t,e)),n);break;default:V4(this,this._t0,n=TE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function AD(t){this._context=new CD(t)}(AD.prototype=Object.create(hg.prototype)).point=function(t,e){hg.prototype.point.call(this,e,t)};function CD(t){this._context=t}CD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Cne(t){return new hg(t)}function Pne(t){return new AD(t)}function PD(t){this._context=t}PD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AE(t),i=AE(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AE(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function One(t){return new PD(t)}function oy(t,e){this._context=t,this._t=e}oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Nne(t){return new oy(t,.5)}function Mne(t){return new oy(t,0)}function Dne(t){return new oy(t,1)}function Tc(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Rne(t,e){return t[e]}function jne(t){const e=[];return e.key=t,e}function Lne(){var t=gt([]),e=lb,n=Tc,r=Rne;function i(s){var a=Array.from(t.apply(this,arguments),jne),o,l=a.length,c=-1,d;for(const m of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(m,a[o].key,c,s)]).data=m;for(o=0,d=H6(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:gt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:gt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?lb:typeof s=="function"?s:gt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Tc,i):n},i}function $ne(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Tc(t,e)}}function Fne(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Tc(t,e)}}function zne(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var d=t[e[o]],m=d[r][1]||0,g=d[r-1][1]||0,y=(m-g)/2,b=0;b<o;++b){var k=t[e[b]],x=k[r][1]||0,_=k[r-1][1]||0;y+=x-_}l+=m,c+=y*m}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Tc(t,e)}}var ly={},OD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(OD);var K6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(K6);var uy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(uy);var cy={},ND={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(ND);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ND,n=uy;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const m=i[o];c?m==="\\"&&o+1<a?(o++,l+=i[o]):m===c?c="":l+=m:d?m==='"'||m==="'"?c=m:m==="]"?(d=!1,s.push(l),l=""):l+=m:m==="["?(d=!0,l&&(s.push(l),l="")):m==="."?l&&(s.push(l),l=""):l+=m,o++}return l&&s.push(l),s}t.toPath=r})(cy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OD,n=K6,r=uy,i=cy;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?s(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return a(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function a(o,l,c){if(l.length===0)return c;let d=o;for(let m=0;m<l.length;m++){if(d==null||e.isUnsafeProperty(l[m]))return c;d=d[l[m]]}return d===void 0?c:d}t.get=s})(ly);var Bne=ly.get;const hy=Ao(Bne);var Ti=t=>t===0?0:t>0?1:-1,Ji=t=>typeof t=="number"&&t!=+t,ca=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,De=t=>(typeof t=="number"||t instanceof Number)&&!Ji(t),Ps=t=>De(t)||typeof t=="string",Une=0,b0=t=>{var e=++Une;return"".concat(t||"").concat(e)},Io=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&typeof e!="string")return r;var s;if(ca(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Ji(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},MD=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Bs(t,e,n){return De(t)&&De(e)?t+n*(e-t):e}function DD(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):hy(r,e))===n)}var An=t=>t===null||typeof t>"u",lf=t=>An(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Vne=["type","size","sizeType"];function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(null,arguments)}function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e,n){return(e=Hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=Wne(t,"string");return typeof e=="symbol"?e:e+""}function Wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kne(t,e){if(t==null)return{};var n,r,i=Gne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RD={symbolCircle:W6,symbolCross:fne,symbolDiamond:pne,symbolSquare:gne,symbolStar:bne,symbolTriangle:xne,symbolWye:Sne},Yne=Math.PI/180,Xne=t=>{var e="symbol".concat(lf(t));return RD[e]||W6},Qne=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Yne;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Jne=(t,e)=>{RD["symbol".concat(lf(t))]=e},jD=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Kne(t,Vne),s=PE(PE({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=Xne(a),y=Ene().type(g).size(Qne(n,r,a)),b=y();if(b!==null)return b},{className:l,cx:c,cy:d}=s,m=si(s);return c===+c&&d===+d&&n===+n?I.createElement("path",ub({},m,{className:mt("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};jD.registerSymbol=Jne;var G6=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(I.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{U6(i)&&(r[i]=s=>n[i](n,s))}),r},Zne=(t,e,n)=>r=>(t(e,n,r),null),LD=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];U6(i)&&typeof s=="function"&&(r||(r={}),r[i]=Zne(s,e,n))}),r};function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(null,arguments)}function OE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ere(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(n),!0).forEach(function(r){Y6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y6(t,e,n){return(e=tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return typeof e=="symbol"?e:e+""}function nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vi=32;class X6 extends I.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=vi/2,s=vi/6,a=vi/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:vi,y2:i,className:"recharts-legend-icon"});if(l==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(vi,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return I.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(vi/8,"h").concat(vi,"v").concat(vi*3/4,"h").concat(-vi,"z"),className:"recharts-legend-icon"});if(I.isValidElement(e.legendIcon)){var c=ere({},e);return delete c.legendIcon,I.cloneElement(e.legendIcon,c)}return I.createElement(jD,{fill:o,cx:i,cy:i,size:vi,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:vi,height:vi},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,m)=>{var g=d.formatter||i,y=mt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:d.inactive});if(d.type==="none")return null;var b=d.inactive?s:d.color,k=g?g(d.value,d,m):d.value;return I.createElement("li",cb({className:y,style:l,key:"legend-item-".concat(m)},LD(this.props,d,m)),I.createElement(V6,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(k," legend icon")},this.renderIcon(d,a)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},k))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Y6(X6,"displayName","Legend");Y6(X6,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var $D={},FD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(FD);var Q6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Q6);var zD={},dy={},BD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(BD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BD;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(dy);var UD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(UD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dy,n=UD;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(zD);var VD={},qD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ly;function n(r){return function(i){return e.get(i,r)}}t.property=n})(qD);var HD={},q4={},H4={},J6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(J6);var Z6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Z6);var e7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(e7);var NE;function rre(){return NE||(NE=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t7(),n=J6,r=Z6,i=e7;function s(m,g,y){return typeof y!="function"?e.isMatch(m,g):a(m,g,function b(k,x,_,A,C,D){const R=y(k,x,_,A,C,D);return R!==void 0?!!R:a(k,x,b,D)},new Map)}function a(m,g,y,b){if(g===m)return!0;switch(typeof g){case"object":return o(m,g,y,b);case"function":return Object.keys(g).length>0?a(m,{...g},y,b):i.eq(m,g);default:return n.isObject(m)?typeof g=="string"?g==="":!0:i.eq(m,g)}}function o(m,g,y,b){if(g==null)return!0;if(Array.isArray(g))return c(m,g,y,b);if(g instanceof Map)return l(m,g,y,b);if(g instanceof Set)return d(m,g,y,b);const k=Object.keys(g);if(m==null)return k.length===0;if(k.length===0)return!0;if(b&&b.has(g))return b.get(g)===m;b&&b.set(g,m);try{for(let x=0;x<k.length;x++){const _=k[x];if(!r.isPrimitive(m)&&!(_ in m)||g[_]===void 0&&m[_]!==void 0||g[_]===null&&m[_]!==null||!y(m[_],g[_],_,m,g,b))return!1}return!0}finally{b&&b.delete(g)}}function l(m,g,y,b){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[k,x]of g.entries()){const _=m.get(k);if(y(_,x,k,m,g,b)===!1)return!1}return!0}function c(m,g,y,b){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const k=new Set;for(let x=0;x<g.length;x++){const _=g[x];let A=!1;for(let C=0;C<m.length;C++){if(k.has(C))continue;const D=m[C];let R=!1;if(y(D,_,x,m,g,b)&&(R=!0),R){k.add(C),A=!0;break}}if(!A)return!1}return!0}function d(m,g,y,b){return g.size===0?!0:m instanceof Set?c([...m],[...g],y,b):!1}t.isMatchWith=s,t.isSetMatch=d}(H4)),H4}var ME;function t7(){return ME||(ME=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rre();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(q4)),q4}var WD={},n7={},KD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(KD);var r7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(r7);var i7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",m="[object Function]",g="[object ArrayBuffer]",y="[object Object]",b="[object Error]",k="[object DataView]",x="[object Uint8Array]",_="[object Uint8ClampedArray]",A="[object Uint16Array]",C="[object Uint32Array]",D="[object BigUint64Array]",R="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",G="[object BigInt64Array]",Z="[object Float32Array]",J="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=g,t.arrayTag=d,t.bigInt64ArrayTag=G,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=k,t.dateTag=o,t.errorTag=b,t.float32ArrayTag=Z,t.float64ArrayTag=J,t.functionTag=m,t.int16ArrayTag=L,t.int32ArrayTag=U,t.int8ArrayTag=R,t.mapTag=l,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=A,t.uint32ArrayTag=C,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=_})(i7);var GD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(GD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KD,n=r7,r=i7,i=Z6,s=GD;function a(d,m){return o(d,void 0,d,new Map,m)}function o(d,m,g,y=new Map,b=void 0){const k=b==null?void 0:b(d,m,g,y);if(k!==void 0)return k;if(i.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const x=new Array(d.length);y.set(d,x);for(let _=0;_<d.length;_++)x[_]=o(d[_],_,g,y,b);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;y.set(d,x);for(const[_,A]of d)x.set(_,o(A,_,g,y,b));return x}if(d instanceof Set){const x=new Set;y.set(d,x);for(const _ of d)x.add(o(_,void 0,g,y,b));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,x);for(let _=0;_<d.length;_++)x[_]=o(d[_],_,g,y,b);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,x),l(x,d,g,y,b),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return y.set(d,x),l(x,d,g,y,b),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return y.set(d,x),l(x,d,g,y,b),x}if(d instanceof Error){const x=new d.constructor;return y.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,g,y,b),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return y.set(d,x),l(x,d,g,y,b),x}if(d instanceof Number){const x=new Number(d.valueOf());return y.set(d,x),l(x,d,g,y,b),x}if(d instanceof String){const x=new String(d.valueOf());return y.set(d,x),l(x,d,g,y,b),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return y.set(d,x),l(x,d,g,y,b),x}return d}function l(d,m,g=d,y,b){const k=[...Object.keys(m),...e.getSymbols(m)];for(let x=0;x<k.length;x++){const _=k[x],A=Object.getOwnPropertyDescriptor(d,_);(A==null||A.writable)&&(d[_]=o(m[_],_,g,y,b))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(n7);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n7;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(WD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t7(),n=WD;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(HD);var YD={},XD={},QD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n7,n=i7;function r(i,s){return e.cloneDeepWith(i,(a,o,l,c)=>{const d=s==null?void 0:s(a,o,l,c);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(QD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QD;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(XD);var JD={},s7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(s7);var ZD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r7;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(ZD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K6,n=s7,r=ZD,i=cy;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=a;for(let d=0;d<l.length;d++){const m=l[d];if((c==null||!Object.hasOwn(c,m))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(m)&&m<c.length))return!1;c=c[m]}return!0}t.has=s})(JD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t7(),n=uy,r=XD,i=ly,s=JD;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?s.has(c,o):l===void 0?d===void 0:e.isMatch(d,l)}}t.matchesProperty=a})(YD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q6,n=qD,r=HD,i=YD;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(VD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FD,n=Q6,r=zD,i=VD;function s(a,o=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})($D);var ire=$D.uniqBy;const DE=Ao(ire);function eR(t,e,n){return e===!0?DE(t,n):typeof e=="function"?DE(t,e):t}var tR={exports:{}},nR={},rR={exports:{}},iR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=I;function sre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var are=typeof Object.is=="function"?Object.is:sre,ore=Ic.useState,lre=Ic.useEffect,ure=Ic.useLayoutEffect,cre=Ic.useDebugValue;function hre(t,e){var n=e(),r=ore({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return ure(function(){i.value=n,i.getSnapshot=e,W4(i)&&s({inst:i})},[t,n,e]),lre(function(){return W4(i)&&s({inst:i}),t(function(){W4(i)&&s({inst:i})})},[t]),cre(n),n}function W4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!are(t,n)}catch{return!0}}function dre(t,e){return e()}var fre=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dre:hre;iR.useSyncExternalStore=Ic.useSyncExternalStore!==void 0?Ic.useSyncExternalStore:fre;rR.exports=iR;var mre=rR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=I,pre=mre;function gre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yre=typeof Object.is=="function"?Object.is:gre,vre=pre.useSyncExternalStore,wre=fy.useRef,bre=fy.useEffect,xre=fy.useMemo,kre=fy.useDebugValue;nR.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=wre(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=xre(function(){function l(y){if(!c){if(c=!0,d=y,y=r(y),i!==void 0&&a.hasValue){var b=a.value;if(i(b,y))return m=b}return m=y}if(b=m,yre(d,y))return b;var k=r(y);return i!==void 0&&i(b,k)?(d=y,b):(d=y,m=k)}var c=!1,d,m,g=n===void 0?null:n;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,n,r,i]);var o=vre(t,s[0],s[1]);return bre(function(){a.hasValue=!0,a.value=o},[o]),kre(o),o};tR.exports=nR;var Sre=tR.exports,a7=I.createContext(null),Ere=t=>t,Mn=()=>{var t=I.useContext(a7);return t?t.store.dispatch:Ere},ip=()=>{},_re=()=>ip,Tre=(t,e)=>t===e;function Oe(t){var e=I.useContext(a7);return Sre.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:_re,e?e.store.getState:ip,e?e.store.getState:ip,e?t:ip,Tre)}function Ire(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Are(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Cre(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var RE=t=>Array.isArray(t)?t:[t];function Pre(t){const e=Array.isArray(t[0])?t[0]:t;return Cre(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Ore(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Nre=class{constructor(t){this.value=t}deref(){return this.value}},Mre=typeof WeakRef<"u"?WeakRef:Nre,Dre=0,jE=1;function bm(){return{s:Dre,v:void 0,o:null,p:null}}function sR(t,e={}){let n=bm();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var m;let o=n;const{length:l}=arguments;for(let g=0,y=l;g<y;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let k=o.o;k===null&&(o.o=k=new WeakMap);const x=k.get(b);x===void 0?(o=bm(),k.set(b,o)):o=x}else{let k=o.p;k===null&&(o.p=k=new Map);const x=k.get(b);x===void 0?(o=bm(),k.set(b,o)):o=x}}const c=o;let d;if(o.s===jE)d=o.v;else if(d=t.apply(null,arguments),s++,r){const g=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;g!=null&&r(g,d)&&(d=g,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Mre(d):d}return c.s=jE,c.v=d,d}return a.clearCache=()=>{n=bm(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Rre(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),Ire(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:m,memoizeOptions:g=[],argsMemoize:y=sR,argsMemoizeOptions:b=[]}=d,k=RE(g),x=RE(b),_=Pre(i),A=m(function(){return s++,c.apply(null,arguments)},...k),C=y(function(){a++;const R=Ore(_,arguments);return o=A.apply(null,R),o},...x);return Object.assign(C,{resultFunc:c,memoizedResultFunc:A,dependencies:_,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var Q=Rre(sR),jre=Object.assign((t,e=Q)=>{Are(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>jre}),aR={},oR={},lR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=n})(lR);var uR={},o7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(o7);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o7,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(uR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lR,n=uR,r=cy;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const c=(y,b)=>{let k=y;for(let x=0;x<b.length&&k!=null;++x)k=k[b[x]];return k},d=(y,b)=>b==null||y==null?b:typeof y=="object"&&"key"in y?Object.hasOwn(b,y.key)?b[y.key]:c(b,y.path):typeof y=="function"?y(b):Array.isArray(y)?c(b,y):typeof b=="object"?b[y]:b,m=a.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:m.map(b=>d(b,y))})).slice().sort((y,b)=>{for(let k=0;k<m.length;k++){const x=e.compareValues(y.criteria[k],b.criteria[k],o[k]);if(x!==0)return x}return 0}).map(y=>y.original)}t.orderBy=i})(oR);var cR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(n,0),i}t.flatten=e})(cR);var l7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s7,n=dy,r=J6,i=e7;function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(l7);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oR,n=cR,r=l7;function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(aR);var Lre=aR.sortBy;const my=Ao(Lre);var hR=t=>t.legend.settings,$re=t=>t.legend.size,Fre=t=>t.legend.payload,zre=Q([Fre,hR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?my(r,n):r});function Bre(){return Oe(zre)}var xm=1;function dR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=I.useState({height:0,left:0,top:0,width:0}),r=I.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>xm||Math.abs(a.left-e.left)>xm||Math.abs(a.top-e.top)>xm||Math.abs(a.width-e.width)>xm)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Ln(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ure=typeof Symbol=="function"&&Symbol.observable||"@@observable",LE=Ure,K4=()=>Math.random().toString(36).substring(7).split("").join("."),Vre={INIT:`@@redux/INIT${K4()}`,REPLACE:`@@redux/REPLACE${K4()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${K4()}`},dg=Vre;function u7(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fR(t,e,n){if(typeof t!="function")throw new Error(Ln(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ln(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ln(1));return n(fR)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((x,_)=>{a.set(_,x)}))}function d(){if(l)throw new Error(Ln(3));return i}function m(x){if(typeof x!="function")throw new Error(Ln(4));if(l)throw new Error(Ln(5));let _=!0;c();const A=o++;return a.set(A,x),function(){if(_){if(l)throw new Error(Ln(6));_=!1,c(),a.delete(A),s=null}}}function g(x){if(!u7(x))throw new Error(Ln(7));if(typeof x.type>"u")throw new Error(Ln(8));if(typeof x.type!="string")throw new Error(Ln(17));if(l)throw new Error(Ln(9));try{l=!0,i=r(i,x)}finally{l=!1}return(s=a).forEach(A=>{A()}),x}function y(x){if(typeof x!="function")throw new Error(Ln(10));r=x,g({type:dg.REPLACE})}function b(){const x=m;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Ln(11));function A(){const D=_;D.next&&D.next(d())}return A(),{unsubscribe:x(A)}},[LE](){return this}}}return g({type:dg.INIT}),{dispatch:g,subscribe:m,getState:d,replaceReducer:y,[LE]:b}}function qre(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:dg.INIT})>"u")throw new Error(Ln(12));if(typeof n(void 0,{type:dg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ln(13))})}function mR(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{qre(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const m=r[d],g=n[m],y=a[m],b=g(y,o);if(typeof b>"u")throw o&&o.type,new Error(Ln(14));c[m]=b,l=l||b!==y}return l=l||r.length!==Object.keys(a).length,l?c:a}}function fg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Hre(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Ln(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=t.map(l=>l(a));return s=fg(...o)(i.dispatch),{...i,dispatch:s}}}function pR(t){return u7(t)&&"type"in t&&typeof t.type=="string"}var gR=Symbol.for("immer-nothing"),$E=Symbol.for("immer-draftable"),ai=Symbol.for("immer-state");function Vi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ac=Object.getPrototypeOf;function Wl(t){return!!t&&!!t[ai]}function ha(t){var e;return t?yR(t)||Array.isArray(t)||!!t[$E]||!!((e=t.constructor)!=null&&e[$E])||uf(t)||gy(t):!1}var Wre=Object.prototype.constructor.toString();function yR(t){if(!t||typeof t!="object")return!1;const e=Ac(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Wre}function mg(t,e){py(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function py(t){const e=t[ai];return e?e.type_:Array.isArray(t)?1:uf(t)?2:gy(t)?3:0}function hb(t,e){return py(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vR(t,e,n){const r=py(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Kre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function uf(t){return t instanceof Map}function gy(t){return t instanceof Set}function el(t){return t.copy_||t.base_}function db(t,e){if(uf(t))return new Map(t);if(gy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=yR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ai];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Ac(t),r)}else{const r=Ac(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function c7(t,e=!1){return yy(t)||Wl(t)||!ha(t)||(py(t)>1&&Object.defineProperties(t,{set:{value:km},add:{value:km},clear:{value:km},delete:{value:km}}),Object.freeze(t),e&&Object.values(t).forEach(n=>c7(n,!0))),t}function km(){Vi(2)}function yy(t){return Object.isFrozen(t)}var Gre={};function Kl(t){const e=Gre[t];return e||Vi(0,t),e}var x0;function wR(){return x0}function Yre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FE(t,e){e&&(Kl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function fb(t){mb(t),t.drafts_.forEach(Xre),t.drafts_=null}function mb(t){t===x0&&(x0=t.parent_)}function zE(t){return x0=Yre(x0,t)}function Xre(t){const e=t[ai];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BE(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ai].modified_&&(fb(e),Vi(4)),ha(t)&&(t=pg(e,t),e.parent_||gg(e,t)),e.patches_&&Kl("Patches").generateReplacementPatches_(n[ai].base_,t,e.patches_,e.inversePatches_)):t=pg(e,n,[]),fb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==gR?t:void 0}function pg(t,e,n){if(yy(e))return e;const r=e[ai];if(!r)return mg(e,(i,s)=>UE(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return gg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),mg(s,(o,l)=>UE(t,r,i,o,l,n,a)),gg(t,i,!1),n&&t.patches_&&Kl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function UE(t,e,n,r,i,s,a){if(Wl(i)){const o=s&&e&&e.type_!==3&&!hb(e.assigned_,r)?s.concat(r):void 0,l=pg(t,i,o);if(vR(n,r,l),Wl(l))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ha(i)&&!yy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;pg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(uf(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&gg(t,i)}}function gg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&c7(e,n)}function Qre(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:wR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=h7;n&&(i=[r],s=k0);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var h7={get(t,e){if(e===ai)return t;const n=el(t);if(!hb(n,e))return Jre(t,n,e);const r=n[e];return t.finalized_||!ha(r)?r:r===G4(t.base_,e)?(Y4(t),t.copy_[e]=gb(r,t)):r},has(t,e){return e in el(t)},ownKeys(t){return Reflect.ownKeys(el(t))},set(t,e,n){const r=bR(el(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=G4(el(t),e),s=i==null?void 0:i[ai];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Kre(n,i)&&(n!==void 0||hb(t.base_,e)))return!0;Y4(t),pb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return G4(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Y4(t),pb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=el(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Vi(11)},getPrototypeOf(t){return Ac(t.base_)},setPrototypeOf(){Vi(12)}},k0={};mg(h7,(t,e)=>{k0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});k0.deleteProperty=function(t,e){return k0.set.call(this,t,e,void 0)};k0.set=function(t,e,n){return h7.set.call(this,t[0],e,n,t[0])};function G4(t,e){const n=t[ai];return(n?el(n):t)[e]}function Jre(t,e,n){var i;const r=bR(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function bR(t,e){if(!(e in t))return;let n=Ac(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ac(n)}}function pb(t){t.modified_||(t.modified_=!0,t.parent_&&pb(t.parent_))}function Y4(t){t.copy_||(t.copy_=db(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Zre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(l=s,...c){return a.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Vi(6),r!==void 0&&typeof r!="function"&&Vi(7);let i;if(ha(e)){const s=zE(this),a=gb(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?fb(s):mb(s)}return FE(s,r),BE(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===gR&&(i=void 0),this.autoFreeze_&&c7(i,!0),r){const s=[],a=[];Kl("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Vi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ha(t)||Vi(8),Wl(t)&&(t=ta(t));const e=zE(this),n=gb(t,void 0);return n[ai].isManual_=!0,mb(e),n}finishDraft(t,e){const n=t&&t[ai];(!n||!n.isManual_)&&Vi(9);const{scope_:r}=n;return FE(r,e),BE(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Kl("Patches").applyPatches_;return Wl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function gb(t,e){const n=uf(t)?Kl("MapSet").proxyMap_(t,e):gy(t)?Kl("MapSet").proxySet_(t,e):Qre(t,e);return(e?e.scope_:wR()).drafts_.push(n),n}function ta(t){return Wl(t)||Vi(10,t),xR(t)}function xR(t){if(!ha(t)||yy(t))return t;const e=t[ai];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=db(t,e.scope_.immer_.useStrictShallowCopy_)}else n=db(t,!0);return mg(n,(r,i)=>{vR(n,r,xR(i))}),e&&(e.finalized_=!1),n}var eie=new Zre,kR=eie.produce;function SR(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var tie=SR(),nie=SR,rie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fg:fg.apply(null,arguments)};function Mi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ti(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>pR(r)&&r.type===t,n}var ER=class id extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,id.prototype)}static get[Symbol.species](){return id}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new id(...e[0].concat(this)):new id(...e.concat(this))}};function VE(t){return ha(t)?kR(t,()=>{}):t}function Sm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function iie(t){return typeof t=="boolean"}var sie=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new ER;return n&&(iie(n)?a.push(tie):a.push(nie(n.extraArgument))),a},_R="RTK_autoBatch",mr=()=>t=>({payload:t,meta:{[_R]:!0}}),qE=t=>e=>{setTimeout(e,t)},TR=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qE(10):t.type==="callback"?t.queueNotification:qE(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const m=()=>i&&d(),g=r.subscribe(m);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var m;try{return i=!((m=d==null?void 0:d.meta)!=null&&m[_R]),s=!i,s&&(a||(a=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},aie=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new ER(t);return r&&i.push(TR(typeof r=="object"?r:void 0)),i};function oie(t){const e=sie(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(u7(n))o=mR(n);else throw new Error(ti(1));let l;typeof r=="function"?l=r(e):l=e();let c=fg;i&&(c=rie({trace:!1,...typeof i=="object"&&i}));const d=Hre(...l),m=aie(d);let g=typeof a=="function"?a(m):m();const y=c(...g);return fR(o,s,y)}function IR(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ti(28));if(o in e)throw new Error(ti(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function lie(t){return typeof t=="function"}function uie(t,e){let[n,r,i]=IR(e),s;if(lie(t))s=()=>VE(t());else{const o=VE(t);s=()=>o}function a(o=s(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,m)=>{if(m)if(Wl(d)){const y=m(d,l);return y===void 0?d:y}else{if(ha(d))return kR(d,g=>m(g,l));{const g=m(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var cie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hie=(t=21)=>{let e="",n=t;for(;n--;)e+=cie[Math.random()*64|0];return e},die=Symbol.for("rtk-slice-createasyncthunk");function fie(t,e){return`${t}/${e}`}function mie({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[die];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ti(11));const o=(typeof i.reducers=="function"?i.reducers(gie()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(D,R){const L=typeof D=="string"?D:D.type;if(!L)throw new Error(ti(12));if(L in c.sliceCaseReducersByType)throw new Error(ti(13));return c.sliceCaseReducersByType[L]=R,d},addMatcher(D,R){return c.sliceMatchers.push({matcher:D,reducer:R}),d},exposeAction(D,R){return c.actionCreators[D]=R,d},exposeCaseReducer(D,R){return c.sliceCaseReducersByName[D]=R,d}};l.forEach(D=>{const R=o[D],L={reducerName:D,type:fie(s,D),createNotation:typeof i.reducers=="function"};vie(R)?bie(L,R,d,e):yie(L,R,d)});function m(){const[D={},R=[],L=void 0]=typeof i.extraReducers=="function"?IR(i.extraReducers):[i.extraReducers],U={...D,...c.sliceCaseReducersByType};return uie(i.initialState,G=>{for(let Z in U)G.addCase(Z,U[Z]);for(let Z of c.sliceMatchers)G.addMatcher(Z.matcher,Z.reducer);for(let Z of R)G.addMatcher(Z.matcher,Z.reducer);L&&G.addDefaultCase(L)})}const g=D=>D,y=new Map,b=new WeakMap;let k;function x(D,R){return k||(k=m()),k(D,R)}function _(){return k||(k=m()),k.getInitialState()}function A(D,R=!1){function L(G){let Z=G[D];return typeof Z>"u"&&R&&(Z=Sm(b,L,_)),Z}function U(G=g){const Z=Sm(y,R,()=>new WeakMap);return Sm(Z,G,()=>{const J={};for(const[ne,le]of Object.entries(i.selectors??{}))J[ne]=pie(le,G,()=>Sm(b,G,_),R);return J})}return{reducerPath:D,getSelectors:U,get selectors(){return U(L)},selectSlice:L}}const C={name:s,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...A(a),injectInto(D,{reducerPath:R,...L}={}){const U=R??a;return D.inject({reducerPath:U,reducer:x},L),{...C,...A(U,!0)}}};return C}}function pie(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var ui=mie();function gie(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function yie({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!wie(r))throw new Error(ti(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Mi(t,a):Mi(t))}function vie(t){return t._reducerDefinitionType==="asyncThunk"}function wie(t){return t._reducerDefinitionType==="reducerWithPrepare"}function bie({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ti(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:d}=n,m=i(t,s,d);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),o&&r.addCase(m.pending,o),l&&r.addCase(m.rejected,l),c&&r.addMatcher(m.settled,c),r.exposeCaseReducer(e,{fulfilled:a||Em,pending:o||Em,rejected:l||Em,settled:c||Em})}function Em(){}var xie="task",AR="listener",CR="completed",d7="cancelled",kie=`task-${d7}`,Sie=`task-${CR}`,yb=`${AR}-${d7}`,Eie=`${AR}-${CR}`,vy=class{constructor(t){Fv(this,"name","TaskAbortError");Fv(this,"message");this.code=t,this.message=`${xie} ${d7} (reason: ${t})`}},f7=(t,e)=>{if(typeof t!="function")throw new TypeError(ti(32))},yg=()=>{},PR=(t,e=yg)=>(t.catch(e),t),OR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),El=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},_l=t=>{if(t.aborted){const{reason:e}=t;throw new vy(e)}};function NR(t,e){let n=yg;return new Promise((r,i)=>{const s=()=>i(new vy(t.reason));if(t.aborted){s();return}n=OR(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=yg})}var _ie=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof vy?"cancelled":"rejected",error:n}}finally{e==null||e()}},vg=t=>e=>PR(NR(t,e).then(n=>(_l(t),n))),MR=t=>{const e=vg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:tc}=Object,HE={},wy="listenerMiddleware",Tie=(t,e)=>{const n=r=>OR(t,()=>El(r,t.reason));return(r,i)=>{f7(r);const s=new AbortController;n(s);const a=_ie(async()=>{_l(t),_l(s.signal);const o=await r({pause:vg(s.signal),delay:MR(s.signal),signal:s.signal});return _l(s.signal),o},()=>El(s,Sie));return i!=null&&i.autoJoin&&e.push(a.catch(yg)),{result:vg(t)(a),cancel(){El(s,kie)}}}},Iie=(t,e)=>{const n=async(r,i)=>{_l(e);let s=()=>{};const o=[new Promise((l,c)=>{let d=t({predicate:r,effect:(m,g)=>{g.unsubscribe(),l([m,g.getState(),g.getOriginalState()])}});s=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await NR(e,Promise.race(o));return _l(e),l}finally{s()}};return(r,i)=>PR(n(r,i))},DR=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Mi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ti(21));return f7(s),{predicate:i,type:e,effect:s}},RR=tc(t=>{const{type:e,predicate:n,effect:r}=DR(t);return{id:hie(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ti(22))}}},{withTypes:()=>RR}),WE=(t,e)=>{const{type:n,effect:r,predicate:i}=DR(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},vb=t=>{t.pending.forEach(e=>{El(e,yb)})},Aie=(t,e)=>()=>{for(const n of e.keys())vb(n);t.clear()},KE=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},jR=tc(Mi(`${wy}/add`),{withTypes:()=>jR}),Cie=Mi(`${wy}/removeAll`),LR=tc(Mi(`${wy}/remove`),{withTypes:()=>LR}),Pie=(...t)=>{console.error(`${wy}/error`,...t)},cf=(t={})=>{const e=new Map,n=new Map,r=y=>{const b=n.get(y)??0;n.set(y,b+1)},i=y=>{const b=n.get(y)??1;b===1?n.delete(y):n.set(y,b-1)},{extra:s,onError:a=Pie}=t;f7(a);const o=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),b=>{y.unsubscribe(),b!=null&&b.cancelActive&&vb(y)}),l=y=>{const b=WE(e,y)??RR(y);return o(b)};tc(l,{withTypes:()=>l});const c=y=>{const b=WE(e,y);return b&&(b.unsubscribe(),y.cancelActive&&vb(b)),!!b};tc(c,{withTypes:()=>c});const d=async(y,b,k,x)=>{const _=new AbortController,A=Iie(l,_.signal),C=[];try{y.pending.add(_),r(y),await Promise.resolve(y.effect(b,tc({},k,{getOriginalState:x,condition:(D,R)=>A(D,R).then(Boolean),take:A,delay:MR(_.signal),pause:vg(_.signal),extra:s,signal:_.signal,fork:Tie(_.signal,C),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((D,R,L)=>{D!==_&&(El(D,yb),L.delete(D))})},cancel:()=>{El(_,yb),y.pending.delete(_)},throwIfCancelled:()=>{_l(_.signal)}})))}catch(D){D instanceof vy||KE(a,D,{raisedBy:"effect"})}finally{await Promise.all(C),El(_,Eie),i(y),y.pending.delete(_)}},m=Aie(e,n);return{middleware:y=>b=>k=>{if(!pR(k))return b(k);if(jR.match(k))return l(k.payload);if(Cie.match(k)){m();return}if(LR.match(k))return c(k.payload);let x=y.getState();const _=()=>{if(x===HE)throw new Error(ti(23));return x};let A;try{if(A=b(k),e.size>0){const C=y.getState(),D=Array.from(e.values());for(const R of D){let L=!1;try{L=R.predicate(k,C,x)}catch(U){L=!1,KE(a,U,{raisedBy:"predicate"})}L&&d(R,k,y,_)}}}finally{x=HE}return A},startListening:l,stopListening:c,clearListeners:m}};function ti(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Oie={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$R=ui({name:"chartLayout",initialState:Oie,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Nie,setLayout:Mie,setChartSize:Die,setScale:Rie}=$R.actions,jie=$R.reducer;function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){Lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lie(t,e,n){return(e=$ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ie(t){var e=Fie(t,"string");return typeof e=="symbol"?e:e+""}function Fie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wg=Math.PI/180,zie=t=>t*180/Math.PI,Vn=(t,e,n,r)=>({x:t+Math.cos(-wg*r)*n,y:e+Math.sin(-wg*r)*n}),Bie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Uie=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Vie=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=Uie({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:zie(l),angleInRadian:l}},qie=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Hie=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},Wie=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=Vie({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:c}=qie(e),d=s,m;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;m=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=l}return m?YE(YE({},e),{},{radius:i,angle:Hie(d,e)}):null};function FR(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function XE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(n),!0).forEach(function(r){Kie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kie(t,e,n){return(e=Gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=Yie(t,"string");return typeof e=="symbol"?e:e+""}function Yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function br(t,e,n){return An(t)||An(e)?n:Ps(e)?hy(t,e,n):typeof e=="function"?e(t):n}var Xie=(t,e,n,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,d=n[l].coordinate,m=l>=o-1?n[0].coordinate:n[l+1].coordinate,g=void 0;if(Ti(d-c)!==Ti(m-d)){var y=[];if(Ti(m-d)===Ti(i[1]-i[0])){g=m;var b=d+i[1]-i[0];y[0]=Math.min(b,(b+c)/2),y[1]=Math.max(b,(b+c)/2)}else{g=c;var k=m+i[1]-i[0];y[0]=Math.min(d,(k+d)/2),y[1]=Math.max(d,(k+d)/2)}var x=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(t>x[0]&&t<=x[1]||t>=y[0]&&t<=y[1]){({index:a}=n[l]);break}}else{var _=Math.min(c,m),A=Math.max(c,m);if(t>(_+d)/2&&t<=(A+d)/2){({index:a}=n[l]);break}}}else if(e){for(var C=0;C<o;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<o-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===o-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:a}=e[C]);break}}return a},Qie=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&De(t[s]))return ki(ki({},t),{},{[s]:t[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&De(t[a]))return ki(ki({},t),{},{[a]:t[a]+(i||0)})}return t},zo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",zR=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(n),a},BR=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:m,niceTicks:g,axisType:y}=t;if(!a)return null;var b=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,k=i==="category"&&a.bandwidth?a.bandwidth()/b:0;if(k=y==="angleAxis"&&s&&s.length>=2?Ti(s[0]-s[1])*2*k:k,m||g){var x=(m||g||[]).map((_,A)=>{var C=r?r.indexOf(_):_;return{coordinate:a(C)+k,value:_,offset:k,index:A}});return x.filter(_=>!Ji(_.coordinate))}return l&&c?c.map((_,A)=>({coordinate:a(_)+k,value:_,index:A,offset:k})):a.ticks&&d!=null?a.ticks(d).map((_,A)=>({coordinate:a(_)+k,value:_,offset:k,index:A})):a.domain().map((_,A)=>({coordinate:a(_)+k,value:r?r[_]:_,index:A,offset:k}))},QE=1e-4,Jie=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-QE,s=Math.max(r[0],r[1])+QE,a=t(e[0]),o=t(e[n-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[n-1]])}},Zie=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var o=Ji(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+o,s=t[a][n][1])}},ese=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=Ji(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},tse={sign:Zie,expand:$ne,none:Tc,silhouette:Fne,wiggle:zne,positive:ese},nse=(t,e,n)=>{var r=tse[n],i=Lne().keys(e).value((s,a)=>+br(s,a,0)).order(lb).offset(r);return i(t)};function JE(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!An(i[e.dataKey])){var o=DD(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=br(i,An(a)?e.dataKey:a);return An(l)?null:e.scale(l)}var rse=t=>{var e=t.flat(2).filter(De);return[Math.min(...e),Math.max(...e)]},ise=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],sse=(t,e,n)=>{if(t!=null)return ise(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((l,c)=>{var d=FR(c,e,n),m=rse(d);return[Math.min(l[0],m[0]),Math.max(l[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},ZE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wb=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=my(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function t_(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return ki(ki({},e),{},{dataKey:n,payload:r,value:i,name:s})}function UR(t,e){if(t)return String(t);if(typeof e=="string")return e}function ase(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?Wie({x:t,y:e},r):null}var ose=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=r;return ki(ki(ki({},r),Vn(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return ki(ki(ki({},r),Vn(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},lse=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ea=t=>t.layout.width,_a=t=>t.layout.height,use=t=>t.layout.scale,VR=t=>t.layout.margin,by=Q(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),xy=Q(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),cse="data-recharts-item-index",hse="data-recharts-item-data-key",hf=60;function n_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(n),!0).forEach(function(r){dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dse(t,e,n){return(e=fse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=mse(t,"string");return typeof e=="symbol"?e:e+""}function mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pse=t=>t.brush.height;function gse(t){var e=xy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hf;return n+i}return n},0)}function yse(t){var e=xy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hf;return n+i}return n},0)}function vse(t){var e=by(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function wse(t){var e=by(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Xn=Q([Ea,_a,VR,pse,gse,yse,vse,wse,hR,$re],(t,e,n,r,i,s,a,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+a,bottom:(n.bottom||0)+o},g=_m(_m({},m),d),y=g.bottom;g.bottom+=r,g=Qie(g,l,c);var b=t-g.left-g.right,k=e-g.top-g.bottom;return _m(_m({brushBottom:y},g),{},{width:Math.max(b,0),height:Math.max(k,0)})}),bse=Q(Xn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),qR=Q(Ea,_a,(t,e)=>({x:0,y:0,width:t,height:e})),xse=I.createContext(null),ci=()=>I.useContext(xse)!=null,ky=t=>t.brush,Sy=Q([ky,Xn,VR],(t,e,n)=>({height:t.height,x:De(t.x)?t.x:e.left,y:De(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:De(t.width)?t.width:e.width})),HR={},WR={},KR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),d=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},m=()=>{c&&d(),k()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},r)},b=()=>{g!==null&&(clearTimeout(g),g=null)},k=()=>{b(),a=void 0,o=null},x=()=>{d()},_=function(...A){if(i!=null&&i.aborted)return;a=this,o=A;const C=g==null;y(),l&&C&&d()};return _.schedule=y,_.cancel=k,_.flush=x,i==null||i.addEventListener("abort",k,{once:!0}),_}t.debounce=e})(KR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KR;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);a&&(c[0]="leading"),o&&(c[1]="trailing");let d,m=null;const g=e.debounce(function(...k){d=r.apply(this,k),m=null},i,{edges:c}),y=function(...k){return l!=null&&(m===null&&(m=Date.now()),Date.now()-m>=l)?(d=r.apply(this,k),m=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,k),d)},b=()=>(g.flush(),d);return y.cancel=g.cancel,y.flush=b,y}t.debounce=n})(WR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WR;function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}t.throttle=n})(HR);var kse=HR.throttle;const Sse=Ao(kse);var bg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},GR=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,o=ca(r)?t:Number(r),l=ca(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},Ese={width:0,height:0,overflow:"visible"},_se={width:0,overflowX:"visible"},Tse={height:0,overflowY:"visible"},Ise={},Ase=t=>{var{width:e,height:n}=t,r=ca(e),i=ca(n);return r&&i?Ese:r?_se:i?Tse:Ise};function Cse(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function zr(t){return Number.isFinite(t)}function Cc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(null,arguments)}function r_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(n),!0).forEach(function(r){Pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pse(t,e,n){return(e=Ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ose(t){var e=Nse(t,"string");return typeof e=="symbol"?e:e+""}function Nse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YR=I.createContext({width:-1,height:-1});function XR(t){var{children:e,width:n,height:r}=t,i=I.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:I.createElement(YR.Provider,{value:i},e)}var m7=()=>I.useContext(YR),Mse=I.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:m,className:g,onResize:y,style:b={}}=t,k=I.useRef(null),x=I.useRef();x.current=y,I.useImperativeHandle(e,()=>k.current);var[_,A]=I.useState({containerWidth:r.width,containerHeight:r.height}),C=I.useCallback((G,Z)=>{A(J=>{var ne=Math.round(G),le=Math.round(Z);return J.containerWidth===ne&&J.containerHeight===le?J:{containerWidth:ne,containerHeight:le}})},[]);I.useEffect(()=>{var G=le=>{var q,{width:fe,height:ge}=le[0].contentRect;C(fe,ge),(q=x.current)===null||q===void 0||q.call(x,fe,ge)};d>0&&(G=Sse(G,d,{trailing:!0,leading:!1}));var Z=new ResizeObserver(G),{width:J,height:ne}=k.current.getBoundingClientRect();return C(J,ne),Z.observe(k.current),()=>{Z.disconnect()}},[C,d]);var{containerWidth:D,containerHeight:R}=_;bg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:U}=GR(D,R,{width:i,height:s,aspect:n,maxHeight:l});return bg(L>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,U,i,s,a,o,n),I.createElement("div",{id:m?"".concat(m):void 0,className:mt("recharts-responsive-container",g),style:i_(i_({},b),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:k},I.createElement("div",{style:Ase({width:i,height:s})},I.createElement(XR,{width:L,height:U},c)))}),Dse=I.forwardRef((t,e)=>{var n=m7();if(Cc(n.width)&&Cc(n.height))return t.children;var{width:r,height:i}=Cse({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=GR(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return De(s)&&De(a)?I.createElement(XR,{width:s,height:a},t.children):I.createElement(Mse,bb({},t,{width:r,height:i,ref:e}))}),Ey=()=>{var t,e=ci(),n=Oe(bse),r=Oe(Sy),i=(t=Oe(ky))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Rse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QR=()=>{var t;return(t=Oe(Xn))!==null&&t!==void 0?t:Rse},p7=()=>Oe(Ea),g7=()=>Oe(_a),jse=()=>Oe(t=>t.layout.margin),It=t=>t.layout.layoutType,y7=()=>Oe(It),_y=t=>{var e=Mn(),n=ci(),{width:r,height:i}=t,s=m7(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),I.useEffect(()=>{!n&&Cc(a)&&Cc(o)&&e(Die({width:a,height:o}))},[e,n,a,o]),null},Lse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},JR=ui({name:"legend",initialState:Lse,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:mr()},removeLegendPayload:{reducer(t,e){var n=ta(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:mr()}}}),{setLegendSize:s_,setLegendSettings:$se,addLegendPayload:Fse,removeLegendPayload:zse}=JR.actions,Bse=JR.reducer,Use=["contextPayload"];function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(null,arguments)}function a_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(n),!0).forEach(function(r){v7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v7(t,e,n){return(e=Vse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vse(t){var e=qse(t,"string");return typeof e=="symbol"?e:e+""}function qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hse(t,e){if(t==null)return{};var n,r,i=Wse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kse(t){return t.value}function Gse(t){var{contextPayload:e}=t,n=Hse(t,Use),r=eR(e,t.payloadUniqBy,Kse),i=Pc(Pc({},n),{},{payload:r});return I.isValidElement(t.content)?I.cloneElement(t.content,i):typeof t.content=="function"?I.createElement(t.content,i):I.createElement(X6,i)}function Yse(t,e,n,r,i,s){var{layout:a,align:o,verticalAlign:l}=e,c,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?c={left:((r||0)-s.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?d={top:((i||0)-s.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Pc(Pc({},c),d)}function Xse(t){var e=Mn();return I.useEffect(()=>{e($se(t))},[e,t]),null}function Qse(t){var e=Mn();return I.useEffect(()=>(e(s_(t)),()=>{e(s_({width:0,height:0}))}),[e,t]),null}function Jse(t){var e=Bre(),n=one(),r=jse(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[l,c]=dR([e]),d=p7(),m=g7();if(d==null||m==null)return null;var g=d-(r.left||0)-(r.right||0),y=Ty.getWidthOrHeight(t.layout,s,i,g),b=o?a:Pc(Pc({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||s||"auto"},Yse(a,t,r,d,m,l)),a),k=o??n;if(k==null)return null;var x=I.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:c},I.createElement(Xse,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),I.createElement(Qse,{width:l.width,height:l.height}),I.createElement(Gse,xb({},t,y,{margin:r,chartWidth:d,chartHeight:m,contextPayload:e})));return q5.createPortal(x,k)}class Ty extends I.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&De(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return I.createElement(Jse,this.props)}}v7(Ty,"displayName","Legend");v7(Ty,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kb.apply(null,arguments)}function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(r){Zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zse(t,e,n){return(e=eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return typeof e=="symbol"?e:e+""}function tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nae(t){return Array.isArray(t)&&Ps(t[0])&&Ps(t[1])?t.join(" ~ "):t}var rae=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:m,accessibilityLayer:g=!1}=t,y=()=>{if(s&&s.length){var R={padding:0,margin:0},L=(o?my(s,o):s).map((U,G)=>{if(U.type==="none")return null;var Z=U.formatter||a||nae,{value:J,name:ne}=U,le=J,q=ne;if(Z){var fe=Z(J,ne,U,G,s);if(Array.isArray(fe))[le,q]=fe;else if(fe!=null)le=fe;else return null}var ge=X4({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},r);return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:ge},Ps(q)?I.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Ps(q)?I.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,I.createElement("span",{className:"recharts-tooltip-item-value"},le),I.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:R},L)}return null},b=X4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),k=X4({margin:0},i),x=!An(d),_=x?d:"",A=mt("recharts-default-tooltip",l),C=mt("recharts-tooltip-label",c);x&&m&&s!==void 0&&s!==null&&(_=m(d,s));var D=g?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",kb({className:A,style:b},D),I.createElement("p",{className:C,style:k},I.isValidElement(_)?_:"".concat(_)),y())},zh="recharts-tooltip-wrapper",iae={visibility:"hidden"};function sae(t){var{coordinate:e,translateX:n,translateY:r}=t;return mt(zh,{["".concat(zh,"-right")]:De(n)&&e&&De(e.x)&&n>=e.x,["".concat(zh,"-left")]:De(n)&&e&&De(e.x)&&n<e.x,["".concat(zh,"-bottom")]:De(r)&&e&&De(e.y)&&r>=e.y,["".concat(zh,"-top")]:De(r)&&e&&De(e.y)&&r<e.y})}function l_(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(s&&De(s[r]))return s[r];var d=n[r]-o-(i>0?i:0),m=n[r]+i;if(e[r])return a[r]?d:m;var g=l[r];if(g==null)return 0;if(a[r]){var y=d,b=g;return y<b?Math.max(m,g):Math.max(d,g)}if(c==null)return 0;var k=m+o,x=g+c;return k>x?Math.max(d,g):Math.max(m,g)}function aae(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oae(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,c,d,m;return a.height>0&&a.width>0&&n?(d=l_({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),m=l_({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=aae({translateX:d,translateY:m,useTranslate3d:o})):c=iae,{cssProperties:c,cssClasses:sae({translateX:d,translateY:m,coordinate:n})}}function u_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(n),!0).forEach(function(r){Sb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sb(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=uae(t,"string");return typeof e=="symbol"?e:e+""}function uae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cae extends I.PureComponent{constructor(){super(...arguments),Sb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:b,lastBoundingBox:k,innerRef:x,hasPortalFromProps:_}=this.props,{cssClasses:A,cssProperties:C}=oae({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:c,position:d,reverseDirection:m,tooltipBox:{height:k.height,width:k.width},useTranslate3d:g,viewBox:y}),D=_?{}:Tm(Tm({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),R=Tm(Tm({},D),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return I.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:R,ref:x},s)}}var hae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rh={devToolsEnabled:!1,isSsr:hae()},ZR=()=>Oe(t=>t.rootProps.accessibilityLayer);function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function c_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c_(Object(n),!0).forEach(function(r){dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dae(t,e,n){return(e=fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=mae(t,"string");return typeof e=="symbol"?e:e+""}function mae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d_={curveBasisClosed:Tne,curveBasisOpen:Ine,curveBasis:_ne,curveBumpX:hne,curveBumpY:dne,curveLinearClosed:Ane,curveLinear:ay,curveMonotoneX:Cne,curveMonotoneY:Pne,curveNatural:One,curveStep:Nne,curveStepAfter:Dne,curveStepBefore:Mne},Im=t=>zr(t.x)&&zr(t.y),Bh=t=>t.x,Uh=t=>t.y,pae=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(lf(t));return(n==="curveMonotone"||n==="curveBump")&&e?d_["".concat(n).concat(e==="vertical"?"Y":"X")]:d_[n]||ay},gae=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=pae(e,i),o=s?n.filter(Im):n,l;if(Array.isArray(r)){var c=s?r.filter(m=>Im(m)):r,d=o.map((m,g)=>h_(h_({},m),{},{base:c[g]}));return i==="vertical"?l=wm().y(Uh).x1(Bh).x0(m=>m.base.x):l=wm().x(Bh).y1(Uh).y0(m=>m.base.y),l.defined(Im).curve(a),l(d)}return i==="vertical"&&De(r)?l=wm().y(Uh).x1(Bh).x0(r):De(r)?l=wm().x(Bh).y1(Uh).y0(r):l=bD().x(Bh).y(Uh),l.defined(Im).curve(a),l(o)},ej=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?gae(t):r;return I.createElement("path",Eb({},Cs(t),G6(t),{className:mt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},yae=["x","y","top","left","width","height","className"];function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(null,arguments)}function f_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return(e=bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kae(t,e){if(t==null)return{};var n,r,i=Sae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Eae=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),_ae=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=kae(t,yae),c=vae({x:e,y:n,top:r,left:i,width:s,height:a},l);return!De(e)||!De(n)||!De(s)||!De(a)||!De(r)||!De(i)?null:I.createElement("path",_b({},si(c),{className:mt("recharts-cross",o),d:Eae(e,n,s,a,r,i)}))};function Tae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function m_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m_(Object(n),!0).forEach(function(r){Aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aae(t,e,n){return(e=Cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=Pae(t,"string");return typeof e=="symbol"?e:e+""}function Pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ri(t,e){var n=Iae({},t),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}function Oae(){}function Nae(t){return t!=null}function p_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=Dae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dae(t){var e=Rae(t,"string");return typeof e=="symbol"?e:e+""}function Rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Lae=(t,e,n)=>t.map(r=>"".concat(jae(r)," ").concat(e,"ms ").concat(n)).join(","),$ae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),S0=(t,e)=>Object.keys(e).reduce((n,r)=>g_(g_({},n),{},{[r]:t(r,e[r])}),{});function y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y_(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return(e=zae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zae(t){var e=Bae(t,"string");return typeof e=="symbol"?e:e+""}function Bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xg=(t,e,n)=>t+(e-t)*n,Tb=t=>{var{from:e,to:n}=t;return e!==n},tj=(t,e,n)=>{var r=S0((i,s)=>{if(Tb(s)){var[a,o]=t(s.from,s.to,s.velocity);return zn(zn({},s),{},{from:a,velocity:o})}return s},e);return n<1?S0((i,s)=>Tb(s)?zn(zn({},s),{},{velocity:xg(s.velocity,r[i].velocity,n),from:xg(s.from,r[i].from,n)}):s,e):tj(t,r,n-1)};function Uae(t,e,n,r,i,s){var a,o=r.reduce((g,y)=>zn(zn({},g),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),l=()=>S0((g,y)=>y.from,o),c=()=>!Object.values(o).filter(Tb).length,d=null,m=g=>{a||(a=g);var y=g-a,b=y/n.dt;o=tj(n,o,b),i(zn(zn(zn({},t),e),l())),a=g,c()||(d=s.setTimeout(m))};return()=>(d=s.setTimeout(m),()=>{d()})}function Vae(t,e,n,r,i,s,a){var o=null,l=i.reduce((m,g)=>zn(zn({},m),{},{[g]:[t[g],e[g]]}),{}),c,d=m=>{c||(c=m);var g=(m-c)/r,y=S0((k,x)=>xg(...x,n(g)),l);if(s(zn(zn(zn({},t),e),y)),g<1)o=a.setTimeout(d);else{var b=S0((k,x)=>xg(...x,n(1)),l);s(zn(zn(zn({},t),e),b))}};return()=>(o=a.setTimeout(d),()=>{o()})}const qae=(t,e,n,r,i,s)=>{var a=$ae(t,e);return n.isStepper===!0?Uae(t,e,n,a,i,s):Vae(t,e,n,r,a,i,s)};var kg=1e-4,nj=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],rj=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),v_=(t,e)=>n=>{var r=nj(t,e);return rj(r,n)},Hae=(t,e)=>n=>{var r=nj(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return rj(i,n)},w_=function(){for(var e,n,r,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else a.length===4&&([e,r,n,i]=a);var c=v_(e,n),d=v_(r,i),m=Hae(e,n),g=b=>b>1?1:b<0?0:b,y=b=>{for(var k=b>1?1:b,x=k,_=0;_<8;++_){var A=c(x)-k,C=m(x);if(Math.abs(A-k)<kg||C<kg)return d(x);x=g(x-A/C)}return d(x)};return y.isStepper=!1,y},Wae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var c=-(a-o)*n,d=l*r,m=l+(c-d)*i/1e3,g=l*i/1e3+a;return Math.abs(g-o)<kg&&Math.abs(m)<kg?[o,0]:[g,m]};return s.isStepper=!0,s.dt=i,s},Kae=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w_(t);case"spring":return Wae();default:if(t.split("(")[0]==="cubic-bezier")return w_(t)}return typeof t=="function"?t:null};function Gae(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,c),l);return}s(l),i=t.setTimeout(s.bind(null,c));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class Yae{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Xae(){return Gae(new Yae)}var Qae=I.createContext(Xae);function Jae(t,e){var n=I.useContext(Qae);return I.useMemo(()=>e??n(t),[t,e,n])}var Zae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},b_={t:0},Q4={t:1};function ij(t){var e=Ri(t,Zae),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:c}=e,d=Jae(e.animationId,e.animationManager),[m,g]=I.useState(n?b_:Q4),y=I.useRef(null);return I.useEffect(()=>{n||g(Q4)},[n]),I.useEffect(()=>{if(!n||!r)return Oae;var b=qae(b_,Q4,Kae(s),i,g,d.getTimeoutController()),k=()=>{y.current=b()};return d.start([l,a,k,i,o]),()=>{d.stop(),y.current&&y.current(),o()}},[n,r,i,s,a,l,o,d]),c(m.t)}function sj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=I.useRef(b0(e)),r=I.useRef(t);return r.current!==t&&(n.current=b0(e),r.current=t),n.current}var eoe=["radius"],toe=["radius"];function x_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x_(Object(n),!0).forEach(function(r){noe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function noe(t,e,n){return(e=roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function roe(t){var e=ioe(t,"string");return typeof e=="symbol"?e:e+""}function ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sg.apply(null,arguments)}function S_(t,e){if(t==null)return{};var n,r,i=soe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function soe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E_=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],m=0,g=4;m<g;m++)d[m]=i[m]>s?s:i[m];c="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(t+o*d[0],",").concat(e)),c+="L ".concat(t+n-o*d[1],",").concat(e),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+a*d[1])),c+="L ".concat(t+n,",").concat(e+r-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(t+n-o*d[2],",").concat(e+r)),c+="L ".concat(t+o*d[3],",").concat(e+r),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-a*d[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var y=Math.min(s,i);c="M ".concat(t,",").concat(e+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(t+o*y,",").concat(e,`
            L `).concat(t+n-o*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(t+n,",").concat(e+a*y,`
            L `).concat(t+n,",").concat(e+r-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(t+n-o*y,",").concat(e+r,`
            L `).concat(t+o*y,",").concat(e+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(t,",").concat(e+r-a*y," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},aoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ooe=t=>{var e=Ri(t,aoe),n=I.useRef(null),[r,i]=I.useState(-1);I.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Ie=n.current.getTotalLength();Ie&&i(Ie)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:c,className:d}=e,{animationEasing:m,animationDuration:g,animationBegin:y,isAnimationActive:b,isUpdateAnimationActive:k}=e,x=I.useRef(o),_=I.useRef(l),A=I.useRef(s),C=I.useRef(a),D=I.useMemo(()=>({x:s,y:a,width:o,height:l,radius:c}),[s,a,o,l,c]),R=sj(D,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var L=mt("recharts-rectangle",d);if(!k){var U=si(e),{radius:G}=U,Z=S_(U,eoe);return I.createElement("path",Sg({},Z,{radius:typeof c=="number"?c:void 0,className:L,d:E_(s,a,o,l,c)}))}var J=x.current,ne=_.current,le=A.current,q=C.current,fe="0px ".concat(r===-1?1:r,"px"),ge="".concat(r,"px 0px"),Te=Lae(["strokeDasharray"],g,typeof m=="string"?m:void 0);return I.createElement(ij,{animationId:R,key:R,canBegin:r>0,duration:g,easing:m,isActive:k,begin:y},Ie=>{var he=Bs(J,o,Ie),we=Bs(ne,l,Ie),ee=Bs(le,s,Ie),Ue=Bs(q,a,Ie);n.current&&(x.current=he,_.current=we,A.current=ee,C.current=Ue);var He;b?Ie>0?He={transition:Te,strokeDasharray:ge}:He={strokeDasharray:fe}:He={strokeDasharray:ge};var bn=si(e),{radius:jn}=bn,ht=S_(bn,toe);return I.createElement("path",Sg({},ht,{radius:typeof c=="number"?c:void 0,className:L,d:E_(ee,Ue,he,we,c),ref:n,style:k_(k_({},He),e.style)}))})};function aj(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Vn(e,n,r,i),o=Vn(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(null,arguments)}var loe=(t,e)=>{var n=Ti(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Am=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,c=o*(a?1:-1)+r,d=Math.asin(o/c)/wg,m=l?i:i+s*d,g=Vn(e,n,c,m),y=Vn(e,n,r,m),b=l?i-s*d:i,k=Vn(e,n,c*Math.cos(d*wg),b);return{center:g,circleTangency:y,lineTangency:k,theta:d}},oj=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,o=loe(s,a),l=s+o,c=Vn(e,n,i,s),d=Vn(e,n,i,l),m="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var g=Vn(e,n,r,s),y=Vn(e,n,r,l);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},uoe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:c}=t,d=Ti(c-l),{circleTangency:m,lineTangency:g,theta:y}=Am({cx:e,cy:n,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:k,theta:x}=Am({cx:e,cy:n,radius:i,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),_=o?Math.abs(l-c):Math.abs(l-c)-y-x;if(_<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):oj({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var A="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:D,theta:R}=Am({cx:e,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:L,lineTangency:U,theta:G}=Am({cx:e,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),Z=o?Math.abs(l-c):Math.abs(l-c)-R-G;if(Z<0&&s===0)return"".concat(A,"L").concat(e,",").concat(n,"Z");A+="L".concat(U.x,",").concat(U.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Z>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,"Z")}else A+="L".concat(e,",").concat(n,"Z");return A},coe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hoe=t=>{var e=Ri(t,coe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:m}=e;if(s<i||c===d)return null;var g=mt("recharts-sector",m),y=s-i,b=Io(a,y,0,!0),k;return b>0&&Math.abs(c-d)<360?k=uoe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,y/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):k=oj({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d}),I.createElement("path",Ib({},si(e),{className:g,d:k}))};function doe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:d,angle:m}=e,g=Vn(o,l,c,m),y=Vn(o,l,d,m);r=g.x,i=g.y,s=y.x,a=y.y}else return aj(e);return[{x:r,y:i},{x:s,y:a}]}var lj={},uj={},cj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o7;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(cj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cj;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(uj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l7,n=uj;function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=a;return l}t.range=r})(lj);var foe=lj.range;const hj=Ao(foe);function co(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function moe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function w7(t){let e,n,r;t.length!==2?(e=co,n=(o,l)=>co(t(o),l),r=(o,l)=>t(o)-l):(e=t===co||t===moe?t:poe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const m=c+d>>>1;n(o[m],l)<0?c=m+1:d=m}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const m=c+d>>>1;n(o[m],l)<=0?c=m+1:d=m}while(c<d)}return c}function a(o,l,c=0,d=o.length){const m=i(o,l,c,d-1);return m>c&&r(o[m-1],l)>-r(o[m],l)?m-1:m}return{left:i,center:a,right:s}}function poe(){return 0}function dj(t){return t===null?NaN:+t}function*goe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const yoe=w7(co),df=yoe.right;w7(dj).center;class __ extends Map{constructor(e,n=boe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(T_(this,e))}has(e){return super.has(T_(this,e))}set(e,n){return super.set(voe(this,e),n)}delete(e){return super.delete(woe(this,e))}}function T_({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function voe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function woe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function boe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xoe(t=co){if(t===co)return fj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function fj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const koe=Math.sqrt(50),Soe=Math.sqrt(10),Eoe=Math.sqrt(2);function Eg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=koe?10:s>=Soe?5:s>=Eoe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?Eg(t,e,n*2):[o,l,c]}function Ab(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Eg(e,t,n):Eg(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function Cb(t,e,n){return e=+e,t=+t,n=+n,Eg(t,e,n)[2]}function Pb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Cb(e,t,n):Cb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function I_(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function A_(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function mj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?fj:xoe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),m=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*m*(l-m)/l)*(c-l/2<0?-1:1),y=Math.max(n,Math.floor(e-c*m/l+g)),b=Math.min(r,Math.floor(e+(l-c)*m/l+g));mj(t,e,y,b,i)}const s=t[e];let a=n,o=r;for(Vh(t,n,e),i(t[r],s)>0&&Vh(t,n,r);a<o;){for(Vh(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Vh(t,n,o):(++o,Vh(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Vh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _oe(t,e,n){if(t=Float64Array.from(goe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return A_(t);if(e>=1)return I_(t);var r,i=(r-1)*e,s=Math.floor(i),a=I_(mj(t,s).subarray(0,s+1)),o=A_(t.subarray(s+1));return a+(o-a)*(i-s)}}function Toe(t,e,n=dj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Ioe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ji(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ta(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ob=Symbol("implicit");function b7(){var t=new __,e=[],n=[],r=Ob;function i(s){let a=t.get(s);if(a===void 0){if(r!==Ob)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new __;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return b7(e,n).unknown(r)},ji.apply(i,arguments),i}function x7(){var t=b7().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,d=.5;delete t.unknown;function m(){var g=e().length,y=i<r,b=y?i:r,k=y?r:i;s=(k-b)/Math.max(1,g-l+c*2),o&&(s=Math.floor(s)),b+=(k-b-s*(g-l))*d,a=s*(1-l),o&&(b=Math.round(b),a=Math.round(a));var x=Ioe(g).map(function(_){return b+s*_});return n(y?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(o=!!g,m()):o},t.padding=function(g){return arguments.length?(l=Math.min(1,c=+g),m()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),m()):l},t.paddingOuter=function(g){return arguments.length?(c=+g,m()):c},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),m()):d},t.copy=function(){return x7(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},ji.apply(m(),arguments)}function pj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pj(e())},t}function Aoe(){return pj(x7.apply(null,arguments).paddingInner(1))}function k7(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ff(){}var E0=.7,_g=1/E0,nc="\\s*([+-]?\\d+)\\s*",_0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Es="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Coe=/^#([0-9a-f]{3,8})$/,Poe=new RegExp(`^rgb\\(${nc},${nc},${nc}\\)$`),Ooe=new RegExp(`^rgb\\(${Es},${Es},${Es}\\)$`),Noe=new RegExp(`^rgba\\(${nc},${nc},${nc},${_0}\\)$`),Moe=new RegExp(`^rgba\\(${Es},${Es},${Es},${_0}\\)$`),Doe=new RegExp(`^hsl\\(${_0},${Es},${Es}\\)$`),Roe=new RegExp(`^hsla\\(${_0},${Es},${Es},${_0}\\)$`),C_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k7(ff,T0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:P_,formatHex:P_,formatHex8:joe,formatHsl:Loe,formatRgb:O_,toString:O_});function P_(){return this.rgb().formatHex()}function joe(){return this.rgb().formatHex8()}function Loe(){return yj(this).formatHsl()}function O_(){return this.rgb().formatRgb()}function T0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Coe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?N_(e):n===3?new Rr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Poe.exec(t))?new Rr(e[1],e[2],e[3],1):(e=Ooe.exec(t))?new Rr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Noe.exec(t))?Cm(e[1],e[2],e[3],e[4]):(e=Moe.exec(t))?Cm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Doe.exec(t))?R_(e[1],e[2]/100,e[3]/100,1):(e=Roe.exec(t))?R_(e[1],e[2]/100,e[3]/100,e[4]):C_.hasOwnProperty(t)?N_(C_[t]):t==="transparent"?new Rr(NaN,NaN,NaN,0):null}function N_(t){return new Rr(t>>16&255,t>>8&255,t&255,1)}function Cm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rr(t,e,n,r)}function $oe(t){return t instanceof ff||(t=T0(t)),t?(t=t.rgb(),new Rr(t.r,t.g,t.b,t.opacity)):new Rr}function Nb(t,e,n,r){return arguments.length===1?$oe(t):new Rr(t,e,n,r??1)}function Rr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}k7(Rr,Nb,gj(ff,{brighter(t){return t=t==null?_g:Math.pow(_g,t),new Rr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?E0:Math.pow(E0,t),new Rr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rr(Tl(this.r),Tl(this.g),Tl(this.b),Tg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M_,formatHex:M_,formatHex8:Foe,formatRgb:D_,toString:D_}));function M_(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}`}function Foe(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}${ml((isNaN(this.opacity)?1:this.opacity)*255)}`}function D_(){const t=Tg(this.opacity);return`${t===1?"rgb(":"rgba("}${Tl(this.r)}, ${Tl(this.g)}, ${Tl(this.b)}${t===1?")":`, ${t})`}`}function Tg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ml(t){return t=Tl(t),(t<16?"0":"")+t.toString(16)}function R_(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qi(t,e,n,r)}function yj(t){if(t instanceof qi)return new qi(t.h,t.s,t.l,t.opacity);if(t instanceof ff||(t=T0(t)),!t)return new qi;if(t instanceof qi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new qi(a,o,l,t.opacity)}function zoe(t,e,n,r){return arguments.length===1?yj(t):new qi(t,e,n,r??1)}function qi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}k7(qi,zoe,gj(ff,{brighter(t){return t=t==null?_g:Math.pow(_g,t),new qi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?E0:Math.pow(E0,t),new qi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rr(J4(t>=240?t-240:t+120,i,r),J4(t,i,r),J4(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new qi(j_(this.h),Pm(this.s),Pm(this.l),Tg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Tg(this.opacity);return`${t===1?"hsl(":"hsla("}${j_(this.h)}, ${Pm(this.s)*100}%, ${Pm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function j_(t){return t=(t||0)%360,t<0?t+360:t}function Pm(t){return Math.max(0,Math.min(1,t||0))}function J4(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const S7=t=>()=>t;function Boe(t,e){return function(n){return t+n*e}}function Uoe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Voe(t){return(t=+t)==1?vj:function(e,n){return n-e?Uoe(e,n,t):S7(isNaN(e)?n:e)}}function vj(t,e){var n=e-t;return n?Boe(t,n):S7(isNaN(t)?e:t)}const L_=function t(e){var n=Voe(e);function r(i,s){var a=n((i=Nb(i)).r,(s=Nb(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=vj(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function qoe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Hoe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Woe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=ih(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Koe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ig(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Goe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ih(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Mb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z4=new RegExp(Mb.source,"g");function Yoe(t){return function(){return t}}function Xoe(t){return function(e){return t(e)+""}}function Qoe(t,e){var n=Mb.lastIndex=Z4.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=Mb.exec(t))&&(i=Z4.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Ig(r,i)})),n=Z4.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Xoe(l[0].x):Yoe(e):(e=l.length,function(c){for(var d=0,m;d<e;++d)o[(m=l[d]).i]=m.x(c);return o.join("")})}function ih(t,e){var n=typeof e,r;return e==null||n==="boolean"?S7(e):(n==="number"?Ig:n==="string"?(r=T0(e))?(e=r,L_):Qoe:e instanceof T0?L_:e instanceof Date?Koe:Hoe(e)?qoe:Array.isArray(e)?Woe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Goe:Ig)(t,e)}function E7(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Joe(t,e){e===void 0&&(e=t,t=ih);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Zoe(t){return function(){return t}}function Ag(t){return+t}var $_=[0,1];function gr(t){return t}function Db(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Zoe(isNaN(e)?NaN:.5)}function ele(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function tle(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=Db(i,r),s=n(a,s)):(r=Db(r,i),s=n(s,a)),function(o){return s(r(o))}}function nle(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Db(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=df(t,o,1,r)-1;return s[l](i[l](o))}}function mf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Iy(){var t=$_,e=$_,n=ih,r,i,s,a=gr,o,l,c;function d(){var g=Math.min(t.length,e.length);return a!==gr&&(a=ele(t[0],t[g-1])),o=g>2?nle:tle,l=c=null,m}function m(g){return g==null||isNaN(g=+g)?s:(l||(l=o(t.map(r),e,n)))(r(a(g)))}return m.invert=function(g){return a(i((c||(c=o(e,t.map(r),Ig)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,Ag),d()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=E7,d()},m.clamp=function(g){return arguments.length?(a=g?!0:gr,d()):a!==gr},m.interpolate=function(g){return arguments.length?(n=g,d()):n},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,y){return r=g,i=y,d()}}function _7(){return Iy()(gr,gr)}function rle(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Oc(t){return t=Cg(Math.abs(t)),t?t[1]:NaN}function ile(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function sle(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ale=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function I0(t){if(!(e=ale.exec(t)))throw new Error("invalid format: "+t);var e;return new T7({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}I0.prototype=T7.prototype;function T7(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}T7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ole(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var wj;function lle(t,e){var n=Cg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(wj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Cg(t,Math.max(0,e+s-1))[0]}function F_(t,e){var n=Cg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const z_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rle,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>F_(t*100,e),r:F_,s:lle,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function B_(t){return t}var U_=Array.prototype.map,V_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ule(t){var e=t.grouping===void 0||t.thousands===void 0?B_:ile(U_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?B_:sle(U_.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(m){m=I0(m);var g=m.fill,y=m.align,b=m.sign,k=m.symbol,x=m.zero,_=m.width,A=m.comma,C=m.precision,D=m.trim,R=m.type;R==="n"?(A=!0,R="g"):z_[R]||(C===void 0&&(C=12),D=!0,R="g"),(x||g==="0"&&y==="=")&&(x=!0,g="0",y="=");var L=k==="$"?n:k==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",U=k==="$"?r:/[%p]/.test(R)?a:"",G=z_[R],Z=/[defgprs%]/.test(R);C=C===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function J(ne){var le=L,q=U,fe,ge,Te;if(R==="c")q=G(ne)+q,ne="";else{ne=+ne;var Ie=ne<0||1/ne<0;if(ne=isNaN(ne)?l:G(Math.abs(ne),C),D&&(ne=ole(ne)),Ie&&+ne==0&&b!=="+"&&(Ie=!1),le=(Ie?b==="("?b:o:b==="-"||b==="("?"":b)+le,q=(R==="s"?V_[8+wj/3]:"")+q+(Ie&&b==="("?")":""),Z){for(fe=-1,ge=ne.length;++fe<ge;)if(Te=ne.charCodeAt(fe),48>Te||Te>57){q=(Te===46?i+ne.slice(fe+1):ne.slice(fe))+q,ne=ne.slice(0,fe);break}}}A&&!x&&(ne=e(ne,1/0));var he=le.length+ne.length+q.length,we=he<_?new Array(_-he+1).join(g):"";switch(A&&x&&(ne=e(we+ne,we.length?_-q.length:1/0),we=""),y){case"<":ne=le+ne+q+we;break;case"=":ne=le+we+ne+q;break;case"^":ne=we.slice(0,he=we.length>>1)+le+ne+q+we.slice(he);break;default:ne=we+le+ne+q;break}return s(ne)}return J.toString=function(){return m+""},J}function d(m,g){var y=c((m=I0(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Oc(g)/3)))*3,k=Math.pow(10,-b),x=V_[8+b/3];return function(_){return y(k*_)+x}}return{format:c,formatPrefix:d}}var Om,I7,bj;cle({thousands:",",grouping:[3],currency:["$",""]});function cle(t){return Om=ule(t),I7=Om.format,bj=Om.formatPrefix,Om}function hle(t){return Math.max(0,-Oc(Math.abs(t)))}function dle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oc(e)/3)))*3-Oc(Math.abs(t)))}function fle(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Oc(e)-Oc(t))+1}function xj(t,e,n,r){var i=Pb(t,e,n),s;switch(r=I0(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=dle(i,a))&&(r.precision=s),bj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=fle(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=hle(i))&&(r.precision=s-(r.type==="%")*2);break}}return I7(r)}function Bo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ab(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return xj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=Cb(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function kj(){var t=_7();return t.copy=function(){return mf(t,kj())},ji.apply(t,arguments),Bo(t)}function Sj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ag),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Sj(t).unknown(e)},t=arguments.length?Array.from(t,Ag):[0,1],Bo(n)}function Ej(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function q_(t){return Math.log(t)}function H_(t){return Math.exp(t)}function mle(t){return-Math.log(-t)}function ple(t){return-Math.exp(-t)}function gle(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yle(t){return t===10?gle:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vle(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function W_(t){return(e,n)=>-t(-e,n)}function A7(t){const e=t(q_,H_),n=e.domain;let r=10,i,s;function a(){return i=vle(r),s=yle(r),n()[0]<0?(i=W_(i),s=W_(s),t(mle,ple)):t(q_,H_),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const m=d<c;m&&([c,d]=[d,c]);let g=i(c),y=i(d),b,k;const x=o==null?10:+o;let _=[];if(!(r%1)&&y-g<x){if(g=Math.floor(g),y=Math.ceil(y),c>0){for(;g<=y;++g)for(b=1;b<r;++b)if(k=g<0?b/s(-g):b*s(g),!(k<c)){if(k>d)break;_.push(k)}}else for(;g<=y;++g)for(b=r-1;b>=1;--b)if(k=g>0?b/s(-g):b*s(g),!(k<c)){if(k>d)break;_.push(k)}_.length*2<x&&(_=Ab(c,d,x))}else _=Ab(g,y,Math.min(y-g,x)).map(s);return m?_.reverse():_},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=I0(l)).precision==null&&(l.trim=!0),l=I7(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let m=d/s(Math.round(i(d)));return m*r<r-.5&&(m*=r),m<=c?l(d):""}},e.nice=()=>n(Ej(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function _j(){const t=A7(Iy()).domain([1,10]);return t.copy=()=>mf(t,_j()).base(t.base()),ji.apply(t,arguments),t}function K_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function G_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function C7(t){var e=1,n=t(K_(e),G_(e));return n.constant=function(r){return arguments.length?t(K_(e=+r),G_(e)):e},Bo(n)}function Tj(){var t=C7(Iy());return t.copy=function(){return mf(t,Tj()).constant(t.constant())},ji.apply(t,arguments)}function Y_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ble(t){return t<0?-t*t:t*t}function P7(t){var e=t(gr,gr),n=1;function r(){return n===1?t(gr,gr):n===.5?t(wle,ble):t(Y_(n),Y_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Bo(e)}function O7(){var t=P7(Iy());return t.copy=function(){return mf(t,O7()).exponent(t.exponent())},ji.apply(t,arguments),t}function xle(){return O7.apply(null,arguments).exponent(.5)}function X_(t){return Math.sign(t)*t*t}function kle(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ij(){var t=_7(),e=[0,1],n=!1,r;function i(s){var a=kle(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(X_(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ag)).map(X_)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ij(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ji.apply(i,arguments),Bo(i)}function Aj(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=Toe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[df(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(co),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Aj().domain(t).range(e).unknown(r)},ji.apply(s,arguments)}function Cj(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[df(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Cj().domain([t,e]).range(i).unknown(s)},ji.apply(Bo(a),arguments)}function Pj(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[df(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Pj().domain(t).range(e).unknown(n)},ji.apply(i,arguments)}const e2=new Date,t2=new Date;function gn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>gn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(e2.setTime(+s),t2.setTime(+a),t(e2),t(t2),Math.floor(n(e2,t2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Pg=gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Pg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Pg);Pg.range;const Xs=1e3,Ii=Xs*60,Qs=Ii*60,da=Qs*24,N7=da*7,Q_=da*30,n2=da*365,pl=gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xs)},(t,e)=>(e-t)/Xs,t=>t.getUTCSeconds());pl.range;const M7=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xs)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getMinutes());M7.range;const D7=gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getUTCMinutes());D7.range;const R7=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xs-t.getMinutes()*Ii)},(t,e)=>{t.setTime(+t+e*Qs)},(t,e)=>(e-t)/Qs,t=>t.getHours());R7.range;const j7=gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qs)},(t,e)=>(e-t)/Qs,t=>t.getUTCHours());j7.range;const pf=gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ii)/da,t=>t.getDate()-1);pf.range;const Ay=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/da,t=>t.getUTCDate()-1);Ay.range;const Oj=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/da,t=>Math.floor(t/da));Oj.range;function cu(t){return gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/N7)}const Cy=cu(0),Og=cu(1),Sle=cu(2),Ele=cu(3),Nc=cu(4),_le=cu(5),Tle=cu(6);Cy.range;Og.range;Sle.range;Ele.range;Nc.range;_le.range;Tle.range;function hu(t){return gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/N7)}const Py=hu(0),Ng=hu(1),Ile=hu(2),Ale=hu(3),Mc=hu(4),Cle=hu(5),Ple=hu(6);Py.range;Ng.range;Ile.range;Ale.range;Mc.range;Cle.range;Ple.range;const L7=gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());L7.range;const $7=gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$7.range;const fa=gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});fa.range;const ma=gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ma.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ma.range;function Nj(t,e,n,r,i,s){const a=[[pl,1,Xs],[pl,5,5*Xs],[pl,15,15*Xs],[pl,30,30*Xs],[s,1,Ii],[s,5,5*Ii],[s,15,15*Ii],[s,30,30*Ii],[i,1,Qs],[i,3,3*Qs],[i,6,6*Qs],[i,12,12*Qs],[r,1,da],[r,2,2*da],[n,1,N7],[e,1,Q_],[e,3,3*Q_],[t,1,n2]];function o(c,d,m){const g=d<c;g&&([c,d]=[d,c]);const y=m&&typeof m.range=="function"?m:l(c,d,m),b=y?y.range(c,+d+1):[];return g?b.reverse():b}function l(c,d,m){const g=Math.abs(d-c)/m,y=w7(([,,x])=>x).right(a,g);if(y===a.length)return t.every(Pb(c/n2,d/n2,m));if(y===0)return Pg.every(Math.max(Pb(c,d,m),1));const[b,k]=a[g/a[y-1][2]<a[y][2]/g?y-1:y];return b.every(k)}return[o,l]}const[Ole,Nle]=Nj(ma,$7,Py,Oj,j7,D7),[Mle,Dle]=Nj(fa,L7,Cy,pf,R7,M7);function r2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Rle(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Hh(i),d=Wh(i),m=Hh(s),g=Wh(s),y=Hh(a),b=Wh(a),k=Hh(o),x=Wh(o),_=Hh(l),A=Wh(l),C={a:Ie,A:he,b:we,B:ee,c:null,d:rT,e:rT,f:iue,g:mue,G:gue,H:tue,I:nue,j:rue,L:Mj,m:sue,M:aue,p:Ue,q:He,Q:aT,s:oT,S:oue,u:lue,U:uue,V:cue,w:hue,W:due,x:null,X:null,y:fue,Y:pue,Z:yue,"%":sT},D={a:bn,A:jn,b:ht,B:Br,c:null,d:iT,e:iT,f:xue,g:Oue,G:Mue,H:vue,I:wue,j:bue,L:Rj,m:kue,M:Sue,p:es,q:fh,Q:aT,s:oT,S:Eue,u:_ue,U:Tue,V:Iue,w:Aue,W:Cue,x:null,X:null,y:Pue,Y:Nue,Z:Due,"%":sT},R={a:J,A:ne,b:le,B:q,c:fe,d:tT,e:tT,f:Qle,g:eT,G:Z_,H:nT,I:nT,j:Kle,L:Xle,m:Wle,M:Gle,p:Z,q:Hle,Q:Zle,s:eue,S:Yle,u:zle,U:Ble,V:Ule,w:Fle,W:Vle,x:ge,X:Te,y:eT,Y:Z_,Z:qle,"%":Jle};C.x=L(n,C),C.X=L(r,C),C.c=L(e,C),D.x=L(n,D),D.X=L(r,D),D.c=L(e,D);function L(ae,ze){return function(Ke){var ce=[],Qn=-1,ut=0,Jn=ae.length,lr,xn,qo;for(Ke instanceof Date||(Ke=new Date(+Ke));++Qn<Jn;)ae.charCodeAt(Qn)===37&&(ce.push(ae.slice(ut,Qn)),(xn=J_[lr=ae.charAt(++Qn)])!=null?lr=ae.charAt(++Qn):xn=lr==="e"?" ":"0",(qo=ze[lr])&&(lr=qo(Ke,xn)),ce.push(lr),ut=Qn+1);return ce.push(ae.slice(ut,Qn)),ce.join("")}}function U(ae,ze){return function(Ke){var ce=qh(1900,void 0,1),Qn=G(ce,ae,Ke+="",0),ut,Jn;if(Qn!=Ke.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(ze&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(ut=i2(qh(ce.y,0,1)),Jn=ut.getUTCDay(),ut=Jn>4||Jn===0?Ng.ceil(ut):Ng(ut),ut=Ay.offset(ut,(ce.V-1)*7),ce.y=ut.getUTCFullYear(),ce.m=ut.getUTCMonth(),ce.d=ut.getUTCDate()+(ce.w+6)%7):(ut=r2(qh(ce.y,0,1)),Jn=ut.getDay(),ut=Jn>4||Jn===0?Og.ceil(ut):Og(ut),ut=pf.offset(ut,(ce.V-1)*7),ce.y=ut.getFullYear(),ce.m=ut.getMonth(),ce.d=ut.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Jn="Z"in ce?i2(qh(ce.y,0,1)).getUTCDay():r2(qh(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Jn+5)%7:ce.w+ce.U*7-(Jn+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,i2(ce)):r2(ce)}}function G(ae,ze,Ke,ce){for(var Qn=0,ut=ze.length,Jn=Ke.length,lr,xn;Qn<ut;){if(ce>=Jn)return-1;if(lr=ze.charCodeAt(Qn++),lr===37){if(lr=ze.charAt(Qn++),xn=R[lr in J_?ze.charAt(Qn++):lr],!xn||(ce=xn(ae,Ke,ce))<0)return-1}else if(lr!=Ke.charCodeAt(ce++))return-1}return ce}function Z(ae,ze,Ke){var ce=c.exec(ze.slice(Ke));return ce?(ae.p=d.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function J(ae,ze,Ke){var ce=y.exec(ze.slice(Ke));return ce?(ae.w=b.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function ne(ae,ze,Ke){var ce=m.exec(ze.slice(Ke));return ce?(ae.w=g.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function le(ae,ze,Ke){var ce=_.exec(ze.slice(Ke));return ce?(ae.m=A.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function q(ae,ze,Ke){var ce=k.exec(ze.slice(Ke));return ce?(ae.m=x.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function fe(ae,ze,Ke){return G(ae,e,ze,Ke)}function ge(ae,ze,Ke){return G(ae,n,ze,Ke)}function Te(ae,ze,Ke){return G(ae,r,ze,Ke)}function Ie(ae){return a[ae.getDay()]}function he(ae){return s[ae.getDay()]}function we(ae){return l[ae.getMonth()]}function ee(ae){return o[ae.getMonth()]}function Ue(ae){return i[+(ae.getHours()>=12)]}function He(ae){return 1+~~(ae.getMonth()/3)}function bn(ae){return a[ae.getUTCDay()]}function jn(ae){return s[ae.getUTCDay()]}function ht(ae){return l[ae.getUTCMonth()]}function Br(ae){return o[ae.getUTCMonth()]}function es(ae){return i[+(ae.getUTCHours()>=12)]}function fh(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ze=L(ae+="",C);return ze.toString=function(){return ae},ze},parse:function(ae){var ze=U(ae+="",!1);return ze.toString=function(){return ae},ze},utcFormat:function(ae){var ze=L(ae+="",D);return ze.toString=function(){return ae},ze},utcParse:function(ae){var ze=U(ae+="",!0);return ze.toString=function(){return ae},ze}}}var J_={"-":"",_:" ",0:"0"},Dn=/^\s*\d+/,jle=/^%/,Lle=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function $le(t){return t.replace(Lle,"\\$&")}function Hh(t){return new RegExp("^(?:"+t.map($le).join("|")+")","i")}function Wh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Fle(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zle(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ble(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ule(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Vle(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Z_(t,e,n){var r=Dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eT(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qle(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Hle(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Wle(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tT(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Kle(t,e,n){var r=Dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nT(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gle(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Yle(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Xle(t,e,n){var r=Dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Qle(t,e,n){var r=Dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Jle(t,e,n){var r=jle.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Zle(t,e,n){var r=Dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eue(t,e,n){var r=Dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rT(t,e){return nt(t.getDate(),e,2)}function tue(t,e){return nt(t.getHours(),e,2)}function nue(t,e){return nt(t.getHours()%12||12,e,2)}function rue(t,e){return nt(1+pf.count(fa(t),t),e,3)}function Mj(t,e){return nt(t.getMilliseconds(),e,3)}function iue(t,e){return Mj(t,e)+"000"}function sue(t,e){return nt(t.getMonth()+1,e,2)}function aue(t,e){return nt(t.getMinutes(),e,2)}function oue(t,e){return nt(t.getSeconds(),e,2)}function lue(t){var e=t.getDay();return e===0?7:e}function uue(t,e){return nt(Cy.count(fa(t)-1,t),e,2)}function Dj(t){var e=t.getDay();return e>=4||e===0?Nc(t):Nc.ceil(t)}function cue(t,e){return t=Dj(t),nt(Nc.count(fa(t),t)+(fa(t).getDay()===4),e,2)}function hue(t){return t.getDay()}function due(t,e){return nt(Og.count(fa(t)-1,t),e,2)}function fue(t,e){return nt(t.getFullYear()%100,e,2)}function mue(t,e){return t=Dj(t),nt(t.getFullYear()%100,e,2)}function pue(t,e){return nt(t.getFullYear()%1e4,e,4)}function gue(t,e){var n=t.getDay();return t=n>=4||n===0?Nc(t):Nc.ceil(t),nt(t.getFullYear()%1e4,e,4)}function yue(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function iT(t,e){return nt(t.getUTCDate(),e,2)}function vue(t,e){return nt(t.getUTCHours(),e,2)}function wue(t,e){return nt(t.getUTCHours()%12||12,e,2)}function bue(t,e){return nt(1+Ay.count(ma(t),t),e,3)}function Rj(t,e){return nt(t.getUTCMilliseconds(),e,3)}function xue(t,e){return Rj(t,e)+"000"}function kue(t,e){return nt(t.getUTCMonth()+1,e,2)}function Sue(t,e){return nt(t.getUTCMinutes(),e,2)}function Eue(t,e){return nt(t.getUTCSeconds(),e,2)}function _ue(t){var e=t.getUTCDay();return e===0?7:e}function Tue(t,e){return nt(Py.count(ma(t)-1,t),e,2)}function jj(t){var e=t.getUTCDay();return e>=4||e===0?Mc(t):Mc.ceil(t)}function Iue(t,e){return t=jj(t),nt(Mc.count(ma(t),t)+(ma(t).getUTCDay()===4),e,2)}function Aue(t){return t.getUTCDay()}function Cue(t,e){return nt(Ng.count(ma(t)-1,t),e,2)}function Pue(t,e){return nt(t.getUTCFullYear()%100,e,2)}function Oue(t,e){return t=jj(t),nt(t.getUTCFullYear()%100,e,2)}function Nue(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function Mue(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Mc(t):Mc.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function Due(){return"+0000"}function sT(){return"%"}function aT(t){return+t}function oT(t){return Math.floor(+t/1e3)}var bu,Lj,$j;Rue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rue(t){return bu=Rle(t),Lj=bu.format,bu.parse,$j=bu.utcFormat,bu.utcParse,bu}function jue(t){return new Date(t)}function Lue(t){return t instanceof Date?+t:+new Date(+t)}function F7(t,e,n,r,i,s,a,o,l,c){var d=_7(),m=d.invert,g=d.domain,y=c(".%L"),b=c(":%S"),k=c("%I:%M"),x=c("%I %p"),_=c("%a %d"),A=c("%b %d"),C=c("%B"),D=c("%Y");function R(L){return(l(L)<L?y:o(L)<L?b:a(L)<L?k:s(L)<L?x:r(L)<L?i(L)<L?_:A:n(L)<L?C:D)(L)}return d.invert=function(L){return new Date(m(L))},d.domain=function(L){return arguments.length?g(Array.from(L,Lue)):g().map(jue)},d.ticks=function(L){var U=g();return t(U[0],U[U.length-1],L??10)},d.tickFormat=function(L,U){return U==null?R:c(U)},d.nice=function(L){var U=g();return(!L||typeof L.range!="function")&&(L=e(U[0],U[U.length-1],L??10)),L?g(Ej(U,L)):d},d.copy=function(){return mf(d,F7(t,e,n,r,i,s,a,o,l,c))},d}function $ue(){return ji.apply(F7(Mle,Dle,fa,L7,Cy,pf,R7,M7,pl,Lj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fue(){return ji.apply(F7(Ole,Nle,ma,$7,Py,Ay,j7,D7,pl,$j).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oy(){var t=0,e=1,n,r,i,s,a=gr,o=!1,l;function c(m){return m==null||isNaN(m=+m)?l:a(i===0?.5:(m=(s(m)-n)*i,o?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(m){return arguments.length?(o=!!m,c):o},c.interpolator=function(m){return arguments.length?(a=m,c):a};function d(m){return function(g){var y,b;return arguments.length?([y,b]=g,a=m(y,b),c):[a(0),a(1)]}}return c.range=d(ih),c.rangeRound=d(E7),c.unknown=function(m){return arguments.length?(l=m,c):l},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),c}}function Uo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Fj(){var t=Bo(Oy()(gr));return t.copy=function(){return Uo(t,Fj())},Ta.apply(t,arguments)}function zj(){var t=A7(Oy()).domain([1,10]);return t.copy=function(){return Uo(t,zj()).base(t.base())},Ta.apply(t,arguments)}function Bj(){var t=C7(Oy());return t.copy=function(){return Uo(t,Bj()).constant(t.constant())},Ta.apply(t,arguments)}function z7(){var t=P7(Oy());return t.copy=function(){return Uo(t,z7()).exponent(t.exponent())},Ta.apply(t,arguments)}function zue(){return z7.apply(null,arguments).exponent(.5)}function Uj(){var t=[],e=gr;function n(r){if(r!=null&&!isNaN(r=+r))return e((df(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(co),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>_oe(t,s/r))},n.copy=function(){return Uj(e).domain(t)},Ta.apply(n,arguments)}function Ny(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=gr,d,m=!1,g;function y(k){return isNaN(k=+k)?g:(k=.5+((k=+d(k))-s)*(r*k<r*s?o:l),c(m?Math.max(0,Math.min(1,k)):k))}y.domain=function(k){return arguments.length?([t,e,n]=k,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(k){return arguments.length?(m=!!k,y):m},y.interpolator=function(k){return arguments.length?(c=k,y):c};function b(k){return function(x){var _,A,C;return arguments.length?([_,A,C]=x,c=Joe(k,[_,A,C]),y):[c(0),c(.5),c(1)]}}return y.range=b(ih),y.rangeRound=b(E7),y.unknown=function(k){return arguments.length?(g=k,y):g},function(k){return d=k,i=k(t),s=k(e),a=k(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function Vj(){var t=Bo(Ny()(gr));return t.copy=function(){return Uo(t,Vj())},Ta.apply(t,arguments)}function qj(){var t=A7(Ny()).domain([.1,1,10]);return t.copy=function(){return Uo(t,qj()).base(t.base())},Ta.apply(t,arguments)}function Hj(){var t=C7(Ny());return t.copy=function(){return Uo(t,Hj()).constant(t.constant())},Ta.apply(t,arguments)}function B7(){var t=P7(Ny());return t.copy=function(){return Uo(t,B7()).exponent(t.exponent())},Ta.apply(t,arguments)}function Bue(){return B7.apply(null,arguments).exponent(.5)}const sd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:x7,scaleDiverging:Vj,scaleDivergingLog:qj,scaleDivergingPow:B7,scaleDivergingSqrt:Bue,scaleDivergingSymlog:Hj,scaleIdentity:Sj,scaleImplicit:Ob,scaleLinear:kj,scaleLog:_j,scaleOrdinal:b7,scalePoint:Aoe,scalePow:O7,scaleQuantile:Aj,scaleQuantize:Cj,scaleRadial:Ij,scaleSequential:Fj,scaleSequentialLog:zj,scaleSequentialPow:z7,scaleSequentialQuantile:Uj,scaleSequentialSqrt:zue,scaleSequentialSymlog:Bj,scaleSqrt:xle,scaleSymlog:Tj,scaleThreshold:Pj,scaleTime:$ue,scaleUtc:Fue,tickFormat:xj},Symbol.toStringTag,{value:"Module"}));var Vo=t=>t.chartData,Uue=Q([Vo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),U7=(t,e,n,r)=>r?Uue(t):Vo(t);function Gl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(zr(e)&&zr(n))return!0}return!1}function lT(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Wj(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(zr(n))i=n;else if(typeof n=="function")return;if(zr(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Gl(a))return a}}function Vue(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Gl(r))return lT(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(De(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&ZE.test(i)){var l=ZE.exec(i);if(l==null||e==null)a=void 0;else{var c=+l[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(De(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&e_.test(s)){var d=e_.exec(s);if(d==null||e==null)o=void 0;else{var m=+d[1];o=e[1]+m}}else o=e==null?void 0:e[1];var g=[a,o];if(Gl(g))return e==null?g:lT(g,e,n)}}}var sh=1e9,que={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},q7,Nt=!0,Di="[DecimalError] ",Il=Di+"Invalid argument: ",V7=Di+"Exponent out of range: ",ah=Math.floor,tl=Math.pow,Hue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qr,Sn=1e7,xt=7,Kj=9007199254740991,Mg=ah(Kj/xt),_e={};_e.absoluteValue=_e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_e.comparedTo=_e.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*xt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_e.dividedBy=_e.div=function(t){return na(this,new this.constructor(t))};_e.dividedToIntegerBy=_e.idiv=function(t){var e=this,n=e.constructor;return ft(na(e,new n(t),0,1),n.precision)};_e.equals=_e.eq=function(t){return!this.cmp(t)};_e.exponent=function(){return on(this)};_e.greaterThan=_e.gt=function(t){return this.cmp(t)>0};_e.greaterThanOrEqualTo=_e.gte=function(t){return this.cmp(t)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(t){return this.cmp(t)<0};_e.lessThanOrEqualTo=_e.lte=function(t){return this.cmp(t)<1};_e.logarithm=_e.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qr))throw Error(Di+"NaN");if(n.s<1)throw Error(Di+(n.s?"NaN":"-Infinity"));return n.eq(Qr)?new r(0):(Nt=!1,e=na(A0(n,s),A0(t,s),s),Nt=!0,ft(e,i))};_e.minus=_e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Xj(e,t):Gj(e,(t.s=-t.s,t))};_e.modulo=_e.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Di+"NaN");return n.s?(Nt=!1,e=na(n,t,0,1).times(t),Nt=!0,n.minus(e)):ft(new r(n),i)};_e.naturalExponential=_e.exp=function(){return Yj(this)};_e.naturalLogarithm=_e.ln=function(){return A0(this)};_e.negated=_e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_e.plus=_e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Gj(e,t):Xj(e,(t.s=-t.s,t))};_e.precision=_e.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Il+t);if(e=on(i)+1,r=i.d.length-1,n=r*xt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_e.squareRoot=_e.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Di+"NaN")}for(t=on(o),Nt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=vs(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ah((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(na(o,s,a+2)).times(.5),vs(s.d).slice(0,a)===(e=vs(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ft(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Nt=!0,ft(r,n)};_e.times=_e.mul=function(t){var e,n,r,i,s,a,o,l,c,d=this,m=d.constructor,g=d.d,y=(t=new m(t)).d;if(!d.s||!t.s)return new m(0);for(t.s*=d.s,n=d.e+t.e,l=g.length,c=y.length,l<c&&(s=g,g=y,y=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+y[r]*g[i-r-1]+e,s[i--]=o%Sn|0,e=o/Sn|0;s[i]=(s[i]+e)%Sn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Nt?ft(t,m.precision):t};_e.toDecimalPlaces=_e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Os(t,0,sh),e===void 0?e=r.rounding:Os(e,0,8),ft(n,t+on(n)+1,e))};_e.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Yl(r,!0):(Os(t,0,sh),e===void 0?e=i.rounding:Os(e,0,8),r=ft(new i(r),t+1,e),n=Yl(r,!0,t+1)),n};_e.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Yl(i):(Os(t,0,sh),e===void 0?e=s.rounding:Os(e,0,8),r=ft(new s(i),t+on(i)+1,e),n=Yl(r.abs(),!1,t+on(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_e.toInteger=_e.toint=function(){var t=this,e=t.constructor;return ft(new e(t),on(t)+1,e.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Qr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Di+"Infinity");return o}if(o.eq(Qr))return o;if(r=l.precision,t.eq(Qr))return ft(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=Kj){for(i=new l(Qr),e=Math.ceil(r/xt+4),Nt=!1;n%2&&(i=i.times(o),cT(i.d,e)),n=ah(n/2),n!==0;)o=o.times(o),cT(o.d,e);return Nt=!0,t.s<0?new l(Qr).div(i):ft(i,r)}}else if(s<0)throw Error(Di+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Nt=!1,i=t.times(A0(o,r+c)),Nt=!0,i=Yj(i),i.s=s,i};_e.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=on(i),r=Yl(i,n<=s.toExpNeg||n>=s.toExpPos)):(Os(t,1,sh),e===void 0?e=s.rounding:Os(e,0,8),i=ft(new s(i),t,e),n=on(i),r=Yl(i,t<=n||n<=s.toExpNeg,t)),r};_e.toSignificantDigits=_e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Os(t,1,sh),e===void 0?e=r.rounding:Os(e,0,8)),ft(new r(n),t,e)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),n=t.constructor;return Yl(t,e<=n.toExpNeg||e>=n.toExpPos)};function Gj(t,e){var n,r,i,s,a,o,l,c,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Nt?ft(e,m):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(m/xt),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Sn|0,l[s]%=Sn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Nt?ft(e,m):e}function Os(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Il+t)}function vs(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=xt-r.length,n&&(s+=Ua(n)),s+=r;a=t[e],r=a+"",n=xt-r.length,n&&(s+=Ua(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var na=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Sn|0,a=s/Sn|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Sn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,d,m,g,y,b,k,x,_,A,C,D,R,L,U,G,Z=r.constructor,J=r.s==i.s?1:-1,ne=r.d,le=i.d;if(!r.s)return new Z(r);if(!i.s)throw Error(Di+"Division by zero");for(l=r.e-i.e,U=le.length,R=ne.length,y=new Z(J),b=y.d=[],c=0;le[c]==(ne[c]||0);)++c;if(le[c]>(ne[c]||0)&&--l,s==null?A=s=Z.precision:a?A=s+(on(r)-on(i))+1:A=s,A<0)return new Z(0);if(A=A/xt+2|0,c=0,U==1)for(d=0,le=le[0],A++;(c<R||d)&&A--;c++)C=d*Sn+(ne[c]||0),b[c]=C/le|0,d=C%le|0;else{for(d=Sn/(le[0]+1)|0,d>1&&(le=t(le,d),ne=t(ne,d),U=le.length,R=ne.length),D=U,k=ne.slice(0,U),x=k.length;x<U;)k[x++]=0;G=le.slice(),G.unshift(0),L=le[0],le[1]>=Sn/2&&++L;do d=0,o=e(le,k,U,x),o<0?(_=k[0],U!=x&&(_=_*Sn+(k[1]||0)),d=_/L|0,d>1?(d>=Sn&&(d=Sn-1),m=t(le,d),g=m.length,x=k.length,o=e(m,k,g,x),o==1&&(d--,n(m,U<g?G:le,g))):(d==0&&(o=d=1),m=le.slice()),g=m.length,g<x&&m.unshift(0),n(k,m,x),o==-1&&(x=k.length,o=e(le,k,U,x),o<1&&(d++,n(k,U<x?G:le,x))),x=k.length):o===0&&(d++,k=[0]),b[c++]=d,o&&k[0]?k[x++]=ne[D]||0:(k=[ne[D]],x=1);while((D++<R||k[0]!==void 0)&&A--)}return b[0]||b.shift(),y.e=l,ft(y,a?s+on(y)+1:s)}}();function Yj(t,e){var n,r,i,s,a,o,l=0,c=0,d=t.constructor,m=d.precision;if(on(t)>16)throw Error(V7+on(t));if(!t.s)return new d(Qr);for(Nt=!1,o=m,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(tl(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new d(Qr),d.precision=o;;){if(i=ft(i.times(t),o),n=n.times(++l),a=s.plus(na(i,n,o)),vs(a.d).slice(0,o)===vs(s.d).slice(0,o)){for(;c--;)s=ft(s.times(s),o);return d.precision=m,e==null?(Nt=!0,ft(s,m)):s}s=a}}function on(t){for(var e=t.e*xt,n=t.d[0];n>=10;n/=10)e++;return e}function s2(t,e,n){if(e>t.LN10.sd())throw Nt=!0,n&&(t.precision=n),Error(Di+"LN10 precision limit exceeded");return ft(new t(t.LN10),e)}function Ua(t){for(var e="";t--;)e+="0";return e}function A0(t,e){var n,r,i,s,a,o,l,c,d,m=1,g=10,y=t,b=y.d,k=y.constructor,x=k.precision;if(y.s<1)throw Error(Di+(y.s?"NaN":"-Infinity"));if(y.eq(Qr))return new k(0);if(e==null?(Nt=!1,c=x):c=e,y.eq(10))return e==null&&(Nt=!0),s2(k,c);if(c+=g,k.precision=c,n=vs(b),r=n.charAt(0),s=on(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=vs(y.d),r=n.charAt(0),m++;s=on(y),r>1?(y=new k("0."+n),s++):y=new k(r+"."+n.slice(1))}else return l=s2(k,c+2,x).times(s+""),y=A0(new k(r+"."+n.slice(1)),c-g).plus(l),k.precision=x,e==null?(Nt=!0,ft(y,x)):y;for(o=a=y=na(y.minus(Qr),y.plus(Qr),c),d=ft(y.times(y),c),i=3;;){if(a=ft(a.times(d),c),l=o.plus(na(a,new k(i),c)),vs(l.d).slice(0,c)===vs(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(s2(k,c+2,x).times(s+""))),o=na(o,new k(m),c),k.precision=x,e==null?(Nt=!0,ft(o,x)):o;o=l,i+=2}}function uT(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ah(n/xt),t.d=[],r=(n+1)%xt,n<0&&(r+=xt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=xt;r<i;)t.d.push(+e.slice(r,r+=xt));e=e.slice(r),r=xt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nt&&(t.e>Mg||t.e<-Mg))throw Error(V7+n)}else t.s=0,t.e=0,t.d=[0];return t}function ft(t,e,n){var r,i,s,a,o,l,c,d,m=t.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=xt,i=e,c=m[d=0];else{if(d=Math.ceil((r+1)/xt),s=m.length,d>=s)return t;for(c=s=m[d],a=1;s>=10;s/=10)a++;r%=xt,i=r-xt+a}if(n!==void 0&&(s=tl(10,a-i-1),o=c/s%10|0,l=e<0||m[d+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/tl(10,a-i):0:m[d-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return l?(s=on(t),m.length=1,e=e-s-1,m[0]=tl(10,(xt-e%xt)%xt),t.e=ah(-e/xt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=d,s=1,d--):(m.length=d+1,s=tl(10,xt-r),m[d]=i>0?(c/tl(10,a-i)%tl(10,i)|0)*s:0),l)for(;;)if(d==0){(m[0]+=s)==Sn&&(m[0]=1,++t.e);break}else{if(m[d]+=s,m[d]!=Sn)break;m[d--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(Nt&&(t.e>Mg||t.e<-Mg))throw Error(V7+on(t));return t}function Xj(t,e){var n,r,i,s,a,o,l,c,d,m,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Nt?ft(e,y):e;if(l=t.d,m=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,o=m.length):(n=m,r=c,o=l.length),i=Math.max(Math.ceil(y/xt),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=m.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=m[i]){d=l[i]<m[i];break}a=0}for(d&&(n=l,l=m,m=n,e.s=-e.s),o=l.length,i=m.length-o;i>0;--i)l[o++]=0;for(i=m.length;i>a;){if(l[--i]<m[i]){for(s=i;s&&l[--s]===0;)l[s]=Sn-1;--l[s],l[i]+=Sn}l[i]-=m[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Nt?ft(e,y):e):new g(0)}function Yl(t,e,n){var r,i=on(t),s=vs(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ua(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ua(-i-1)+s,n&&(r=n-a)>0&&(s+=Ua(r))):i>=a?(s+=Ua(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ua(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ua(r))),t.s<0?"-"+s:s}function cT(t,e){if(t.length>e)return t.length=e,!0}function Qj(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Il+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return uT(a,s.toString())}else if(typeof s!="string")throw Error(Il+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Hue.test(s))uT(a,s);else throw Error(Il+s)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Qj,i.config=i.set=Wue,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Wue(t){if(!t||typeof t!="object")throw Error(Di+"Object expected");var e,n,r,i=["precision",1,sh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ah(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Il+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Il+n+": "+r);return this}var q7=Qj(que);Qr=new q7(1);const st=q7;var Kue=t=>t,Jj={},Zj=t=>t===Jj,hT=t=>function e(){return arguments.length===0||arguments.length===1&&Zj(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},eL=(t,e)=>t===1?e:hT(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==Jj).length;return s>=t?e(...r):eL(t-s,hT(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=r.map(d=>Zj(d)?o.shift():d);return e(...c,...o)}))}),My=t=>eL(t.length,t),Rb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Gue=My((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Yue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Kue;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},jb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),tL=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var l;return a===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,n=t(...i)),n}};function nL(t){var e;return t===0?e=1:e=Math.floor(new st(t).abs().log(10).toNumber())+1,e}function rL(t,e,n){for(var r=new st(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}My((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});My((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});My((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var iL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},sL=(t,e,n)=>{if(t.lte(0))return new st(0);var r=nL(t.toNumber()),i=new st(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new st(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?new st(l.toNumber()):new st(Math.ceil(l.toNumber()))},Xue=(t,e,n)=>{var r=new st(1),i=new st(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new st(10).pow(nL(t)-1),i=new st(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new st(Math.floor(t)))}else t===0?i=new st(Math.floor((e-1)/2)):n||(i=new st(Math.floor(t)));var a=Math.floor((e-1)/2),o=Yue(Gue(l=>i.add(new st(l-a).mul(r)).toNumber()),Rb);return o(0,e)},aL=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var a=sL(new st(n).sub(e).div(r-1),i,s),o;e<=0&&n>=0?o=new st(0):(o=new st(e).add(n).div(2),o=o.sub(new st(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new st(n).sub(o).div(a).toNumber()),d=l+c+1;return d>r?aL(e,n,r,i,s+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:a,tickMin:o.sub(new st(l).mul(a)),tickMax:o.add(new st(c).mul(a))})};function Que(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,o]=iL([e,n]);if(a===-1/0||o===1/0){var l=o===1/0?[a,...Rb(0,r-1).map(()=>1/0)]:[...Rb(0,r-1).map(()=>-1/0),o];return e>n?jb(l):l}if(a===o)return Xue(a,r,i);var{step:c,tickMin:d,tickMax:m}=aL(a,o,s,i,0),g=rL(d,m.add(new st(.1).mul(c)),c);return e>n?jb(g):g}function Jue(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=iL([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var o=Math.max(e,2),l=sL(new st(a).sub(s).div(o-1),i,0),c=[...rL(new st(s),new st(a),l),a];return i===!1&&(c=c.map(d=>Math.round(d))),n>r?jb(c):c}var Zue=tL(Que),ece=tL(Jue),tce=t=>t.rootProps.barCategoryGap,Dy=t=>t.rootProps.stackOffset,H7=t=>t.options.chartName,W7=t=>t.rootProps.syncId,oL=t=>t.rootProps.syncMethod,K7=t=>t.options.eventEmitter,Us={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Gr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ry=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},nce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Us.angleAxisId,includeHidden:!1,name:void 0,reversed:Us.reversed,scale:Us.scale,tick:Us.tick,tickCount:void 0,ticks:void 0,type:Us.type,unit:void 0},rce={allowDataOverflow:Gr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gr.scale,tick:Gr.tick,tickCount:Gr.tickCount,ticks:void 0,type:Gr.type,unit:void 0},ice={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Us.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Us.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Us.scale,tick:Us.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},sce={allowDataOverflow:Gr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gr.scale,tick:Gr.tick,tickCount:Gr.tickCount,ticks:void 0,type:"category",unit:void 0},G7=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?ice:nce,Y7=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?sce:rce,jy=t=>t.polarOptions,X7=Q([Ea,_a,Xn],Bie),lL=Q([jy,X7],(t,e)=>{if(t!=null)return Io(t.innerRadius,e,0)}),uL=Q([jy,X7],(t,e)=>{if(t!=null)return Io(t.outerRadius,e,e*.8)}),ace=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},cL=Q([jy],ace);Q([G7,cL],Ry);var hL=Q([X7,lL,uL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Q([Y7,hL],Ry);var dL=Q([It,jy,lL,uL,Ea,_a],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:c}=e;return{cx:Io(a,i,i/2),cy:Io(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),yn=(t,e)=>e,Ly=(t,e,n)=>n;function fL(t){return t==null?void 0:t.id}var vn=t=>{var e=It(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},oh=t=>t.tooltip.settings.axisId,wn=t=>{var e=vn(t),n=oh(t);return gf(t,e,n)},mL=Q([wn],t=>t==null?void 0:t.dataKey);function pL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=fL(o);c.forEach((m,g)=>{var y=s==null||i?g:String(br(m,s,null)),b=br(m,o.dataKey,0),k;a.has(y)?k=a.get(y):k={},Object.assign(k,{[d]:b}),a.set(y,k)})}}),Array.from(a.values())}function Q7(t){return t.stackId!=null&&t.dataKey!=null}var $y=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Fy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return(e=lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lb=[0,"auto"],Hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gL=(t,e)=>t.cartesianAxis.xAxis[e],Ia=(t,e)=>{var n=gL(t,e);return n??Hr},Wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hf},yL=(t,e)=>t.cartesianAxis.yAxis[e],Aa=(t,e)=>{var n=yL(t,e);return n??Wr},cce={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},J7=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??cce},Sr=(t,e,n)=>{switch(e){case"xAxis":return Ia(t,n);case"yAxis":return Aa(t,n);case"zAxis":return J7(t,n);case"angleAxis":return G7(t,n);case"radiusAxis":return Y7(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hce=(t,e,n)=>{switch(e){case"xAxis":return Ia(t,n);case"yAxis":return Aa(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gf=(t,e,n)=>{switch(e){case"xAxis":return Ia(t,n);case"yAxis":return Aa(t,n);case"angleAxis":return G7(t,n);case"radiusAxis":return Y7(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},vL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function wL(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var bL=t=>t.graphicalItems.cartesianItems,dce=Q([yn,Ly],wL),xL=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),yf=Q([bL,Sr,dce],xL,{memoizeOptions:{resultEqualityCheck:Fy}}),kL=Q([yf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Q7)),SL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),fce=Q([yf],SL),EL=t=>t.map(e=>e.data).filter(Boolean).flat(1),mce=Q([yf],EL,{memoizeOptions:{resultEqualityCheck:Fy}}),_L=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Z7=Q([mce,U7],_L),TL=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:br(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:br(i,r)}))):t.map(r=>({value:r})),zy=Q([Z7,Sr,yf],TL);function IL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function sp(t){if(Ps(t)||t instanceof Date){var e=Number(t);if(zr(e))return e}}function fT(t){if(Array.isArray(t)){var e=[sp(t[0]),sp(t[1])];return Gl(e)?e:void 0}var n=sp(t);if(n!=null)return[n,n]}function lh(t){return t.map(sp).filter(Nae)}function pce(t,e,n){return!n||typeof e!="number"||Ji(e)?[]:n.length?lh(n.flatMap(r=>{var i=br(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!zr(s)||!zr(a)))return[e-s,e+a]})):[]}var gce=Q([kL,U7,wn],pL),AL=(t,e,n)=>{var r={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,l=o.map(fL);return[a,{stackedData:nse(t,l,n),graphicalItems:o}]}))},yce=Q([gce,kL,Dy],AL),CL=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=sse(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},vce=Q([Sr],t=>t.allowDataOverflow),ex=t=>{var e;if(t==null||!("domain"in t))return Lb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=lh(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Lb},PL=Q([Sr],ex),OL=Q([PL,vce],Wj),wce=Q([yce,Vo,yn,OL],CL,{memoizeOptions:{resultEqualityCheck:$y}}),tx=t=>t.errorBars,bce=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>IL(n,r)),Rg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},NL=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var c,d,m=(c=r[l.id])===null||c===void 0?void 0:c.filter(_=>IL(i,_)),g=br(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),y=pce(o,g,m);if(y.length>=2){var b=Math.min(...y),k=Math.max(...y);(s==null||b<s)&&(s=b),(a==null||k>a)&&(a=k)}var x=fT(g);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),a=a==null?x[1]:Math.max(a,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=fT(br(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),zr(s)&&zr(a))return[s,a]},xce=Q([Z7,Sr,fce,tx,yn],NL,{memoizeOptions:{resultEqualityCheck:$y}});function kce(t){var{value:e}=t;if(Ps(e)||e instanceof Date)return e}var Sce=(t,e,n)=>{var r=t.map(kce).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&MD(r))?hj(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},ML=t=>t.referenceElements.dots,uh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ece=Q([ML,yn,Ly],uh),DL=t=>t.referenceElements.areas,_ce=Q([DL,yn,Ly],uh),RL=t=>t.referenceElements.lines,Tce=Q([RL,yn,Ly],uh),jL=(t,e)=>{var n=lh(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ice=Q(Ece,yn,jL),LL=(t,e)=>{var n=lh(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ace=Q([_ce,yn],LL),$L=(t,e)=>{var n=lh(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Cce=Q(Tce,yn,$L),Pce=Q(Ice,Cce,Ace,(t,e,n)=>Rg(t,n,e)),FL=(t,e,n,r,i,s,a,o)=>{if(n!=null)return n;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?Rg(r,s,i):Rg(s,i);return Vue(e,c,t.allowDataOverflow)},Oce=Q([Sr,PL,OL,wce,xce,Pce,It,yn],FL,{memoizeOptions:{resultEqualityCheck:$y}}),Nce=[0,1],zL=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,c=zo(e,s);return c&&o==null?hj(0,n.length):l==="category"?Sce(r,t,c):i==="expand"?Nce:a}},nx=Q([Sr,It,Z7,zy,Dy,yn,Oce],zL),BL=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(lf(s));return o in sd?o:"point"}}},vf=Q([Sr,It,vL,H7,yn],BL);function Mce(t){if(t!=null){if(t in sd)return sd[t]();var e="scale".concat(lf(t));if(e in sd)return sd[e]()}}function rx(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Mce(e);if(i!=null){var s=i.domain(n).range(r);return Jie(s),s}}}var UL=(t,e,n)=>{var r=ex(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Gl(t))return Zue(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Gl(t))return ece(t,e.tickCount,e.allowDecimals)}},ix=Q([nx,gf,vf],UL),VL=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Gl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},Dce=Q([Sr,nx,ix,yn],VL),Rce=Q(zy,Sr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(lh(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),qL=Q(Rce,It,tce,Xn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!zr(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Io(n,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),jce=(t,e)=>{var n=Ia(t,e);return n==null||typeof n.padding!="string"?0:qL(t,"xAxis",e,n.padding)},Lce=(t,e)=>{var n=Aa(t,e);return n==null||typeof n.padding!="string"?0:qL(t,"yAxis",e,n.padding)},$ce=Q(Ia,jce,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Fce=Q(Aa,Lce,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),zce=Q([Xn,$ce,Sy,ky,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Bce=Q([Xn,It,Fce,Sy,ky,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),wf=(t,e,n,r)=>{var i;switch(e){case"xAxis":return zce(t,n,r);case"yAxis":return Bce(t,n,r);case"zAxis":return(i=J7(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return cL(t);case"radiusAxis":return hL(t,n);default:return}},HL=Q([Sr,wf],Ry),ch=Q([Sr,vf,Dce,HL],rx);Q([yf,tx,yn],bce);function WL(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var By=(t,e)=>e,Uy=(t,e,n)=>n,Uce=Q(by,By,Uy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(WL)),Vce=Q(xy,By,Uy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(WL)),KL=(t,e)=>({width:t.width,height:e.height}),qce=(t,e)=>{var n=typeof e.width=="number"?e.width:hf;return{width:n,height:t.height}},Hce=Q(Xn,Ia,KL),Wce=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Kce=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Gce=Q(_a,Xn,Uce,By,Uy,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=KL(e,o);a==null&&(a=Wce(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s}),Yce=Q(Ea,Xn,Vce,By,Uy,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=qce(e,o);a==null&&(a=Kce(e,r,t));var c=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s}),Xce=(t,e)=>{var n=Ia(t,e);if(n!=null)return Gce(t,n.orientation,n.mirror)},Qce=Q([Xn,Ia,Xce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Jce=(t,e)=>{var n=Aa(t,e);if(n!=null)return Yce(t,n.orientation,n.mirror)},Zce=Q([Xn,Aa,Jce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),ehe=Q(Xn,Aa,(t,e)=>{var n=typeof e.width=="number"?e.width:hf;return{width:n,height:t.height}}),GL=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=zo(t,r),l=e.map(c=>c.value);if(a&&o&&s==="category"&&i&&MD(l))return l}},sx=Q([It,zy,Sr,yn],GL),YL=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=zo(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},ax=Q([It,zy,gf,yn],YL),mT=Q([It,hce,vf,ch,sx,ax,wf,ix,yn],(t,e,n,r,i,s,a,o,l)=>{if(e==null)return null;var c=zo(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:n,scale:r}}),the=(t,e,n,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var c=zo(t,l),{type:d,ticks:m,tickCount:g}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=d==="category"&&r.bandwidth?r.bandwidth()/y:0;b=l==="angleAxis"&&s!=null&&s.length>=2?Ti(s[0]-s[1])*2*b:b;var k=m||i;if(k){var x=k.map((_,A)=>{var C=a?a.indexOf(_):_;return{index:A,coordinate:r(C)+b,value:_,offset:b}});return x.filter(_=>!Ji(_.coordinate))}return c&&o?o.map((_,A)=>({coordinate:r(_)+b,value:_,index:A,offset:b})):r.ticks?r.ticks(g).map(_=>({coordinate:r(_)+b,value:_,offset:b})):r.domain().map((_,A)=>({coordinate:r(_)+b,value:a?a[_]:_,index:A,offset:b}))}},XL=Q([It,gf,vf,ch,ix,wf,sx,ax,yn],the),nhe=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=zo(t,a),{tickCount:l}=e,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Ti(r[0]-r[1])*2*c:c,o&&s?s.map((d,m)=>({coordinate:n(d)+c,value:d,index:m,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,m)=>({coordinate:n(d)+c,value:i?i[d]:d,index:m,offset:c}))}},QL=Q([It,gf,ch,wf,sx,ax,yn],nhe),JL=Q(Sr,ch,(t,e)=>{if(!(t==null||e==null))return Dg(Dg({},t),{},{scale:e})}),rhe=Q([Sr,vf,nx,HL],rx);Q((t,e,n)=>J7(t,n),rhe,(t,e)=>{if(!(t==null||e==null))return Dg(Dg({},t),{},{scale:e})});var ihe=Q([It,by,xy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ZL=t=>t.options.defaultTooltipEventType,e$=t=>t.options.validateTooltipEventTypes;function t$(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function ox(t,e){var n=ZL(t),r=e$(t);return t$(e,n,r)}function she(t){return Oe(e=>ox(e,t))}var n$=(t,e)=>{var n,r=Number(e);if(!(Ji(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},ahe=t=>t.tooltip.settings,Ga={active:!1,index:null,dataKey:void 0,coordinate:void 0},ohe={itemInteraction:{click:Ga,hover:Ga},axisInteraction:{click:Ga,hover:Ga},keyboardInteraction:Ga,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},r$=ui({name:"tooltip",initialState:ohe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:mr()},removeTooltipEntrySettings:{reducer(t,e){var n=ta(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:mr()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:lhe,removeTooltipEntrySettings:uhe,setTooltipSettingsState:che,setActiveMouseOverItemIndex:hhe,mouseLeaveItem:n1e,mouseLeaveChart:i$,setActiveClickItemIndex:r1e,setMouseOverAxisIndex:s$,setMouseClickAxisIndex:dhe,setSyncInteraction:$b,setKeyboardInteraction:Fb}=r$.actions,fhe=r$.reducer;function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mhe(t,e,n){return(e=phe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=ghe(t,"string");return typeof e=="symbol"?e:e+""}function ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yhe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function vhe(t){return t.index!=null}var a$=(t,e,n,r)=>{if(e==null)return Ga;var i=yhe(t,e,n);if(i==null)return Ga;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(vhe(i)){if(s)return Nm(Nm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Nm(Nm({},Ga),{},{coordinate:i.coordinate})},lx=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!zr(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},o$=(t,e,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},l$=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},bf=t=>t.options.tooltipPayloadSearcher,hh=t=>t.tooltip;function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function whe(t,e,n){return(e=bhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bhe(t){var e=xhe(t,"string");return typeof e=="symbol"?e:e+""}function xhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function khe(t,e){return t??e}var u$=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,m=[];return t.reduce((g,y)=>{var b,{dataDefinedOnItem:k,settings:x}=y,_=khe(k,o),A=Array.isArray(_)?FR(_,c,d):_,C=(b=x==null?void 0:x.dataKey)!==null&&b!==void 0?b:r,D=x==null?void 0:x.nameKey,R;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&a==="axis"?R=DD(A,r,i):R=s(A,e,l,D),Array.isArray(R))R.forEach(U=>{var G=yT(yT({},x),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});g.push(t_({tooltipEntrySettings:G,dataKey:U.dataKey,payload:U.payload,value:br(U.payload,U.dataKey),name:U.name}))});else{var L;g.push(t_({tooltipEntrySettings:x,dataKey:C,payload:R,value:br(R,C),name:(L=br(R,D))!==null&&L!==void 0?L:x==null?void 0:x.name}))}return g},m)}},ux=Q([wn,It,vL,H7,vn],BL),She=Q([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Ehe=Q([vn,oh],wL),xf=Q([She,wn,Ehe],xL,{memoizeOptions:{resultEqualityCheck:Fy}}),_he=Q([xf],t=>t.filter(Q7)),The=Q([xf],EL,{memoizeOptions:{resultEqualityCheck:Fy}}),dh=Q([The,Vo],_L),Ihe=Q([_he,Vo,wn],pL),cx=Q([dh,wn,xf],TL),c$=Q([wn],ex),Ahe=Q([wn],t=>t.allowDataOverflow),h$=Q([c$,Ahe],Wj),Che=Q([xf],t=>t.filter(Q7)),Phe=Q([Ihe,Che,Dy],AL),Ohe=Q([Phe,Vo,vn,h$],CL),Nhe=Q([xf],SL),Mhe=Q([dh,wn,Nhe,tx,vn],NL,{memoizeOptions:{resultEqualityCheck:$y}}),Dhe=Q([ML,vn,oh],uh),Rhe=Q([Dhe,vn],jL),jhe=Q([DL,vn,oh],uh),Lhe=Q([jhe,vn],LL),$he=Q([RL,vn,oh],uh),Fhe=Q([$he,vn],$L),zhe=Q([Rhe,Fhe,Lhe],Rg),Bhe=Q([wn,c$,h$,Ohe,Mhe,zhe,It,vn],FL),d$=Q([wn,It,dh,cx,Dy,vn,Bhe],zL),Uhe=Q([d$,wn,ux],UL),Vhe=Q([wn,d$,Uhe,vn],VL),f$=t=>{var e=vn(t),n=oh(t),r=!1;return wf(t,e,n,r)},m$=Q([wn,f$],Ry),p$=Q([wn,ux,Vhe,m$],rx),qhe=Q([It,cx,wn,vn],GL),Hhe=Q([It,cx,wn,vn],YL),Whe=(t,e,n,r,i,s,a,o)=>{if(e){var{type:l}=e,c=zo(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return m=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ti(i[0]-i[1])*2*m:m,c&&a?a.map((g,y)=>({coordinate:r(g)+m,value:g,index:y,offset:m})):r.domain().map((g,y)=>({coordinate:r(g)+m,value:s?s[g]:g,index:y,offset:m}))}}},Ca=Q([It,wn,ux,p$,f$,qhe,Hhe,vn],Whe),hx=Q([ZL,e$,ahe],(t,e,n)=>t$(n.shared,t,e)),g$=t=>t.tooltip.settings.trigger,dx=t=>t.tooltip.settings.defaultIndex,Vy=Q([hh,hx,g$,dx],a$),C0=Q([Vy,dh],lx),y$=Q([Ca,C0],n$),Khe=Q([Vy],t=>{if(t)return t.dataKey}),v$=Q([hh,hx,g$,dx],l$),Ghe=Q([Ea,_a,It,Xn,Ca,dx,v$,bf],o$),Yhe=Q([Vy,Ghe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Xhe=Q([Vy],t=>t.active),Qhe=Q([v$,C0,Vo,mL,y$,bf,hx],u$),Jhe=Q([Qhe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){Zhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zhe(t,e,n){return(e=ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ede(t){var e=tde(t,"string");return typeof e=="symbol"?e:e+""}function tde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nde=()=>Oe(wn),rde=()=>{var t=nde(),e=Oe(Ca),n=Oe(p$);return wb(wT(wT({},t),{},{scale:n}),e)},ide=()=>Oe(H7),fx=(t,e)=>e,w$=(t,e,n)=>n,mx=(t,e,n,r)=>r,sde=Q(Ca,t=>my(t,e=>e.coordinate)),px=Q([hh,fx,w$,mx],a$),b$=Q([px,dh],lx),ade=(t,e,n)=>{if(e!=null){var r=hh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},x$=Q([hh,fx,w$,mx],l$),jg=Q([Ea,_a,It,Xn,Ca,mx,x$,bf],o$),ode=Q([px,jg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),k$=Q(Ca,b$,n$),lde=Q([x$,b$,Vo,mL,k$,bf,fx],u$),ude=Q([px],t=>({isActive:t.active,activeIndex:t.index})),cde=(t,e,n,r,i,s,a,o)=>{if(!(!t||!e||!r||!i||!s)){var l=ase(t.chartX,t.chartY,e,n,o);if(l){var c=lse(l,e),d=Xie(c,a,s,r,i),m=ose(e,s,d,l);return{activeIndex:String(d),activeCoordinate:m}}}};function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(null,arguments)}function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(r){hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e,n){return(e=dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dde(t){var e=fde(t,"string");return typeof e=="symbol"?e:e+""}function fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mde(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:l,chartName:c}=t,d=e,m=n,g=r;if(!o||!d||c!=="ScatterChart"&&l!=="axis")return null;var y,b;if(c==="ScatterChart")y=d,b=_ae;else if(c==="BarChart")y=Tae(a,d,i,s),b=ooe;else if(a==="radial"){var{cx:k,cy:x,radius:_,startAngle:A,endAngle:C}=aj(d);y={cx:k,cy:x,startAngle:A,endAngle:C,innerRadius:_,outerRadius:_},b=hoe}else y={points:doe(a,d,i)},b=ej;var D=typeof o=="object"&&"className"in o?o.className:void 0,R=Mm(Mm(Mm(Mm({stroke:"#ccc",pointerEvents:"none"},i),y),iy(o)),{},{payload:m,payloadIndex:g,className:mt("recharts-tooltip-cursor",D)});return I.isValidElement(o)?I.cloneElement(o,R):I.createElement(b,R)}function pde(t){var e=rde(),n=QR(),r=y7(),i=ide();return I.createElement(mde,zb({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var S$=I.createContext(null),gde=()=>I.useContext(S$),E$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,m,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,m||l,g),b=n?n+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],y]:l._events[b].push(y):(l._events[b]=y,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,m;if(this._eventsCount===0)return c;for(m in d=this._events)e.call(d,m)&&c.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,b=new Array(y);g<y;g++)b[g]=m[g].fn;return b},o.prototype.listenerCount=function(c){var d=n?n+c:c,m=this._events[d];return m?m.fn?1:m.length:0},o.prototype.emit=function(c,d,m,g,y,b){var k=n?n+c:c;if(!this._events[k])return!1;var x=this._events[k],_=arguments.length,A,C;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,m),!0;case 4:return x.fn.call(x.context,d,m,g),!0;case 5:return x.fn.call(x.context,d,m,g,y),!0;case 6:return x.fn.call(x.context,d,m,g,y,b),!0}for(C=1,A=new Array(_-1);C<_;C++)A[C-1]=arguments[C];x.fn.apply(x.context,A)}else{var D=x.length,R;for(C=0;C<D;C++)switch(x[C].once&&this.removeListener(c,x[C].fn,void 0,!0),_){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,d);break;case 3:x[C].fn.call(x[C].context,d,m);break;case 4:x[C].fn.call(x[C].context,d,m,g);break;default:if(!A)for(R=1,A=new Array(_-1);R<_;R++)A[R-1]=arguments[R];x[C].fn.apply(x[C].context,A)}}return!0},o.prototype.on=function(c,d,m){return s(this,c,d,m,!1)},o.prototype.once=function(c,d,m){return s(this,c,d,m,!0)},o.prototype.removeListener=function(c,d,m,g){var y=n?n+c:c;if(!this._events[y])return this;if(!d)return a(this,y),this;var b=this._events[y];if(b.fn)b.fn===d&&(!g||b.once)&&(!m||b.context===m)&&a(this,y);else{for(var k=0,x=[],_=b.length;k<_;k++)(b[k].fn!==d||g&&!b[k].once||m&&b[k].context!==m)&&x.push(b[k]);x.length?this._events[y]=x.length===1?x[0]:x:a(this,y)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(E$);var yde=E$.exports;const vde=Ao(yde);var P0=new vde,Bb="recharts.syncEvent.tooltip",xT="recharts.syncEvent.brush";function wde(t,e){if(e){var n=Number.parseInt(e,10);if(!Ji(n))return t==null?void 0:t[n]}}var bde={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_$=ui({name:"options",initialState:bde,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xde=_$.reducer,{createEventEmitter:kde}=_$.actions;function Sde(t){return t.tooltip.syncInteraction}var Ede={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},T$=ui({name:"chartData",initialState:Ede,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:kT,setDataStartEndIndexes:_de,setComputedData:i1e}=T$.actions,Tde=T$.reducer,Ide=["x","y"];function ST(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ST(Object(n),!0).forEach(function(r){Ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ade(t,e,n){return(e=Cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cde(t){var e=Pde(t,"string");return typeof e=="symbol"?e:e+""}function Pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ode(t,e){if(t==null)return{};var n,r,i=Nde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var I$=()=>{};function Mde(){var t=Oe(W7),e=Oe(K7),n=Mn(),r=Oe(oL),i=Oe(Ca),s=y7(),a=Ey(),o=Oe(l=>l.rootProps.className);I.useEffect(()=>{if(t==null)return I$;var l=(c,d,m)=>{if(e!==m&&t===c){if(r==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x:b,y:k}=y,x=Ode(y,Ide),{x:_,y:A,width:C,height:D}=d.payload.sourceViewBox,R=xu(xu({},x),{},{x:a.x+(C?(b-_)/C:0)*a.width,y:a.y+(D?(k-A)/D:0)*a.height});n(xu(xu({},d),{},{payload:xu(xu({},d.payload),{},{coordinate:R})}))}else n(d);return}if(i!=null){var L;if(typeof r=="function"){var U={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},G=r(i,U);L=i[G]}else r==="value"&&(L=i.find(Te=>String(Te.value)===d.payload.label));var{coordinate:Z}=d.payload;if(L==null||d.payload.active===!1||Z==null||a==null){n($b({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:J,y:ne}=Z,le=Math.min(J,a.x+a.width),q=Math.min(ne,a.y+a.height),fe={x:s==="horizontal"?L.coordinate:le,y:s==="horizontal"?q:L.coordinate},ge=$b({active:d.payload.active,coordinate:fe,dataKey:d.payload.dataKey,index:String(L.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});n(ge)}}};return P0.on(Bb,l),()=>{P0.off(Bb,l)}},[o,n,e,t,r,i,s,a])}function Dde(){var t=Oe(W7),e=Oe(K7),n=Mn();I.useEffect(()=>{if(t==null)return I$;var r=(i,s,a)=>{e!==a&&t===i&&n(_de(s))};return P0.on(xT,r),()=>{P0.off(xT,r)}},[n,e,t])}function Rde(){var t=Mn();I.useEffect(()=>{t(kde())},[t]),Mde(),Dde()}function jde(t,e,n,r,i,s){var a=Oe(y=>ade(y,t,e)),o=Oe(K7),l=Oe(W7),c=Oe(oL),d=Oe(Sde),m=d==null?void 0:d.active,g=Ey();I.useEffect(()=>{if(!m&&l!=null&&o!=null){var y=$b({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g});P0.emit(Bb,l,y,o)}},[m,n,a,i,r,o,l,c,s,g])}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _T(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){Lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lde(t,e,n){return(e=$de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $de(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zde(t){return t.dataKey}function Bde(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(rae,e)}var TT=[],Ude={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!rh.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vde(t){var e=Ri(t,Ude),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:d,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:b,cursor:k,shared:x,trigger:_,defaultIndex:A,portal:C,axisId:D}=e,R=Mn(),L=typeof A=="number"?String(A):A;I.useEffect(()=>{R(che({shared:x,trigger:_,axisId:D,active:n,defaultIndex:L}))},[R,x,_,D,n,L]);var U=Ey(),G=ZR(),Z=she(x),{activeIndex:J,isActive:ne}=Oe(ht=>ude(ht,Z,_,L)),le=Oe(ht=>lde(ht,Z,_,L)),q=Oe(ht=>k$(ht,Z,_,L)),fe=Oe(ht=>ode(ht,Z,_,L)),ge=le,Te=gde(),Ie=n??ne,[he,we]=dR([ge,Ie]),ee=Z==="axis"?q:void 0;jde(Z,_,fe,ee,J,Ie);var Ue=C??Te;if(Ue==null)return null;var He=ge??TT;Ie||(He=TT),o&&He.length&&(He=eR(ge.filter(ht=>ht.value!=null&&(ht.hide!==!0||e.includeHidden)),d,zde));var bn=He.length>0,jn=I.createElement(cae,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:l,active:Ie,coordinate:fe,hasPayload:bn,offset:c,position:m,reverseDirection:g,useTranslate3d:y,viewBox:U,wrapperStyle:b,lastBoundingBox:he,innerRef:we,hasPortalFromProps:!!C},Bde(a,_T(_T({},e),{},{payload:He,label:ee,active:Ie,coordinate:fe,accessibilityLayer:G})));return I.createElement(I.Fragment,null,q5.createPortal(jn,Ue),Ie&&I.createElement(pde,{cursor:k,tooltipEventType:Z,coordinate:fe,payload:ge,index:J}))}function qde(t,e,n){return(e=Hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hde(t){var e=Wde(t,"string");return typeof e=="symbol"?e:e+""}function Wde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kde{constructor(e){qde(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(r){Yde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yde(t,e,n){return(e=Xde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xde(t){var e=Qde(t,"string");return typeof e=="symbol"?e:e+""}function Qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jde={cacheSize:2e3,enableCache:!0},A$=Gde({},Jde),AT=new Kde(A$.cacheSize),Zde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CT="recharts_measurement_span";function e0e(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var PT=(t,e)=>{try{var n=document.getElementById(CT);n||(n=document.createElement("span"),n.setAttribute("id",CT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Zde,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Td=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rh.isSsr)return{width:0,height:0};if(!A$.enableCache)return PT(e,n);var r=e0e(e,n),i=AT.get(r);if(i)return i;var s=PT(e,n);return AT.set(r,s),s},OT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,t0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,n0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,C$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},r0e=Object.keys(C$),zu="NaN";function i0e(t,e){return t*C$[e]}class Ir{static parse(e){var n,[,r,i]=(n=n0e.exec(e))!==null&&n!==void 0?n:[];return new Ir(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ji(e)&&(this.unit=""),n!==""&&!t0e.test(n)&&(this.num=NaN,this.unit=""),r0e.includes(n)&&(this.num=i0e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ji(this.num)}}function P$(t){if(t.includes(zu))return zu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=OT.exec(e))!==null&&n!==void 0?n:[],a=Ir.parse(r??""),o=Ir.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return zu;e=e.replace(OT,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,d,m,g]=(c=NT.exec(e))!==null&&c!==void 0?c:[],y=Ir.parse(d??""),b=Ir.parse(g??""),k=m==="+"?y.add(b):y.subtract(b);if(k.isNaN())return zu;e=e.replace(NT,k.toString())}return e}var MT=/\(([^()]*)\)/;function s0e(t){for(var e=t,n;(n=MT.exec(e))!=null;){var[,r]=n;e=e.replace(MT,P$(r))}return e}function a0e(t){var e=t.replace(/\s+/g,"");return e=s0e(e),e=P$(e),e}function o0e(t){try{return a0e(t)}catch{return zu}}function a2(t){var e=o0e(t.slice(5,-1));return e===zu?"":e}var l0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],u0e=["dx","dy","angle","className","breakAll"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}function DT(t,e){if(t==null)return{};var n,r,i=c0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var O$=/[ \f\n\r\t\v\u2028\u2029]+/,N$=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];An(e)||(n?i=e.toString().split(""):i=e.toString().split(O$));var s=i.map(o=>({word:o,width:Td(o,r).width})),a=n?0:Td("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},h0e=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,c=De(s),d=a,m=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ne.reduce((le,q)=>{var{word:fe,width:ge}=q,Te=le[le.length-1];if(Te&&(r==null||i||Te.width+ge+n<Number(r)))Te.words.push(fe),Te.width+=ge+n;else{var Ie={words:[fe],width:ge};le.push(Ie)}return le},[])},g=m(e),y=J=>J.reduce((ne,le)=>ne.width>le.width?ne:le);if(!c||i)return g;var b=g.length>s||y(g).width>Number(r);if(!b)return g;for(var k="",x=J=>{var ne=d.slice(0,J),le=N$({breakAll:l,style:o,children:ne+k}).wordsWithComputedWidth,q=m(le),fe=q.length>s||y(q).width>Number(r);return[fe,q]},_=0,A=d.length-1,C=0,D;_<=A&&C<=d.length-1;){var R=Math.floor((_+A)/2),L=R-1,[U,G]=x(L),[Z]=x(R);if(!U&&!Z&&(_=R+1),U&&Z&&(A=R-1),!U&&Z){D=G;break}C++}return D||g},RT=t=>{var e=An(t)?[]:t.toString().split(O$);return[{words:e}]},d0e=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!rh.isSsr){var o,l,c=N$({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:m}=c;o=d,l=m}else return RT(r);return h0e({breakAll:s,children:r,maxLines:a,style:i},o,l,e,n)}return RT(r)},jT="#808080",gx=I.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=jT}=t,d=DT(t,l0e),m=I.useMemo(()=>d0e({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:g,dy:y,angle:b,className:k,breakAll:x}=d,_=DT(d,u0e);if(!Ps(n)||!Ps(r)||m.length===0)return null;var A=n+(De(g)?g:0),C=r+(De(y)?y:0),D;switch(l){case"start":D=a2("calc(".concat(s,")"));break;case"middle":D=a2("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:D=a2("calc(".concat(m.length-1," * -").concat(i,")"));break}var R=[];if(a){var L=m[0].width,{width:U}=d;R.push("scale(".concat(De(U)?U/L:1,")"))}return b&&R.push("rotate(".concat(b,", ").concat(A,", ").concat(C,")")),R.length&&(_.transform=R.join(" ")),I.createElement("text",Ub({},si(_),{ref:e,x:A,y:C,className:mt("recharts-text",k),textAnchor:o,fill:c.includes("url")?jT:c}),m.map((G,Z)=>{var J=G.words.join(x?"":" ");return I.createElement("tspan",{x:A,dy:Z===0?D:i,key:"".concat(J,"-").concat(Z)},J)}))});gx.displayName="Text";var f0e=["labelRef"];function m0e(t,e){if(t==null)return{};var n,r,i=p0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function p0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(n),!0).forEach(function(r){g0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g0e(t,e,n){return(e=y0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y0e(t){var e=v0e(t,"string");return typeof e=="symbol"?e:e+""}function v0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vs(){return Vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vs.apply(null,arguments)}var M$=I.createContext(null),w0e=t=>{var{x:e,y:n,width:r,height:i,children:s}=t,a=I.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return I.createElement(M$.Provider,{value:a},s)},D$=()=>{var t=I.useContext(M$),e=Ey();return t||e},b0e=I.createContext(null),x0e=()=>{var t=I.useContext(b0e),e=Oe(dL);return t||e},k0e=t=>{var{value:e,formatter:n}=t,r=An(t.children)?e:t.children;return typeof n=="function"?n(r):r},yx=t=>t!=null&&typeof t=="function",S0e=(t,e)=>{var n=Ti(e-t),r=Math.min(Math.abs(e-t),360);return n*r},E0e=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:m,endAngle:g,clockWise:y}=i,b=(c+d)/2,k=S0e(m,g),x=k>=0?1:-1,_,A;switch(e){case"insideStart":_=m+x*s,A=y;break;case"insideEnd":_=g-x*s,A=!y;break;case"end":_=g+x*s,A=y;break;default:throw new Error("Unsupported position ".concat(e))}A=k<=0?A:!A;var C=Vn(o,l,b,_),D=Vn(o,l,b,_+(A?1:-1)*359),R="M".concat(C.x,",").concat(C.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(D.x,",").concat(D.y),L=An(t.id)?b0("recharts-radial-line-"):t.id;return I.createElement("text",Vs({},r,{dominantBaseline:"central",className:mt("recharts-radial-bar-label",a)}),I.createElement("defs",null,I.createElement("path",{id:L,d:R})),I.createElement("textPath",{xlinkHref:"#".concat(L)},n))},_0e=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,c=(o+l)/2;if(n==="outside"){var{x:d,y:m}=Vn(r,i,a+e,c);return{x:d,y:m,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:y,y:b}=Vn(r,i,g,c);return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},R$=t=>"cx"in t&&De(t.cx),T0e=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!R$(n)&&(s=n);var{x:a,y:o,width:l,height:c}=e,d=c>=0?1:-1,m=d*r,g=d>0?"end":"start",y=d>0?"start":"end",b=l>=0?1:-1,k=b*r,x=b>0?"end":"start",_=b>0?"start":"end";if(i==="top"){var A={x:a+l/2,y:o-d*r,textAnchor:"middle",verticalAnchor:g};return Yt(Yt({},A),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var C={x:a+l/2,y:o+c+m,textAnchor:"middle",verticalAnchor:y};return Yt(Yt({},C),s?{height:Math.max(s.y+s.height-(o+c),0),width:l}:{})}if(i==="left"){var D={x:a-k,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return Yt(Yt({},D),s?{width:Math.max(D.x-s.x,0),height:c}:{})}if(i==="right"){var R={x:a+l+k,y:o+c/2,textAnchor:_,verticalAnchor:"middle"};return Yt(Yt({},R),s?{width:Math.max(s.x+s.width-R.x,0),height:c}:{})}var L=s?{width:l,height:c}:{};return i==="insideLeft"?Yt({x:a+k,y:o+c/2,textAnchor:_,verticalAnchor:"middle"},L):i==="insideRight"?Yt({x:a+l-k,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},L):i==="insideTop"?Yt({x:a+l/2,y:o+m,textAnchor:"middle",verticalAnchor:y},L):i==="insideBottom"?Yt({x:a+l/2,y:o+c-m,textAnchor:"middle",verticalAnchor:g},L):i==="insideTopLeft"?Yt({x:a+k,y:o+m,textAnchor:_,verticalAnchor:y},L):i==="insideTopRight"?Yt({x:a+l-k,y:o+m,textAnchor:x,verticalAnchor:y},L):i==="insideBottomLeft"?Yt({x:a+k,y:o+c-m,textAnchor:_,verticalAnchor:g},L):i==="insideBottomRight"?Yt({x:a+l-k,y:o+c-m,textAnchor:x,verticalAnchor:g},L):i&&typeof i=="object"&&(De(i.x)||ca(i.x))&&(De(i.y)||ca(i.y))?Yt({x:a+Io(i.x,l),y:o+Io(i.y,c),textAnchor:"end",verticalAnchor:"end"},L):Yt({x:a+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},L)},I0e={offset:5};function Va(t){var e=Ri(t,I0e),{viewBox:n,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:c}=e,d=x0e(),m=D$(),g=r==="center"?m:d??m,y=n||g;if(!y||An(i)&&An(s)&&!I.isValidElement(a)&&typeof a!="function")return null;var b=Yt(Yt({},e),{},{viewBox:y});if(I.isValidElement(a)){var{labelRef:k}=b,x=m0e(b,f0e);return I.cloneElement(a,x)}var _;if(typeof a=="function"){if(_=I.createElement(a,b),I.isValidElement(_))return _}else _=k0e(e);var A=R$(y),C=si(e);if(A&&(r==="insideStart"||r==="insideEnd"||r==="end"))return E0e(e,r,_,C,y);var D=A?_0e(y,e.offset,e.position):T0e(e,y);return I.createElement(gx,Vs({ref:c,className:mt("recharts-label",o)},C,D,{breakAll:l}),_)}Va.displayName="Label";var A0e=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?I.createElement(Va,Vs({key:"label-implicit"},r)):Ps(t)?I.createElement(Va,Vs({key:"label-implicit",value:t},r)):I.isValidElement(t)?t.type===Va?I.cloneElement(t,Yt({key:"label-implicit"},r)):I.createElement(Va,Vs({key:"label-implicit",content:t},r)):yx(t)?I.createElement(Va,Vs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?I.createElement(Va,Vs({},t,{key:"label-implicit"},r)):null};function C0e(t){var{label:e,labelRef:n}=t,r=D$();return A0e(e,r,n)||null}var j$={},L$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(L$);var $$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})($$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L$,n=$$,r=dy;function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(j$);var P0e=j$.last;const O0e=Ao(P0e);var N0e=["valueAccessor"],M0e=["dataKey","clockWise","id","textBreakAll"];function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(null,arguments)}function $T(t,e){if(t==null)return{};var n,r,i=D0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function D0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var R0e=t=>Array.isArray(t.value)?O0e(t.value):t.value,F$=I.createContext(void 0),j0e=F$.Provider,z$=I.createContext(void 0);z$.Provider;function L0e(){return I.useContext(F$)}function $0e(){return I.useContext(z$)}function ap(t){var{valueAccessor:e=R0e}=t,n=$T(t,N0e),{dataKey:r,clockWise:i,id:s,textBreakAll:a}=n,o=$T(n,M0e),l=L0e(),c=$0e(),d=l||c;return!d||!d.length?null:I.createElement(nh,{className:"recharts-label-list"},d.map((m,g)=>{var y,b=An(r)?e(m,g):br(m&&m.payload,r),k=An(s)?{}:{id:"".concat(s,"-").concat(g)};return I.createElement(Va,Lg({key:"label-".concat(g)},si(m),o,k,{fill:(y=n.fill)!==null&&y!==void 0?y:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:a,viewBox:m.viewBox,index:g}))}))}ap.displayName="LabelList";function F0e(t){var{label:e}=t;return e?e===!0?I.createElement(ap,{key:"labelList-implicit"}):I.isValidElement(e)||yx(e)?I.createElement(ap,{key:"labelList-implicit",content:e}):typeof e=="object"?I.createElement(ap,Lg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(null,arguments)}var B$=t=>{var{cx:e,cy:n,r,className:i}=t,s=mt("recharts-dot",i);return e===+e&&n===+n&&r===+r?I.createElement("circle",Vb({},Cs(t),G6(t),{className:s,cx:e,cy:n,r})):null},z0e={radiusAxis:{},angleAxis:{}},U$=ui({name:"polarAxis",initialState:z0e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:s1e,removeRadiusAxis:a1e,addAngleAxis:o1e,removeAngleAxis:l1e}=U$.actions,B0e=U$.reducer,ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rn=typeof Symbol=="function"&&Symbol.for,vx=Rn?Symbol.for("react.element"):60103,wx=Rn?Symbol.for("react.portal"):60106,qy=Rn?Symbol.for("react.fragment"):60107,Hy=Rn?Symbol.for("react.strict_mode"):60108,Wy=Rn?Symbol.for("react.profiler"):60114,Ky=Rn?Symbol.for("react.provider"):60109,Gy=Rn?Symbol.for("react.context"):60110,bx=Rn?Symbol.for("react.async_mode"):60111,Yy=Rn?Symbol.for("react.concurrent_mode"):60111,Xy=Rn?Symbol.for("react.forward_ref"):60112,Qy=Rn?Symbol.for("react.suspense"):60113,U0e=Rn?Symbol.for("react.suspense_list"):60120,Jy=Rn?Symbol.for("react.memo"):60115,Zy=Rn?Symbol.for("react.lazy"):60116,V0e=Rn?Symbol.for("react.block"):60121,q0e=Rn?Symbol.for("react.fundamental"):60117,H0e=Rn?Symbol.for("react.responder"):60118,W0e=Rn?Symbol.for("react.scope"):60119;function hi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vx:switch(t=t.type,t){case bx:case Yy:case qy:case Wy:case Hy:case Qy:return t;default:switch(t=t&&t.$$typeof,t){case Gy:case Xy:case Zy:case Jy:case Ky:return t;default:return e}}case wx:return e}}}function V$(t){return hi(t)===Yy}ct.AsyncMode=bx;ct.ConcurrentMode=Yy;ct.ContextConsumer=Gy;ct.ContextProvider=Ky;ct.Element=vx;ct.ForwardRef=Xy;ct.Fragment=qy;ct.Lazy=Zy;ct.Memo=Jy;ct.Portal=wx;ct.Profiler=Wy;ct.StrictMode=Hy;ct.Suspense=Qy;ct.isAsyncMode=function(t){return V$(t)||hi(t)===bx};ct.isConcurrentMode=V$;ct.isContextConsumer=function(t){return hi(t)===Gy};ct.isContextProvider=function(t){return hi(t)===Ky};ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vx};ct.isForwardRef=function(t){return hi(t)===Xy};ct.isFragment=function(t){return hi(t)===qy};ct.isLazy=function(t){return hi(t)===Zy};ct.isMemo=function(t){return hi(t)===Jy};ct.isPortal=function(t){return hi(t)===wx};ct.isProfiler=function(t){return hi(t)===Wy};ct.isStrictMode=function(t){return hi(t)===Hy};ct.isSuspense=function(t){return hi(t)===Qy};ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qy||t===Yy||t===Wy||t===Hy||t===Qy||t===U0e||typeof t=="object"&&t!==null&&(t.$$typeof===Zy||t.$$typeof===Jy||t.$$typeof===Ky||t.$$typeof===Gy||t.$$typeof===Xy||t.$$typeof===q0e||t.$$typeof===H0e||t.$$typeof===W0e||t.$$typeof===V0e)};ct.typeOf=hi;var q$=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function K0e(t){var{fn:e,args:n}=t,r=Mn(),i=ci();return I.useLayoutEffect(()=>{if(!i){var s=e(n);return r(lhe(s)),()=>{r(uhe(s))}}},[e,n,r,i]),null}var G0e=()=>{};function Y0e(t){var{legendPayload:e}=t,n=Mn(),r=ci();return I.useLayoutEffect(()=>r?G0e:(n(Fse(e)),()=>{n(zse(e))}),[n,r,e]),null}var o2,X0e=()=>{var[t]=I.useState(()=>b0("uid-"));return t},Q0e=(o2=cI.useId)!==null&&o2!==void 0?o2:X0e;function J0e(t,e){var n=Q0e();return e||(t?"".concat(t,"-").concat(n):n)}var Z0e=I.createContext(void 0),efe=t=>{var{id:e,type:n,children:r}=t,i=J0e("recharts-".concat(n),e);return I.createElement(Z0e.Provider,{value:i},r(i))},tfe={cartesianItems:[],polarItems:[]},H$=ui({name:"graphicalItems",initialState:tfe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:mr()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ta(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:mr()},removeCartesianGraphicalItem:{reducer(t,e){var n=ta(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:mr()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:mr()},removePolarGraphicalItem:{reducer(t,e){var n=ta(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:mr()}}}),{addCartesianGraphicalItem:nfe,replaceCartesianGraphicalItem:rfe,removeCartesianGraphicalItem:ife,addPolarGraphicalItem:u1e,removePolarGraphicalItem:c1e}=H$.actions,sfe=H$.reducer;function afe(t){var e=Mn(),n=I.useRef(null);return I.useLayoutEffect(()=>{n.current===null?e(nfe(t)):n.current!==t&&e(rfe({prev:n.current,next:t})),n.current=t},[e,t]),I.useLayoutEffect(()=>()=>{n.current&&(e(ife(n.current)),n.current=null)},[e]),null}function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(r){ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ofe(t,e,n){return(e=lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=ufe(t,"string");return typeof e=="symbol"?e:e+""}function ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cfe={xAxis:{},yAxis:{},zAxis:{}},W$=ui({name:"cartesianAxis",initialState:cfe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:mr()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:mr()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:mr()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:mr()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:mr()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:mr()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);t.yAxis[n]=zT(zT({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:hfe,removeXAxis:dfe,addYAxis:ffe,removeYAxis:mfe,addZAxis:h1e,removeZAxis:d1e,updateYAxisWidth:pfe}=W$.actions,gfe=W$.reducer,yfe=Q([Xn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),vfe=Q([yfe,Ea,_a],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),xx=()=>Oe(vfe),wfe=()=>Oe(Jhe);function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(n),!0).forEach(function(r){bfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bfe(t,e,n){return(e=xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xfe(t){var e=kfe(t,"string");return typeof e=="symbol"?e:e+""}function kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sfe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=UT(UT({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},iy(i)),G6(i)),o;return I.isValidElement(i)?o=I.cloneElement(i,a):typeof i=="function"?o=i(a):o=I.createElement(B$,a),I.createElement(nh,{className:"recharts-active-dot"},o)};function Efe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,s=Oe(C0),a=wfe();if(e==null||a==null)return null;var o=e.find(l=>a.includes(l.payload));return An(o)?null:Sfe({point:o,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var _fe={},K$=ui({name:"errorBars",initialState:_fe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:f1e,replaceErrorBar:m1e,removeErrorBar:p1e}=K$.actions,Tfe=K$.reducer,Ife=["children"];function Afe(t,e){if(t==null)return{};var n,r,i=Cfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ofe=I.createContext(Pfe);function Nfe(t){var{children:e}=t,n=Afe(t,Ife);return I.createElement(Ofe.Provider,{value:n},e)}function G$(t,e){var n,r,i=Oe(c=>Ia(c,t)),s=Oe(c=>Aa(c,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Hr.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Wr.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function Mfe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=xx(),{needClipX:s,needClipY:a,needClip:o}=G$(e,n);if(!o)return null;var{x:l,y:c,width:d,height:m}=i;return I.createElement("clipPath",{id:"clipPath-".concat(r)},I.createElement("rect",{x:s?l:l-d/2,y:a?c:c-m/2,width:s?d:d*2,height:a?m:m*2}))}var Dfe=t=>{var{chartData:e}=t,n=Mn(),r=ci();return I.useEffect(()=>r?()=>{}:(n(kT(e)),()=>{n(kT(void 0))}),[e,n,r]),null},VT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Y$=ui({name:"brush",initialState:VT,reducers:{setBrushSettings(t,e){return e.payload==null?VT:e.payload}}}),{setBrushSettings:g1e}=Y$.actions,Rfe=Y$.reducer;function jfe(t,e,n){return(e=Lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lfe(t){var e=$fe(t,"string");return typeof e=="symbol"?e:e+""}function $fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kx{static create(e){return new kx(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}jfe(kx,"EPS",1e-4);function Ffe(t){return(t%180+180)%180}var zfe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ffe(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Bfe={dots:[],areas:[],lines:[]},X$=ui({name:"referenceElements",initialState:Bfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ta(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ta(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ta(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:y1e,removeDot:v1e,addArea:w1e,removeArea:b1e,addLine:x1e,removeLine:k1e}=X$.actions,Ufe=X$.reducer,Vfe=I.createContext(void 0),qfe=t=>{var{children:e}=t,[n]=I.useState("".concat(b0("recharts"),"-clip")),r=xx();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return I.createElement(Vfe.Provider,{value:n},I.createElement("defs",null,I.createElement("clipPath",{id:n},I.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Dc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Q$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Hfe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return zfe(r,n)}function Wfe(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function $g(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Kfe(t,e){return Q$(t,e+1)}function Gfe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,c=1,d=a,m=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:Q$(r,c)};var k=l,x,_=()=>(x===void 0&&(x=n(b,k)),x),A=b.coordinate,C=l===0||$g(t,A,_,d,o);C||(l=0,d=a,c+=1),C&&(d=A+t*(_()/2+i),l+=c)},g;c<=s.length;)if(g=m(),g)return g.v;return[]}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){Yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yfe(t,e,n){return(e=Xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=Qfe(t,"string");return typeof e=="symbol"?e:e+""}function Qfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jfe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,c=function(g){var y=s[g],b,k=()=>(b===void 0&&(b=n(y,g)),b);if(g===a-1){var x=t*(y.coordinate+t*k()/2-l);s[g]=y=nr(nr({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else s[g]=y=nr(nr({},y),{},{tickCoord:y.coordinate});var _=$g(t,y.tickCoord,k,o,l);_&&(l=y.tickCoord-t*(k()/2+i),s[g]=nr(nr({},y),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return s}function Zfe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:c}=e;if(s){var d=r[o-1],m=n(d,o-1),g=t*(d.coordinate+t*m/2-c);a[o-1]=d=nr(nr({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate});var y=$g(t,d.tickCoord,()=>m,l,c);y&&(c=d.tickCoord-t*(m/2+i),a[o-1]=nr(nr({},d),{},{isShow:!0}))}for(var b=s?o-1:o,k=function(A){var C=a[A],D,R=()=>(D===void 0&&(D=n(C,A)),D);if(A===0){var L=t*(C.coordinate-t*R()/2-l);a[A]=C=nr(nr({},C),{},{tickCoord:L<0?C.coordinate-L*t:C.coordinate})}else a[A]=C=nr(nr({},C),{},{tickCoord:C.coordinate});var U=$g(t,C.tickCoord,R,l,c);U&&(l=C.tickCoord+t*(R()/2+i),a[A]=nr(nr({},C),{},{isShow:!0}))},x=0;x<b;x++)k(x);return a}function Sx(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:c,unit:d,angle:m}=t;if(!i||!i.length||!r)return[];if(De(l)||rh.isSsr){var g;return(g=Kfe(i,De(l)?l:0))!==null&&g!==void 0?g:[]}var y=[],b=o==="top"||o==="bottom"?"width":"height",k=d&&b==="width"?Td(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(C,D)=>{var R=typeof c=="function"?c(C.value,D):C.value;return b==="width"?Hfe(Td(R,{fontSize:e,letterSpacing:n}),k,m):Td(R,{fontSize:e,letterSpacing:n})[b]},_=i.length>=2?Ti(i[1].coordinate-i[0].coordinate):1,A=Wfe(s,_,b);return l==="equidistantPreserveStart"?Gfe(_,A,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?y=Zfe(_,A,x,i,a,l==="preserveStartEnd"):y=Jfe(_,A,x,i,a),y.filter(C=>C.isShow))}var eme=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>a&&(a=m.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,c=a+l+o+(n?r:0);return Math.round(c)}return 0},tme=["axisLine","width","height","className","hide","ticks"],nme=["viewBox"],rme=["viewBox"];function qb(t,e){if(t==null)return{};var n,r,i=ime(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ime(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(null,arguments)}function HT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HT(Object(n),!0).forEach(function(r){sme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sme(t,e,n){return(e=ame(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ame(t){var e=ome(t,"string");return typeof e=="symbol"?e:e+""}function ome(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ex={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function lme(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var c=dn(dn(dn({},l),Cs(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);c=dn(dn({},c),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var m=+(s==="left"&&!a||s==="right"&&a);c=dn(dn({},c),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return I.createElement("line",Xl({},c,{className:mt("recharts-cartesian-axis-line",hy(o,"className"))}))}function ume(t,e,n,r,i,s,a,o,l){var c,d,m,g,y,b,k=o?-1:1,x=t.tickSize||a,_=De(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":c=d=t.coordinate,g=n+ +!o*i,m=g-k*x,b=m-k*l,y=_;break;case"left":m=g=t.coordinate,d=e+ +!o*r,c=d-k*x,y=c-k*l,b=_;break;case"right":m=g=t.coordinate,d=e+ +o*r,c=d+k*x,y=c+k*l,b=_;break;default:c=d=t.coordinate,g=n+ +o*i,m=g+k*x,b=m+k*l,y=_;break}return{line:{x1:c,y1:m,x2:d,y2:g},tick:{x:y,y:b}}}function cme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function hme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function dme(t){var{option:e,tickProps:n,value:r}=t,i,s=mt(n.className,"recharts-cartesian-axis-tick-value");if(I.isValidElement(e))i=I.cloneElement(e,dn(dn({},n),{},{className:s}));else if(typeof e=="function")i=e(dn(dn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=mt(a,e==null?void 0:e.className)),i=I.createElement(gx,Xl({},n,{className:a}),r)}return i}function fme(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:s,unit:a,padding:o,tickTextProps:l,orientation:c,mirror:d,x:m,y:g,width:y,height:b,tickSize:k,tickMargin:x,fontSize:_,letterSpacing:A,getTicksConfig:C,events:D}=t,R=Sx(dn(dn({},C),{},{ticks:e}),_,A),L=cme(c,d),U=hme(c,d),G=Cs(C),Z=iy(n),J={};typeof r=="object"&&(J=r);var ne=dn(dn({},G),{},{fill:"none"},J),le=R.map((q,fe)=>{var{line:ge,tick:Te}=ume(q,m,g,y,b,c,k,d,x),Ie=dn(dn(dn(dn({textAnchor:L,verticalAnchor:U},G),{},{stroke:"none",fill:i},Z),Te),{},{index:fe,payload:q,visibleTicksCount:R.length,tickFormatter:s,padding:o},l);return I.createElement(nh,Xl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},LD(D,q,fe)),r&&I.createElement("line",Xl({},ne,ge,{className:mt("recharts-cartesian-axis-tick-line",hy(r,"className"))})),n&&I.createElement(dme,{option:n,tickProps:Ie,value:"".concat(typeof s=="function"?s(q.value,fe):q.value).concat(a||"")}))});return le.length>0?I.createElement("g",{className:"recharts-cartesian-axis-ticks"},le):null}var mme=I.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:o}=t,l=qb(t,tme),[c,d]=I.useState(""),[m,g]=I.useState(""),y=I.useRef(null);I.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var k;return eme({ticks:y.current,label:(k=t.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=I.useCallback(k=>{if(k){var x=k.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=x;var _=x[0];if(_){var A=window.getComputedStyle(_),C=A.fontSize,D=A.letterSpacing;(C!==c||D!==m)&&(d(C),g(D))}}},[c,m]);return a||r!=null&&r<=0||i!=null&&i<=0?null:I.createElement(nh,{className:mt("recharts-cartesian-axis",s),ref:b},I.createElement(lme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Cs(t)}),I.createElement(fme,{ticks:o,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:c,letterSpacing:m,getTicksConfig:t,events:l}),I.createElement(w0e,{x:t.x,y:t.y,width:t.width,height:t.height},I.createElement(C0e,{label:t.label,labelRef:t.labelRef}),t.children))}),pme=I.memo(mme,(t,e)=>{var{viewBox:n}=t,r=qb(t,nme),{viewBox:i}=e,s=qb(e,rme);return Dc(n,i)&&Dc(r,s)}),_x=I.forwardRef((t,e)=>{var n=Ri(t,Ex);return I.createElement(pme,Xl({},n,{ref:e}))});_x.displayName="CartesianAxis";var gme=["x1","y1","x2","y2","key"],yme=["offset"],vme=["xAxisId","yAxisId"],wme=["xAxisId","yAxisId"];function WT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(n),!0).forEach(function(r){bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bme(t,e,n){return(e=xme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xme(t){var e=kme(t,"string");return typeof e=="symbol"?e:e+""}function kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(null,arguments)}function Fg(t,e){if(t==null)return{};var n,r,i=Sme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Eme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:o}=t;return I.createElement("rect",{x:r,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function J$(t,e){var n;if(I.isValidElement(t))n=I.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:a,key:o}=e,l=Fg(e,gme),c=Cs(l),{offset:d}=c,m=Fg(c,yme);n=I.createElement("line",gl({},m,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function _me(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=Fg(t,vme),l=i.map((c,d)=>{var m=ir(ir({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(d),index:d});return J$(r,m)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Tme(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=Fg(t,wme),l=i.map((c,d)=>{var m=ir(ir({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(d),index:d});return J$(r,m)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ime(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var c=o.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==c[0]&&c.unshift(0);var d=c.map((m,g)=>{var y=!c[g+1],b=y?i+a-m:c[g+1]-m;if(b<=0)return null;var k=g%e.length;return I.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:b,width:s,stroke:"none",fill:e[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Ame(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==c[0]&&c.unshift(0);var d=c.map((m,g)=>{var y=!c[g+1],b=y?i+a-m:c[g+1]-m;if(b<=0)return null;var k=g%n.length;return I.createElement("rect",{key:"react-".concat(g),x:m,y:s,width:b,height:o,stroke:"none",fill:n[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Cme=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return zR(Sx(ir(ir(ir({},Ex),n),{},{ticks:BR(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Pme=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return zR(Sx(ir(ir(ir({},Ex),n),{},{ticks:BR(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Ome={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Z$(t){var e=p7(),n=g7(),r=QR(),i=ir(ir({},Ri(t,Ome)),{},{x:De(t.x)?t.x:r.left,y:De(t.y)?t.y:r.top,width:De(t.width)?t.width:r.width,height:De(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:c,height:d,syncWithTicks:m,horizontalValues:g,verticalValues:y}=i,b=ci(),k=Oe(Z=>mT(Z,"xAxis",s,b)),x=Oe(Z=>mT(Z,"yAxis",a,b));if(!De(c)||c<=0||!De(d)||d<=0||!De(o)||o!==+o||!De(l)||l!==+l)return null;var _=i.verticalCoordinatesGenerator||Cme,A=i.horizontalCoordinatesGenerator||Pme,{horizontalPoints:C,verticalPoints:D}=i;if((!C||!C.length)&&typeof A=="function"){var R=g&&g.length,L=A({yAxis:x?ir(ir({},x),{},{ticks:R?g:x.ticks}):void 0,width:e,height:n,offset:r},R?!0:m);bg(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(C=L)}if((!D||!D.length)&&typeof _=="function"){var U=y&&y.length,G=_({xAxis:k?ir(ir({},k),{},{ticks:U?y:k.ticks}):void 0,width:e,height:n,offset:r},U?!0:m);bg(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof G,"]")),Array.isArray(G)&&(D=G)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Eme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),I.createElement(Ime,gl({},i,{horizontalPoints:C})),I.createElement(Ame,gl({},i,{verticalPoints:D})),I.createElement(_me,gl({},i,{offset:r,horizontalPoints:C,xAxis:k,yAxis:x})),I.createElement(Tme,gl({},i,{offset:r,verticalPoints:D,xAxis:k,yAxis:x})))}Z$.displayName="CartesianGrid";var eF=(t,e,n,r)=>JL(t,"xAxis",e,r),tF=(t,e,n,r)=>QL(t,"xAxis",e,r),nF=(t,e,n,r)=>JL(t,"yAxis",n,r),rF=(t,e,n,r)=>QL(t,"yAxis",n,r),Nme=Q([It,eF,nF,tF,rF],(t,e,n,r,i)=>zo(t,"xAxis")?wb(e,r,!1):wb(n,i,!1)),Mme=(t,e,n,r,i)=>i;function Dme(t){return t.type==="line"}var Rme=Q([bL,Mme],(t,e)=>t.filter(Dme).find(n=>n.id===e)),jme=Q([It,eF,nF,tF,rF,Rme,Nme,U7],(t,e,n,r,i,s,a,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:m,data:g}=s,y;if(g!=null&&g.length>0?y=g:y=l==null?void 0:l.slice(c,d+1),y!=null)return spe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:a,displayedData:y})}});function Lme(t){var e=iy(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:n,strokeWidth:r}}var $me=["id"],Fme=["type","layout","connectNulls","needClip"],zme=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){Bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bme(t,e,n){return(e=Ume(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ume(t){var e=Vme(t,"string");return typeof e=="symbol"?e:e+""}function Vme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tx(t,e){if(t==null)return{};var n,r,i=qme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(null,arguments)}var Hme=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:UR(n,e),payload:t}]};function Wme(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:UR(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var iF=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Kme(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Gme=(t,e,n)=>{var r=n.reduce((m,g)=>m+g);if(!r)return iF(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>s){o=[...n.slice(0,l),s-c];break}var d=o.length%2===0?[0,a]:[a];return[...Kme(n,i),...o,...d].map(m=>"".concat(m,"px")).join(", ")};function Yme(t,e){var n;if(I.isValidElement(t))n=I.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=mt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=I.createElement(B$,Ql({},e,{className:r}))}return n}function Xme(t,e){return t==null?!1:e?!0:t.length===1}function Qme(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r;if(!Xme(n,i))return null;var{id:o}=r,l=Tx(r,$me),c=q$(i),d=Cs(l),m=ene(i),g=n.map((b,k)=>{var x=Xr(Xr(Xr({key:"dot-".concat(k),r:3},d),m),{},{index:k,cx:b.x,cy:b.y,dataKey:s,value:b.value,payload:b.payload,points:n});return Yme(i,x)}),y={clipPath:a?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return I.createElement(nh,Ql({className:"recharts-line-dots",key:"dots"},y),g)}function Jme(t){var{showLabels:e,children:n,points:r}=t,i=I.useMemo(()=>r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:0,height:0};return Xr(Xr({},a),{},{value:s.value,payload:s.payload,viewBox:a,parentViewBox:void 0,fill:void 0})}),[r]);return I.createElement(j0e,{value:e?i:null},n)}function GT(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:o,connectNulls:l,needClip:c}=s,d=Tx(s,Fme),m=Xr(Xr({},si(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:o,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return I.createElement(I.Fragment,null,(r==null?void 0:r.length)>1&&I.createElement(ej,Ql({},m,{pathRef:n})),I.createElement(Qme,{points:r,clipPathId:e,props:s}))}function Zme(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function epe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:m,animateNewValues:g,width:y,height:b,onAnimationEnd:k,onAnimationStart:x}=n,_=i.current,A=sj(n,"recharts-line-"),[C,D]=I.useState(!1),R=!C,L=I.useCallback(()=>{typeof k=="function"&&k(),D(!1)},[k]),U=I.useCallback(()=>{typeof x=="function"&&x(),D(!0)},[x]),G=Zme(r.current),Z=s.current;return I.createElement(Jme,{points:a,showLabels:R},n.children,I.createElement(ij,{animationId:A,begin:c,duration:d,isActive:l,easing:m,onAnimationEnd:L,onAnimationStart:U,key:A},J=>{var ne=Bs(Z,G+Z,J),le=Math.min(ne,G),q;if(l)if(o){var fe="".concat(o).split(/[,\s]+/gim).map(Ie=>parseFloat(Ie));q=Gme(le,G,fe)}else q=iF(G,le);else q=o==null?void 0:String(o);if(_){var ge=_.length/a.length,Te=J===1?a:a.map((Ie,he)=>{var we=Math.floor(he*ge);if(_[we]){var ee=_[we];return Xr(Xr({},Ie),{},{x:Bs(ee.x,Ie.x,J),y:Bs(ee.y,Ie.y,J)})}return g?Xr(Xr({},Ie),{},{x:Bs(y*2,Ie.x,J),y:Bs(b/2,Ie.y,J)}):Xr(Xr({},Ie),{},{x:Ie.x,y:Ie.y})});return i.current=Te,I.createElement(GT,{props:n,points:Te,clipPathId:e,pathRef:r,strokeDasharray:q})}return J>0&&G>0&&(i.current=a,s.current=le),I.createElement(GT,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:q})}),I.createElement(F0e,{label:n.label}))}function tpe(t){var{clipPathId:e,props:n}=t,r=I.useRef(null),i=I.useRef(0),s=I.useRef(null);return I.createElement(epe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var npe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:br(t.payload,e)});class rpe extends I.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:o,left:l,width:c,height:d,id:m,needClip:g}=this.props;if(e)return null;var y=mt("recharts-line",i),b=m,{r:k,strokeWidth:x}=Lme(n),_=q$(n),A=k*2+x;return I.createElement(I.Fragment,null,I.createElement(nh,{className:y},g&&I.createElement("defs",null,I.createElement(Mfe,{clipPathId:b,xAxisId:s,yAxisId:a}),!_&&I.createElement("clipPath",{id:"clipPath-dots-".concat(b)},I.createElement("rect",{x:l-A/2,y:o-A/2,width:c+A,height:d+A}))),I.createElement(Nfe,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:npe,errorBarOffset:0},I.createElement(tpe,{props:this.props,clipPathId:b}))),I.createElement(Efe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var sF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!rh.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function ipe(t){var e=Ri(t,sF),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:m,legendType:g,xAxisId:y,yAxisId:b,id:k}=e,x=Tx(e,zme),{needClip:_}=G$(y,b),A=xx(),C=y7(),D=ci(),R=Oe(J=>jme(J,y,b,D,k));if(C!=="horizontal"&&C!=="vertical"||R==null||A==null)return null;var{height:L,width:U,x:G,y:Z}=A;return I.createElement(rpe,Ql({},x,{id:k,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:c,label:m,legendType:g,xAxisId:y,yAxisId:b,points:R,layout:C,height:L,width:U,left:G,top:Z,needClip:_}))}function spe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:l}=t;return l.map((c,d)=>{var m=br(c,a);if(e==="horizontal"){var g=JE({axis:n,ticks:i,bandSize:o,entry:c,index:d}),y=An(m)?null:r.scale(m);return{x:g,y,value:m,payload:c}}var b=An(m)?null:n.scale(m),k=JE({axis:r,ticks:s,bandSize:o,entry:c,index:d});return b==null||k==null?null:{x:b,y:k,value:m,payload:c}}).filter(Boolean)}function ape(t){var e=Ri(t,sF),n=ci();return I.createElement(efe,{id:e.id,type:"line"},r=>I.createElement(I.Fragment,null,I.createElement(Y0e,{legendPayload:Hme(e)}),I.createElement(K0e,{fn:Wme,args:e}),I.createElement(afe,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),I.createElement(ipe,Ql({},e,{id:r}))))}var aF=I.memo(ape);aF.displayName="Line";var ope=["dangerouslySetInnerHTML","ticks"],lpe=["id"],upe=["domain"],cpe=["domain"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(null,arguments)}function zg(t,e){if(t==null)return{};var n,r,i=hpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dpe(t){var e=Mn();return I.useLayoutEffect(()=>(e(hfe(t)),()=>{e(dfe(t))}),[t,e]),null}var fpe=t=>{var{xAxisId:e,className:n}=t,r=Oe(qR),i=ci(),s="xAxis",a=Oe(x=>ch(x,s,e,i)),o=Oe(x=>XL(x,s,e,i)),l=Oe(x=>Hce(x,e)),c=Oe(x=>Qce(x,e)),d=Oe(x=>gL(x,e));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=t,y=zg(t,ope),{id:b}=d,k=zg(d,lpe);return I.createElement(_x,Hb({},y,k,{scale:a,x:c.x,y:c.y,width:l.width,height:l.height,className:mt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o}))},mpe={allowDataOverflow:Hr.allowDataOverflow,allowDecimals:Hr.allowDecimals,allowDuplicatedCategory:Hr.allowDuplicatedCategory,height:Hr.height,hide:!1,mirror:Hr.mirror,orientation:Hr.orientation,padding:Hr.padding,reversed:Hr.reversed,scale:Hr.scale,tickCount:Hr.tickCount,type:Hr.type,xAxisId:0},ppe=t=>{var e,n,r,i,s,a=Ri(t,mpe);return I.createElement(I.Fragment,null,I.createElement(dpe,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),I.createElement(fpe,a))},gpe=(t,e)=>{var{domain:n}=t,r=zg(t,upe),{domain:i}=e,s=zg(e,cpe);return Dc(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Dc({domain:n},{domain:i}):!1},oF=I.memo(ppe,gpe);oF.displayName="XAxis";var ype=["dangerouslySetInnerHTML","ticks"],vpe=["id"],wpe=["domain"],bpe=["domain"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(null,arguments)}function Bg(t,e){if(t==null)return{};var n,r,i=xpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kpe(t){var e=Mn();return I.useLayoutEffect(()=>(e(ffe(t)),()=>{e(mfe(t))}),[t,e]),null}var Spe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=I.useRef(null),a=I.useRef(null),o=Oe(qR),l=ci(),c=Mn(),d="yAxis",m=Oe(R=>ch(R,d,e,l)),g=Oe(R=>ehe(R,e)),y=Oe(R=>Zce(R,e)),b=Oe(R=>XL(R,d,e,l)),k=Oe(R=>yL(R,e));if(I.useLayoutEffect(()=>{if(!(r!=="auto"||!g||yx(i)||I.isValidElement(i)||k==null)){var R=s.current;if(R){var L=R.getCalculatedWidth();Math.round(g.width)!==Math.round(L)&&c(pfe({id:e,width:L}))}}},[b,g,c,i,e,r,k]),g==null||y==null||k==null)return null;var{dangerouslySetInnerHTML:x,ticks:_}=t,A=Bg(t,ype),{id:C}=k,D=Bg(k,vpe);return I.createElement(_x,Wb({},A,D,{ref:s,labelRef:a,scale:m,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:mt("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:b}))},Epe={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:Wr.allowDecimals,allowDuplicatedCategory:Wr.allowDuplicatedCategory,hide:!1,mirror:Wr.mirror,orientation:Wr.orientation,padding:Wr.padding,reversed:Wr.reversed,scale:Wr.scale,tickCount:Wr.tickCount,type:Wr.type,width:Wr.width,yAxisId:0},_pe=t=>{var e,n,r,i,s,a=Ri(t,Epe);return I.createElement(I.Fragment,null,I.createElement(kpe,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),I.createElement(Spe,a))},Tpe=(t,e)=>{var{domain:n}=t,r=Bg(t,wpe),{domain:i}=e,s=Bg(e,bpe);return Dc(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Dc({domain:n},{domain:i}):!1},lF=I.memo(_pe,Tpe);lF.displayName="YAxis";var Ipe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=I;function Ape(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cpe=typeof Object.is=="function"?Object.is:Ape,Ppe=kf.useSyncExternalStore,Ope=kf.useRef,Npe=kf.useEffect,Mpe=kf.useMemo,Dpe=kf.useDebugValue;Ipe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Ope(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Mpe(function(){function l(y){if(!c){if(c=!0,d=y,y=r(y),i!==void 0&&a.hasValue){var b=a.value;if(i(b,y))return m=b}return m=y}if(b=m,Cpe(d,y))return b;var k=r(y);return i!==void 0&&i(b,k)?(d=y,b):(d=y,m=k)}var c=!1,d,m,g=n===void 0?null:n;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,n,r,i]);var o=Ppe(t,s[0],s[1]);return Npe(function(){a.hasValue=!0,a.value=o},[o]),Dpe(o),o};function Rpe(t){t()}function jpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Rpe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var YT={notify(){},get:()=>[]};function Lpe(t,e){let n,r=YT,i=0,s=!1;function a(k){d();const x=r.subscribe(k);let _=!1;return()=>{_||(_=!0,x(),m())}}function o(){r.notify()}function l(){b.onStateChange&&b.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(l),r=jpe())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=YT)}function g(){s||(s=!0,d())}function y(){s&&(s=!1,m())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return b}var $pe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fpe=$pe(),zpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Bpe=zpe(),Upe=()=>Fpe||Bpe?I.useLayoutEffect:I.useEffect,Vpe=Upe(),l2=Symbol.for("react-redux-context"),u2=typeof globalThis<"u"?globalThis:{};function qpe(){if(!I.createContext)return{};const t=u2[l2]??(u2[l2]=new Map);let e=t.get(I.createContext);return e||(e=I.createContext(null),t.set(I.createContext,e)),e}var Hpe=qpe();function Wpe(t){const{children:e,context:n,serverState:r,store:i}=t,s=I.useMemo(()=>{const l=Lpe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=I.useMemo(()=>i.getState(),[i]);Vpe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||Hpe;return I.createElement(o.Provider,{value:s},e)}var Kpe=Wpe,Gpe=(t,e)=>e,Ix=Q([Gpe,It,dL,vn,m$,Ca,sde,Xn],cde),Ax=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},uF=Mi("mouseClick"),cF=cf();cF.startListening({actionCreator:uF,effect:(t,e)=>{var n=t.payload,r=Ix(e.getState(),Ax(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(dhe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Kb=Mi("mouseMove"),hF=cf();hF.startListening({actionCreator:Kb,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=ox(r,r.tooltip.settings.shared),s=Ix(r,Ax(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(s$({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(i$()))}});var XT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},dF=ui({name:"rootProps",initialState:XT,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:XT.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Ype=dF.reducer,{updateOptions:Xpe}=dF.actions,fF=ui({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:S1e}=fF.actions,Qpe=fF.reducer,mF=Mi("keyDown"),pF=Mi("focus"),Cx=cf();Cx.startListening({actionCreator:mF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(lx(i,dh(n))),o=Ca(n);if(s==="Enter"){var l=jg(n,"axis","hover",String(i.index));e.dispatch(Fb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=ihe(n),d=c==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,g=a+m*d;if(!(o==null||g>=o.length||g<0)){var y=jg(n,"axis","hover",String(g));e.dispatch(Fb({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});Cx.startListening({actionCreator:pF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=jg(n,"axis","hover",String(s));e.dispatch(Fb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var wi=Mi("externalEvent"),gF=cf();gF.startListening({actionCreator:wi,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Yhe(n),activeDataKey:Khe(n),activeIndex:C0(n),activeLabel:y$(n),activeTooltipIndex:C0(n),isTooltipActive:Xhe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Jpe=Q([hh],t=>t.tooltipItemPayloads),Zpe=Q([Jpe,bf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),yF=Mi("touchMove"),vF=cf();vF.startListening({actionCreator:yF,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=ox(r,r.tooltip.settings.shared);if(i==="axis"){var s=Ix(r,Ax({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(s$({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(cse),d=(a=l.getAttribute(hse))!==null&&a!==void 0?a:void 0,m=Zpe(e.getState(),c,d);e.dispatch(hhe({activeDataKey:d,activeIndex:c,activeCoordinate:m}))}}});var ege=mR({brush:Rfe,cartesianAxis:gfe,chartData:Tde,errorBars:Tfe,graphicalItems:sfe,layout:jie,legend:Bse,options:xde,polarAxis:B0e,polarOptions:Qpe,referenceElements:Ufe,rootProps:Ype,tooltip:fhe}),tge=function(e){return oie({reducer:ege,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([cF.middleware,hF.middleware,Cx.middleware,gF.middleware,vF.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(TR({type:"raf"}))},devTools:rh.devToolsEnabled})};function nge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ci(),s=I.useRef(null);if(i)return n;s.current==null&&(s.current=tge(e));var a=a7;return I.createElement(Kpe,{context:a,store:s.current},n)}function rge(t){var{layout:e,margin:n}=t,r=Mn(),i=ci();return I.useEffect(()=>{i||(r(Mie(e)),r(Nie(n)))},[r,i,e,n]),null}function ige(t){var e=Mn();return I.useEffect(()=>{e(Xpe(t))},[e,t]),null}var sge=["children"];function age(t,e){if(t==null)return{};var n,r,i=oge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(null,arguments)}var lge={width:"100%",height:"100%",display:"block"},uge=I.forwardRef((t,e)=>{var n=p7(),r=g7(),i=ZR();if(!Cc(n)||!Cc(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,c,d;return typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,I.createElement(V6,Ug({},a,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:lge,ref:e}),s)}),cge=t=>{var{children:e}=t,n=Oe(Sy);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return I.createElement(V6,{width:r,height:i,x:a,y:s},e)},QT=I.forwardRef((t,e)=>{var{children:n}=t,r=age(t,sge),i=ci();return i?I.createElement(cge,null,n):I.createElement(uge,Ug({ref:e},r),n)});function hge(){var t=Mn(),[e,n]=I.useState(null),r=Oe(use);return I.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;zr(s)&&s!==r&&t(Rie(s))}},[e,t,r]),n}function JT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JT(Object(n),!0).forEach(function(r){fge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fge(t,e,n){return(e=mge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mge(t){var e=pge(t,"string");return typeof e=="symbol"?e:e+""}function pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(null,arguments)}var gge=()=>(Rde(),null);function Vg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var yge=I.forwardRef((t,e)=>{var n,r,i=I.useRef(null),[s,a]=I.useState({containerWidth:Vg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Vg((r=t.style)===null||r===void 0?void 0:r.height)}),o=I.useCallback((c,d)=>{a(m=>{var g=Math.round(c),y=Math.round(d);return m.containerWidth===g&&m.containerHeight===y?m:{containerWidth:g,containerHeight:y}})},[]),l=I.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:m}=c.getBoundingClientRect();o(d,m);var g=b=>{var{width:k,height:x}=b[0].contentRect;o(k,x)},y=new ResizeObserver(g);y.observe(c),i.current=y}},[e,o]);return I.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),I.createElement(I.Fragment,null,I.createElement(_y,{width:s.containerWidth,height:s.containerHeight}),I.createElement("div",Jl({ref:l},t)))}),vge=I.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=I.useState({containerWidth:Vg(n),containerHeight:Vg(r)}),a=I.useCallback((l,c)=>{s(d=>{var m=Math.round(l),g=Math.round(c);return d.containerWidth===m&&d.containerHeight===g?d:{containerWidth:m,containerHeight:g}})},[]),o=I.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();a(c,d)}},[e,a]);return I.createElement(I.Fragment,null,I.createElement(_y,{width:i.containerWidth,height:i.containerHeight}),I.createElement("div",Jl({ref:o},t)))}),wge=I.forwardRef((t,e)=>{var{width:n,height:r}=t;return I.createElement(I.Fragment,null,I.createElement(_y,{width:n,height:r}),I.createElement("div",Jl({ref:e},t)))}),bge=I.forwardRef((t,e)=>{var{width:n,height:r}=t;return ca(n)||ca(r)?I.createElement(vge,Jl({},t,{ref:e})):I.createElement(wge,Jl({},t,{ref:e}))});function xge(t){return t===!0?yge:bge}var kge=I.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:m,onMouseUp:g,onTouchEnd:y,onTouchMove:b,onTouchStart:k,style:x,width:_,responsive:A,dispatchTouchEvents:C=!0}=t,D=I.useRef(null),R=Mn(),[L,U]=I.useState(null),[G,Z]=I.useState(null),J=hge(),ne=m7(),le=(ne==null?void 0:ne.width)>0?ne.width:_,q=(ne==null?void 0:ne.height)>0?ne.height:i,fe=I.useCallback(ae=>{J(ae),typeof e=="function"&&e(ae),U(ae),Z(ae),ae!=null&&(D.current=ae)},[J,e,U,Z]),ge=I.useCallback(ae=>{R(uF(ae)),R(wi({handler:s,reactEvent:ae}))},[R,s]),Te=I.useCallback(ae=>{R(Kb(ae)),R(wi({handler:c,reactEvent:ae}))},[R,c]),Ie=I.useCallback(ae=>{R(i$()),R(wi({handler:d,reactEvent:ae}))},[R,d]),he=I.useCallback(ae=>{R(Kb(ae)),R(wi({handler:m,reactEvent:ae}))},[R,m]),we=I.useCallback(()=>{R(pF())},[R]),ee=I.useCallback(ae=>{R(mF(ae.key))},[R]),Ue=I.useCallback(ae=>{R(wi({handler:a,reactEvent:ae}))},[R,a]),He=I.useCallback(ae=>{R(wi({handler:o,reactEvent:ae}))},[R,o]),bn=I.useCallback(ae=>{R(wi({handler:l,reactEvent:ae}))},[R,l]),jn=I.useCallback(ae=>{R(wi({handler:g,reactEvent:ae}))},[R,g]),ht=I.useCallback(ae=>{R(wi({handler:k,reactEvent:ae}))},[R,k]),Br=I.useCallback(ae=>{C&&R(yF(ae)),R(wi({handler:b,reactEvent:ae}))},[R,C,b]),es=I.useCallback(ae=>{R(wi({handler:y,reactEvent:ae}))},[R,y]),fh=xge(A);return I.createElement(S$.Provider,{value:L},I.createElement(mD.Provider,{value:G},I.createElement(fh,{width:le??(x==null?void 0:x.width),height:q??(x==null?void 0:x.height),className:mt("recharts-wrapper",r),style:dge({position:"relative",cursor:"default",width:le,height:q},x),onClick:ge,onContextMenu:Ue,onDoubleClick:He,onFocus:we,onKeyDown:ee,onMouseDown:bn,onMouseEnter:Te,onMouseLeave:Ie,onMouseMove:he,onMouseUp:jn,onTouchEnd:es,onTouchMove:Br,onTouchStart:ht,ref:fe},I.createElement(gge,null),n)))}),Sge=["width","height","responsive","children","className","style","compact","title","desc"];function Ege(t,e){if(t==null)return{};var n,r,i=_ge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tge=I.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:c,desc:d}=t,m=Ege(t,Sge),g=Cs(m);return l?I.createElement(I.Fragment,null,I.createElement(_y,{width:n,height:r}),I.createElement(QT,{otherAttributes:g,title:c,desc:d},s)):I.createElement(kge,{className:a,style:o,width:n,height:r,responsive:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},I.createElement(QT,{otherAttributes:g,title:c,desc:d,ref:e},I.createElement(qfe,null,s)))});function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(null,arguments)}var Ige={top:5,right:5,bottom:5,left:5},Age={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ige,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Cge=I.forwardRef(function(e,n){var r,i=Ri(e.categoricalChartProps,Age),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return I.createElement(nge,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:s},I.createElement(Dfe,{chartData:c.data}),I.createElement(rge,{layout:i.layout,margin:i.margin}),I.createElement(ige,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),I.createElement(Tge,Gb({},i,{ref:n})))}),Pge=["axis"],Oge=I.forwardRef((t,e)=>I.createElement(Cge,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pge,tooltipPayloadSearcher:wde,categoricalChartProps:t,ref:e}));const Nge=({attempts:t})=>{if(!t||t.length===0)return null;const e=t.map((n,r)=>({name:`Attempt ${r+1}`,skor:n.score})).reverse();return T.jsxs("div",{className:"grafik-progres",style:{height:"300px",marginTop:"2rem"},children:[T.jsx("h3",{children:"Grafik Tren Skor"}),T.jsx(Dse,{width:"100%",height:"100%",minHeight:0,children:T.jsxs(Oge,{data:e,children:[T.jsx(Z$,{strokeDasharray:"3 3"}),T.jsx(oF,{dataKey:"name"}),T.jsx(lF,{domain:[0,100]}),T.jsx(Vde,{}),T.jsx(Ty,{}),T.jsx(aF,{type:"monotone",dataKey:"skor",stroke:"#8884d8",activeDot:{r:8}})]})})]})},Mge=({attempts:t})=>!t||t.length===0?T.jsx("p",{children:"Anda belum pernah mengerjakan kuis. Coba kerjakan kuis untuk melihat progres Anda di sini!"}):T.jsx("div",{className:"tabel-riwayat",style:{marginTop:"2rem"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{style:{border:"1px solid #ddd",padding:"8px"},children:"Tanggal"}),T.jsx("th",{style:{border:"1px solid #ddd",padding:"8px"},children:"Skor"}),T.jsx("th",{style:{border:"1px solid #ddd",padding:"8px"},children:"Jawaban Benar"})]})}),T.jsx("tbody",{children:t.map(e=>{var n;return T.jsxs("tr",{children:[T.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:new Date((n=e.timestamp)==null?void 0:n.toDate()).toLocaleString()}),T.jsxs("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[e.score.toFixed(2),"%"]}),T.jsxs("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[e.correctAnswers," / ",e.totalQuestions]})]},e.id)})})]})}),Dge=()=>{const{currentUser:t}=uu(),[e,n]=I.useState([]),[r,i]=I.useState(!0);return I.useEffect(()=>{if(!t)return;(async()=>{try{const o=(await Fu.collection("quiz_attempts").where("userId","==",t.uid).orderBy("timestamp","desc").get()).docs.map(l=>({id:l.id,...l.data()}));n(o)}catch(a){console.error("Error fetching quiz attempts: ",a)}i(!1)})()},[t]),r?T.jsx("div",{style:{padding:"2rem"},children:T.jsx("h2",{children:"Memuat data..."})}):T.jsxs("div",{className:"dashboard-container",style:{padding:"2rem"},children:[T.jsx("h1",{children:"Dasbor Progres Saya"}),e.length===0?T.jsx("p",{children:"Anda belum pernah mengerjakan kuis. Coba kerjakan kuis untuk melihat progres Anda di sini!"}):T.jsxs(T.Fragment,{children:[T.jsxs("section",{"aria-labelledby":"stats-heading",children:[T.jsx("h2",{id:"stats-heading",className:"sr-only",children:"Statistik Utama"}),T.jsx(Qte,{attempts:e})]}),T.jsxs("section",{"aria-labelledby":"progress-graph-heading",children:[T.jsx("h2",{id:"progress-graph-heading",className:"sr-only",children:"Grafik Progres"}),T.jsx(Nge,{attempts:e})]}),T.jsxs("section",{"aria-labelledby":"history-table-heading",children:[T.jsx("h2",{id:"history-table-heading",className:"sr-only",children:"Riwayat Pengerjaan"}),T.jsx(Mge,{attempts:e})]})]})]})};function Rge(){return T.jsxs(rq,{children:[T.jsx(Fi,{path:"/",element:T.jsx(zte,{})}),T.jsx(Fi,{element:T.jsx(Bte,{}),children:T.jsxs(Fi,{element:T.jsx(yte,{}),children:[T.jsx(Fi,{path:"/home",element:T.jsx(vte,{})}),T.jsx(Fi,{path:"/materi",element:T.jsx(Ate,{})}),T.jsx(Fi,{path:"/simulasi",element:T.jsx(jte,{})}),T.jsx(Fi,{path:"/proyektor-vektor",element:T.jsx(Vte,{})}),T.jsx(Fi,{path:"/palet-rgb",element:T.jsx(Xte,{})}),T.jsx(Fi,{path:"/kuis",element:T.jsx(Fte,{})}),T.jsx(Fi,{path:"/dashboard",element:T.jsx(Dge,{})})]})})]})}c2.createRoot(document.getElementById("root")).render(T.jsx(Zb.StrictMode,{children:T.jsx(hq,{children:T.jsx(hte,{children:T.jsx(Rge,{})})})}));
